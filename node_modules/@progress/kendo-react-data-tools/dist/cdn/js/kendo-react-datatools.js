/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-react-common"),require("@progress/kendo-react-buttons"),require("@progress/kendo-react-intl"),require("@progress/kendo-react-inputs"),require("@progress/kendo-react-dropdowns"),require("@progress/kendo-svg-icons"),require("react-dom"),require("@progress/kendo-data-query"),require("@progress/kendo-react-dateinputs"),require("@progress/kendo-react-popup"),require("@progress/kendo-react-animation")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-react-common","@progress/kendo-react-buttons","@progress/kendo-react-intl","@progress/kendo-react-inputs","@progress/kendo-react-dropdowns","@progress/kendo-svg-icons","react-dom","@progress/kendo-data-query","@progress/kendo-react-dateinputs","@progress/kendo-react-popup","@progress/kendo-react-animation"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactDatatools={},e.React,e.PropTypes,e.KendoReactCommon,e.KendoReactButtons,e.KendoReactIntl,e.KendoReactInputs,e.KendoReactDropdowns,e.KendoSvgIcons,e.ReactDOM,e.KendoDataQuery,e.KendoReactDateinputs,e.KendoReactPopup,e.KendoReactAnimation)}(this,(function(e,t,r,n,a,o,s,i,l,c,u,p,d,h){"use strict";function g(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var m=g(t),f=g(c);const v="pager.info",E="pager.firstPage",C="pager.previousPage",b="pager.nextPage",y="pager.lastPage",x="pager.itemsPerPage",k="pager.page",I="pager.of",S="pager.totalPages",R="pager.pageNumberLabel",F="pager.ariaKeyshortcuts",L="pager.pageSizeAriaLabel",D="pager.mobileSelect",N="pager.moreButtonLabel",M="filter.eqOperator",w="filter.notEqOperator",K="filter.isNullOperator",P="filter.isNotNullOperator",A="filter.isEmptyOperator",O="filter.isNotEmptyOperator",T="filter.startsWithOperator",q="filter.containsOperator",z="filter.notContainsOperator",B="filter.endsWithOperator",G="filter.gteOperator",_="filter.gtOperator",H="filter.lteOperator",$="filter.ltOperator",W="filter.isTrue",Y="filter.isFalse",j="filter.afterOrEqualOperator",X="filter.afterOperator",V="filter.beforeOperator",U="filter.beforeOrEqualOperator",Q="filter.andLogic",Z="filter.orLogic",J="filter.addExpression",ee="filter.addGroup",te="filter.close",re="filter.groupAriaLabel",ne="filter.expressionAriaLabel",ae="filter.expressionDropdownAriaLabel",oe="filter.expressionOperatorDropdownAriaLabel",se="filter.enumFilterDropdownAriaLabel",ie="filter.numericFilterAriaLabel",le="filter.textFilterAriaLabel",ce="columnMenu.filterClearButton",ue="columnMenu.filterSubmitButton",pe="columnMenu.filterTitle",de="columnMenu.sortAscending",he="columnMenu.sortDescending",ge="columnMenu.filterEqOperator",me="columnMenu.filterNotEqOperator",fe="columnMenu.filterIsNullOperator",ve="columnMenu.filterIsNotNullOperator",Ee="columnMenu.filterIsEmptyOperator",Ce="columnMenu.filterIsNotEmptyOperator",be="columnMenu.filterStartsWithOperator",ye="columnMenu.filterContainsOperator",xe="columnMenu.filterNotContainsOperator",ke="columnMenu.filterEndsWithOperator",Ie="columnMenu.filterGteOperator",Se="columnMenu.filterGtOperator",Re="columnMenu.filterLteOperator",Fe="columnMenu.filterLtOperator",Le="columnMenu.filterIsTrue",De="columnMenu.filterAfterOrEqualOperator",Ne="columnMenu.filterAfterOperator",Me="columnMenu.filterBeforeOperator",we="columnMenu.filterBeforeOrEqualOperator",Ke="columnMenu.filterAndLogic",Pe="columnMenu.filterOrLogic",Ae="sort.ariaLabel",Oe="filter.ariaLabel",Te={[x]:"items per page","pager.pageSelection":"Select page",[v]:"{0} - {1} of {2} items",[E]:"Go to the first page",[C]:"Go to the previous page",[b]:"Go to the next page",[y]:"Go to the last page",[k]:"Page",[I]:"of",[S]:"{0}","pager.pageLabel":"Page",[F]:"Enter ArrowRight ArrowLeft","pager.ariaLabel":"Pager",[L]:"Page size",[D]:"Select",[N]:"More pages",[R]:"Type a page number",[Ae]:"Sortable",[Oe]:"Filter",[M]:"Is equal to",[w]:"Is not equal to",[K]:"Is null",[P]:"Is not null",[A]:"Is empty",[O]:"Is not empty",[T]:"Starts with",[q]:"Contains",[z]:"Does not contain",[B]:"Ends with",[G]:"Is greater than or equal to",[_]:"Is greater than",[H]:"Is less than or equal to",[$]:"Is less than",[W]:"Is true",[Y]:"Is false",[j]:"Is after or equal to",[X]:"Is after",[V]:"Is before",[U]:"Is before or equal to",[Q]:"And",[Z]:"Or",[J]:"Add Expression",[ee]:"Add Group",[te]:"Remove",[re]:"Filter toolbar",[ne]:"Filter expression row",[ae]:"Filter dropdown",[oe]:"Filter operator dropdown",[se]:"Select True/False",[ie]:"Enter number",[le]:"Enter text",[ce]:"Clear",[ue]:"Filter",[pe]:"Filter",[de]:"Sort Ascending",[he]:"Sort Descending",[ge]:"Is equal to",[me]:"Is not equal to",[fe]:"Is null",[ve]:"Is not null",[Ee]:"Is empty",[Ce]:"Is not empty",[be]:"Starts with",[ye]:"Contains",[xe]:"Does not contain",[ke]:"Ends with",[Ie]:"Is greater than or equal to",[Se]:"Is greater than",[Re]:"Is less than or equal to",[Fe]:"Is less than",[Le]:"Is true",[De]:"Is after or equal to",[Ne]:"Is after",[Me]:"Is before",[we]:"Is before or equal to",[Ke]:"And",[Pe]:"Or"};let qe=class extends m.Component{constructor(){super(...arguments),this.handlePageChange=(e,t)=>{e.preventDefault(),this.props.pageChange(t,e)},this.handleSelectPageChange=e=>{e.preventDefault(),this.props.pageChange(e.target.value,e)}}render(){const e=o.provideLocalizationService(this),{messagesMap:t,size:r,totalPages:s,currentPage:i,type:l,navigatable:c}=this.props,u=t?t(D):{messageKey:D,defaultMessage:Te[D]},p=t?t(k):{messageKey:k,defaultMessage:Te[k]},d=t?t(N):{messageKey:N,defaultMessage:Te[N]},h=e.toLanguageString(d.messageKey,d.defaultMessage),g=this.start>1&&this.renderDots(this.start-1,h),f=this.end<s&&this.renderDots(this.end+1,h),v=this.start>1&&this.renderOptionDots(this.start-1),E=this.end<s&&this.renderOptionDots(this.end+1),C=[];for(let e=this.start;e<=this.end;e++)C.push(e);const b=C.map((t=>m.createElement(a.Button,{className:n.classNames({"k-selected":i===t}),key:t,fillMode:"flat",themeColor:"primary",size:r,rounded:null,role:"button","aria-label":e.toLanguageString(p.messageKey,p.defaultMessage)+" "+t,"aria-current":i===t||void 0,onClick:e=>this.handlePageChange(e,t),tabIndex:c?-1:void 0},t))),y=C.map((e=>m.createElement("option",{key:e},e)));return m.createElement(m.Fragment,null,m.createElement("select",{style:{width:"5em",margin:"0px 1em",display:"inline-flex"},className:n.classNames("k-picker k-dropdown-list k-dropdown k-rounded-md k-picker-solid",{[`k-picker-${n.kendoThemeMaps.sizeMap[r]||r}`]:r,"k-hidden":"dropdown"!==l}),"aria-label":e.toLanguageString(u.messageKey,u.defaultMessage),value:i,onChange:e=>this.handleSelectPageChange(e)},v,y,E),m.createElement("div",{className:"k-pager-numbers",style:{display:"numbers"===l?"":"none"}},g,b,f))}get end(){return Math.min(this.start+this.props.buttonCount-1,this.props.totalPages)}get start(){const e=this.props.currentPage,t=this.props.buttonCount;if(e>t){const r=e%t;return 0===r?e-t+1:e-r+1}return 1}renderDots(e,t){return m.createElement(a.Button,{fillMode:"flat",themeColor:"primary",size:this.props.size,rounded:null,role:"button","aria-label":t,onClick:t=>this.handlePageChange(t,e),tabIndex:this.props.navigatable?-1:void 0},"...")}renderOptionDots(e){return m.createElement("option",{value:e},"...")}},ze=class extends m.Component{constructor(){super(...arguments),this.state={page:this.props.currentPage},this.handleOnChange=e=>{this.setState({page:e.target.value}),e.target.value&&this.props.pageChange(e.target.value,e)}}render(){const e=o.provideIntlService(this),t=o.provideLocalizationService(this),r=this.props.messagesMap?this.props.messagesMap(k):{messageKey:k,defaultMessage:Te[k]},n=this.props.messagesMap?this.props.messagesMap(I):{messageKey:I,defaultMessage:Te[I]},a=this.props.messagesMap?this.props.messagesMap(S):{messageKey:S,defaultMessage:Te[S]},i=this.props.messagesMap?this.props.messagesMap(S):{messageKey:R,defaultMessage:Te[R]};return m.createElement("span",{className:"k-pager-input"},m.createElement("span",null,t.toLanguageString(r.messageKey,r.defaultMessage)),m.createElement(s.NumericTextBox,{value:void 0!==this.props.currentPage?this.props.currentPage:this.state.page,onChange:this.handleOnChange,min:1,spinners:!1,ariaLabel:t.toLanguageString(i.messageKey,i.defaultMessage),tabIndex:this.props.navigatable?-1:void 0}),m.createElement("span",null,`${t.toLanguageString(n.messageKey,n.defaultMessage)} ${e.format(t.toLanguageString(a.messageKey,a.defaultMessage),[this.props.totalPages])}`))}};o.registerForLocalization(ze);let Be=class extends m.Component{constructor(){super(...arguments),this.pageSizeChange=e=>{this.props.pageChange&&this.props.pageChange({skip:0,take:parseInt(e.target.value,10)},e)}}render(){const{value:e,pageSizes:t,pageSize:r,messagesMap:n,size:a,navigatable:s}=this.props,l=t.slice();void 0===e&&0===l.filter((e=>e===r)).length&&l.unshift(r);const c=n?n(x):{messageKey:x,defaultMessage:Te[x]},u=n?n(L):{messageKey:L,defaultMessage:Te[L]};return m.createElement("span",{className:"k-pager-sizes"},m.createElement(i.DropDownList,{value:void 0!==e?e:r,data:l,onChange:this.pageSizeChange,ariaLabel:o.provideLocalizationService(this).toLanguageString(u.messageKey,u.defaultMessage),size:a,tabIndex:s?-1:void 0}),m.createElement("span",null,o.provideLocalizationService(this).toLanguageString(c.messageKey,c.defaultMessage)))}};o.registerForLocalization(Be);const Ge={name:"@progress/kendo-react-data-tools",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:0,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},_e=class extends m.Component{constructor(e){super(e),this._element=null,this.onPageChange=(e,t)=>{const r={target:this,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,targetEvent:t,...e};this.props.onPageChange&&this.props.onPageChange.call(void 0,r)},this.changePage=(e,t)=>{this.props.onPageChange&&e>0&&e<=this.totalPages&&this.props.onPageChange({target:this,skip:(e-1)*this.props.take,take:this.props.take,syntheticEvent:t,nativeEvent:t.nativeEvent,targetEvent:t})},this.onWindowResize=()=>{const e=this.element;if(!e||!this.props.responsive)return;const t=e.offsetWidth;t<600?this.setState({showPagerSizes:!1}):t>=600&&t<768?this.setState({showPagerInfo:!1,showPagerSizes:!0}):this.setState({showPagerInfo:!0,showPagerSizes:!0})},this.onKeyDown=e=>{const t=this.element,r=e.keyCode;!t||!this.props.navigatable||((r===n.Keys.home||e.metaKey&&r===n.Keys.left)&&this.changePage(1,e),(r===n.Keys.end||e.metaKey&&r===n.Keys.right)&&this.changePage(this.totalPages,e),document.activeElement===t?(r===n.Keys.enter&&(n.focusFirstFocusableChild(t),n.enableNavigatableContainer(t)),(r===n.Keys.left||r===n.Keys.up)&&this.changePage(this.currentPage-1,e),(r===n.Keys.right||r===n.Keys.down)&&this.changePage(this.currentPage+1,e)):(r===n.Keys.esc&&(t.focus(),n.disableNavigatableContainer(t)),n.keepFocusInContainer(e,t,n.TABBABLE_ELEMENTS)))},n.validatePackage(Ge),this.state={showPagerSizes:!0,showPagerInfo:!0,innerNavigateActive:!1}}get isRtl(){return"rtl"===this.props.dir}get currentPage(){return Math.floor(this.props.skip/this.props.take)+1}get element(){return this._element}componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}render(){const{showPagerSizes:e,showPagerInfo:t}=this.state,{skip:r,take:a,total:s,pageSizes:i,size:c,responsive:u,messagesMap:p,dir:d,style:h,pageSizeValue:g,previousNext:f,className:x,navigatable:R,disabled:L}=this.props,D=o.provideLocalizationService(this),N=o.provideIntlService(this),M=this.currentPage,w="numeric"===this.props.type?m.createElement(qe,{type:u&&!e?"dropdown":"numbers",buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:this.currentPage,pageChange:this.changePage,messagesMap:this.props.messagesMap,size:c,navigatable:R}):m.createElement(ze,{buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:M,pageChange:this.changePage,messagesMap:p,size:c,navigatable:R}),K=p?p(E):{messageKey:E,defaultMessage:Te[E]},P=p?p(C):{messageKey:C,defaultMessage:Te[C]},A=p?p(b):{messageKey:b,defaultMessage:Te[b]},O=p?p(y):{messageKey:y,defaultMessage:Te[y]},T=p?p(v):{messageKey:v,defaultMessage:Te[v]},q=p?p(F):{messageKey:F,defaultMessage:Te[F]},z=p?p(k):{messageKey:k,defaultMessage:Te[k]},B=p?p(I):{messageKey:I,defaultMessage:Te[I]},G=p?p(S):{messageKey:S,defaultMessage:Te[S]},_=`${D.toLanguageString(z.messageKey,z.defaultMessage)} ${N.format(D.toLanguageString(G.messageKey,G.defaultMessage),[M])} ${D.toLanguageString(B.messageKey,B.defaultMessage)} ${N.format(D.toLanguageString(G.messageKey,G.defaultMessage),[this.totalPages])}`;let H,$,W,Y;f&&(H=this.renderButton(1,"k-pager-nav k-pager-first"+(1!==M||L?"":" k-disabled"),D.toLanguageString(K.messageKey,K.defaultMessage),this.isRtl?"caret-alt-to-right":"caret-alt-to-left",this.isRtl?l.caretAltToRightIcon:l.caretAltToLeftIcon,1===M||void 0),$=this.renderButton(M-1,"k-pager-nav"+(1!==M||L?"":" k-disabled"),D.toLanguageString(P.messageKey,P.defaultMessage),this.isRtl?"caret-alt-right":"caret-alt-left",this.isRtl?l.caretAltRightIcon:l.caretAltLeftIcon,1===M||void 0),W=this.renderButton(M+1,"k-pager-nav"+(M>=this.totalPages&&!L?" k-disabled":""),D.toLanguageString(A.messageKey,A.defaultMessage),this.isRtl?"caret-alt-left":"caret-alt-right",this.isRtl?l.caretAltLeftIcon:l.caretAltRightIcon,M>=this.totalPages||void 0),Y=this.renderButton(this.totalPages,"k-pager-nav k-pager-last"+(M>=this.totalPages&&!L?" k-disabled":""),D.toLanguageString(O.messageKey,O.defaultMessage),this.isRtl?"caret-alt-to-left":"caret-alt-to-right",this.isRtl?l.caretAltToLeftIcon:l.caretAltToRightIcon,M>=this.totalPages||void 0));const j=i&&m.createElement(Be,{pageChange:this.onPageChange,pageSize:a,pageSizes:i,value:g,messagesMap:p,size:c,navigatable:R}),X=this.props.info&&m.createElement("span",{className:"k-pager-info"},N.format(D.toLanguageString(T.messageKey,T.defaultMessage),[Math.min(r+1,s),Math.min(r+a,s),s]));return m.createElement("div",{className:n.classNames("k-pager",{[`k-pager-${n.kendoThemeMaps.sizeMap[c]||c}`]:c,"k-disabled":L},x),style:h,role:"application","aria-roledescription":"pager",dir:d,"aria-keyshortcuts":D.toLanguageString(q.messageKey,q.defaultMessage),"aria-label":_,ref:e=>this._element=e,tabIndex:R?0:void 0,onKeyDown:this.onKeyDown},m.createElement("div",{className:n.classNames("k-pager-numbers-wrap")},H,$,w,W,Y),u?e&&j:j,u?t&&X:X)}renderButton(e,t,r,n,o,s){return m.createElement(a.Button,{fillMode:"flat",themeColor:"base",size:this.props.size,rounded:null,className:t,icon:n,svgIcon:o,title:r,role:"button","aria-disabled":s,tabIndex:this.props.navigatable?-1:void 0,onClick:t=>{t.preventDefault(),this.changePage(e,t)}})}get totalPages(){return Math.ceil((this.props.total||0)/this.props.take)}};_e.propTypes={className:r.string,style:r.object,total:r.number.isRequired,skip:r.number.isRequired,take:r.number.isRequired,buttonCount:r.number,info:r.bool,type:r.oneOf(["numeric","input"]),pageSizes:r.arrayOf(r.oneOfType([r.string,r.number])),previousNext:r.bool,onPageChange:r.func,messagesMap:r.func,size:r.oneOf([null,"small","medium","large"]),dir:r.string,disabled:r.bool},_e.defaultProps={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1};let He=_e;o.registerForIntl(He),o.registerForLocalization(He);let $e=class extends m.Component{constructor(){super(...arguments),this.draggable=null,this.isDragged=!1,this.onDrag=e=>{this.isDragged=!0;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!1)},this.onRelease=e=>{if(!this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!0),this.isDragged=!1},this.onDoubleClick=e=>{if(this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.autofit&&this.props.autofit(e,t)}}render(){return m.createElement(n.Draggable,{onPress:e=>{e.event.originalEvent.stopPropagation()},onDrag:this.onDrag,onRelease:this.onRelease,ref:e=>{this.draggable=e}},m.createElement("span",{className:"k-column-resizer",style:{touchAction:"none"},draggable:!1,onDoubleClick:this.onDoubleClick}))}};const We="data-keyboardnavlevel",Ye="data-keyboardnavscope",je="data-keyboardnavheader",Xe="data-keyboardnavbody",Ve="data-keyboardnavid",Ue="_filter",Qe={[Ye]:!0},Ze={[je]:!0},Je={[Xe]:!0},et=(e,t,r="cell")=>`${t}_${e}_${r}`,tt=e=>{if(!e)return;return e.getAttribute(Ve)||void 0},rt=e=>!!e&&!!e.getAttribute(Ve),nt=(e,t)=>e.querySelector(`[${Ve}='${t}']`),at=e=>e.querySelector(`[${je}]`),ot=e=>e.querySelector(`[${Xe}]`),st=(e,t)=>{const{scope:r,navigationStateRef:n,contextStateRef:a}=e;if(!n.current||!r)return;const o=pt(n.current.navigationMatrix),s=nt(r,o);it({elementForFocus:s,contextStateRef:a,event:t})},it=e=>{const{elementForFocus:t,event:r,contextStateRef:n,prevElement:a}=e;if(n.current&&t&&t.focus){null==r||r.preventDefault();const e=t.querySelector(".k-checkbox-wrap .k-checkbox");e&&e.focus?e.focus():t.focus(),rt(t)&&(t.setAttribute("tabIndex","0"),n.current.activeId=tt(t)),a&&rt(a)&&a.setAttribute("tabIndex","-1")}},lt=(e,t,r,n,a)=>{if(!r)return[];let o=e+(a?-1:1);for(;o>=0&&o<n.length;){const e=n[o][t];if(e!==r)return[e,[o,t]];o+=a?-1:1}return[]},ct=(e,t,r,n,a)=>{if(!r)return[];let o=t+(a?-1:1);for(;o>=0&&o<n[e].length;){const t=n[e][o];if(t!==r)return[t,[e,o]];o+=a?-1:1}return[]},ut=(e,t)=>{if(t)for(let r=0;r<e.length;r++)for(let n=0;n<e[r].length;n++)if(e[r][n]===t)return[r,n]},pt=e=>e.flat().find((e=>e.endsWith("cell"))),dt=e=>e?`${e}${Ue}`:"",ht={generateNavigatableId:et,getNavigatableId:tt,getNavigatableLevel:e=>{if(e)return parseInt(e.getAttribute(We)||"",10)},getNavigatableElement:(e,t={level:0})=>e.querySelector(`[${We}='${t.level}']`),getClosestNavigatableElement:e=>e&&e.parentElement&&e.parentElement.closest(`[${We}]`),getActiveNavDataElement:nt,getClosestScope:e=>e&&e.parentElement&&e.parentElement.closest(`[${Ye}]`),getHeaderElement:at,getBodyElement:ot,getFocusableElements:(e,t={focusable:!1})=>{const r=t.focusable?n.FOCUSABLE_ELEMENTS:n.TABBABLE_ELEMENTS;return Array.from(e.querySelectorAll(r.join(",")))},getNavigatableElements:(e,t={level:0})=>{if(!e)return[];const r=n.FOCUSABLE_ELEMENTS.map((e=>e+`[${We}='${t.level}']`)).join(",");return Array.from(e.querySelectorAll(r))},filterNavigatableElements:(e={level:0})=>{const t=n.FOCUSABLE_ELEMENTS.map((t=>t+`[${We}='${e.level}']`)).join(",");return e=>e.matches(t)},focusElement:it,getIdPrefix:e=>e.current?e.current.idPrefix:"",isNavigatable:rt,findNextIdByRowIndex:lt,findNextIdByCellIndex:ct,findId:ut,getNextNavigationIndex:e=>e.current?e.current.navigationMatrix.length:0,getFilterColumnId:dt,focusFirstDataElement:st},gt={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};function mt(e,t){const r=e[t].depth;let n=null;for(let a=t+1;a<e.length;a++)if(e[a].depth===r){n=e[a];break}return n}const ft=e=>{let t=e.width?parseFloat(e.width.toString()):0;return!t&&e.children&&e.children.length&&(t=e.children.reduce(((e,t)=>ft(t)+e),0)),t};function vt(e,t,r){let n=new Array(e.length).fill(0),a=0;t.forEach((e=>{if(e.locked&&(!e.left||r))if(e.left=n[e.depth],a=ft(e),0===e.children.length)for(let t=e.depth;t<n.length;t++)n[t]+=a;else n[e.depth]+=a}))}function Et(e,t,r){let n=0,a=new Array(e.length).fill(0);for(let e=t.length-1;e>=0;e--){const o=t[e];if(o.locked&&(!o.right||r)){if(o.right=a[o.depth],n=ft(o),0===o.children.length)for(let e=o.depth;e<a.length;e++)a[e]+=n;else a[o.depth]+=n;const r=mt(t,e);o.rightBorder=!(r&&r.locked)}}}function Ct(e){return!(!e||"rtl"!==getComputedStyle(e).direction)}function bt(e,t){if(!t||!e||!e.originalEvent)return-1;const r={x:e.clientX,y:e.originalEvent.clientY};let n=t.ownerDocument?t.ownerDocument.elementFromPoint(r.x,r.y):null;for(;n&&n.parentElement!==t;)n=n.parentElement;if(!n&&t.matches("tr")){const e=e=>{const t=e.getBoundingClientRect();return r.x>t.left&&r.x<t.left+t.width&&r.y>t.top&&r.y<t.top+t.height};n=Array.from(t.children).find(e)||null}const a=t.children;for(let e=0;e<a.length;e++)if(a[e]===n)return e;return-1}let yt=class extends m.PureComponent{constructor(e){super(e),this.elementRef=m.createRef(),this.state={visible:!1,top:0,left:0,innerText:"",status:"k-i-cancel"},this.hiddenElementRef=m.createRef()}get element(){return this.elementRef.current||this.hiddenElementRef.current}render(){const e=this.hiddenElementRef.current,{status:t}=this.state,r=this.state.visible&&n.canUseDOM&&c.createPortal(m.createElement("div",{ref:this.elementRef,className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.state.top+"px",left:this.state.left+"px"}},m.createElement(n.IconWrap,{className:"k-drag-status",name:t,icon:"k-i-cancel"===t?l.cancelIcon:l.plusIcon}),this.state.innerText),e&&e.ownerDocument?e.ownerDocument.body:document.body);return m.createElement(m.Fragment,null,r,m.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}},xt=class extends m.PureComponent{constructor(e){super(e),this.state={height:0,visible:!1,left:0,top:0},this.hiddenElementRef=m.createRef()}render(){const e=this.hiddenElementRef.current,t=this.state.visible&&n.canUseDOM&&c.createPortal(m.createElement("div",{className:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.state.top+"px",left:this.state.left+"px",height:this.state.height+"px"}}),e&&e.ownerDocument?e.ownerDocument.body:document.body);return m.createElement(m.Fragment,null,t,m.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}};function kt(e,t,r){return r?{...e,[t]:r.length?[...r]:void 0}:e&&e[t]?[...e[t]]:[]}function It(e,t,r){if(e[r]){let n=kt(e,r,u.orderBy(kt(e,r),t)),a=kt(n,r).map((e=>It(e,t,r)));return{...n,[r]:a}}return e}function St(e,t,r){let n=kt(e,r);if(n&&n.length){n=n.map((e=>St(e,t,r)));const a=u.filterBy(n,{filters:[{filters:t,logic:"and"},{operator:e=>!!(e[r]||[]).length}],logic:"or"});return kt(e,r,a)}return e}const Rt=(e,t,r)=>{const n=e[r]||[],a=n.findIndex(t);if(-1!==a){const t=[...n];return t.splice(a,1),{...e,[r]:t}}return e},Ft=(e,t,r)=>n.getItemPath(e,t,r),Lt="groupId",Dt="items",Nt=(e,t,r)=>{e.items&&(e[Lt]=`${r}${r&&"_"}${e.value}${e.field}`,t>1&&e.items.forEach((r=>Nt(r,t-1,e[Lt]))))},Mt=m.createContext(void 0);Mt.displayName="KendoReactTableKeyboardNavigationContext";const wt=(e,t)=>{const r=m.useContext(Mt);return r&&e&&!1!==t?{tabIndex:r&&r.activeId&&r.activeId===e?0:-1,[We]:r.level,[Ve]:e}:{}},Kt=e=>{const{navigatable:t,contextStateRef:r,navigationStateRef:a,idPrefix:o}=e;t&&(r.current={activeId:"",level:0},a.current={activeElementIsFocused:!1,prevNavigationIndexes:void 0,idPrefix:o||n.guid(),navigationMatrix:[],lastHeaderIndex:-1})},Pt=e=>{const{scope:t,contextStateRef:r,navigationStateRef:n}=e;if(r.current&&n.current&&t){At(e);const a=pt(n.current.navigationMatrix);if(a){const e=ht.getActiveNavDataElement(t,a);e&&(r.current.activeId=a,e.setAttribute("tabIndex","0"))}}},At=e=>{const{navigationStateRef:t,scope:r}=e;if(!t.current||!r)return;const n=[],a=at(r),o=ot(r),s=(e=>e.querySelector(".k-grid-norecords"))(r)||{children:[]};if(!a||!o)return;const i=Array.from(a.children),l=Array.from(o.children);[...i,...l,s].forEach(((e,t)=>{Array.from(e.children).forEach((e=>{const r=tt(e);if(!r)return;const a=e.rowSpan||1,o=e.colSpan||1;let s;for(let e=t,o=t+a;e<o;e++){if(n[e]||(n[e]=[]),void 0===s){const t=n[e].findIndex((e=>!e));s=t>-1?t:n[e].length}n[e][s]=r||""}for(let e=s+1,a=s+o;e<a;e++)n[t][e]=r||""}))})),t.current.navigationMatrix=n.filter((e=>!!e)),t.current.lastHeaderIndex=i.length-1},Ot={onConstructor:Kt,onComponentDidMount:Pt,onGetSnapshotBeforeUpdate:e=>{const{contextStateRef:t,navigationStateRef:r,document:a}=e;if(t.current&&r.current&&a){const e=n.getActiveElement(a),o=ht.getNavigatableId(e);o&&o===t.current.activeId&&(r.current.activeElementIsFocused=!0)}},onComponentDidUpdate:e=>{const{scope:t,contextStateRef:r,navigationStateRef:n,focusFirst:a}=e;if(a&&(Kt(e),Pt(e),st(e)),At(e),r.current&&n.current&&t){if(!ht.getActiveNavDataElement(t,r.current.activeId)){const e=pt(n.current.navigationMatrix),a=ht.getActiveNavDataElement(t,e);e&&a&&(r.current.activeId=e,a.setAttribute("tabIndex","0"),n.current.activeElementIsFocused&&a.focus())}n.current.activeElementIsFocused=!1}},onFocus:(e,t)=>{const{contextStateRef:r}=t;if(e.isDefaultPrevented()||!r.current)return;const n=e.target,a=ht.getNavigatableId(n);if(a&&a!==r.current.activeId){const t=ht.getClosestScope(n);if(!t)return;const o=ht.getActiveNavDataElement(t,r.current.activeId);o&&!e.target.classList.contains("k-table-td")&&!e.target.classList.contains("k-detail-cell")&&o.setAttribute("tabIndex","-1"),n.setAttribute("tabIndex","0"),r.current.activeId=a}},onKeyDown:(e,t)=>{const{contextStateRef:r,navigationStateRef:a,onNavigationAction:o}=t;if(e.isDefaultPrevented()||!r.current||!a.current)return;let s;if(e.keyCode===n.Keys.esc)return s=ht.getClosestNavigatableElement(e.target),void ht.focusElement({elementForFocus:s,event:e,contextStateRef:r});const i=e.target,l=-1===i.className.indexOf("k-checkbox")?i:ht.getClosestNavigatableElement(i),c=ht.getNavigatableId(l),u=null==c?void 0:c.endsWith("column"),p=ht.getNavigatableLevel(l),d=ht.getClosestScope(l),h=a.current.navigationMatrix,g=e.metaKey||e.ctrlKey,m=((e,t,r)=>{let n;if(e.current&&e.current.prevNavigationIndexes){const[a,o]=e.current.prevNavigationIndexes;n=t[a][o]===r?e.current.prevNavigationIndexes:ut(t,r)}else n=ut(t,r);return n})(a,h,c);if(void 0!==p&&d){if(e.keyCode===n.Keys.enter){const t=ht.getNavigatableElement(l,{level:p+1});return t?void ht.focusElement({elementForFocus:t,event:e,contextStateRef:r,prevElement:l}):(s=ht.getFocusableElements(l)[0],void ht.focusElement({elementForFocus:s,event:e,contextStateRef:r,prevElement:l}))}if(e.keyCode===n.Keys.home&&m)if(g)st({scope:d,navigationStateRef:a,contextStateRef:r},e);else{const t=((e,t)=>e[t][0])(a.current.navigationMatrix,m[0]);s=ht.getActiveNavDataElement(d,t),ht.focusElement({elementForFocus:s,event:e,contextStateRef:r})}if(e.keyCode===n.Keys.end&&m)if(g){const t=(e=>e.flat().reverse().find((e=>e.endsWith("cell"))))(a.current.navigationMatrix);s=ht.getActiveNavDataElement(d,t),ht.focusElement({elementForFocus:s,event:e,contextStateRef:r})}else{const t=((e,t)=>Array.from(e[t]).reverse()[0])(a.current.navigationMatrix,m[0]);s=ht.getActiveNavDataElement(d,t),ht.focusElement({elementForFocus:s,event:e,contextStateRef:r})}if(e.keyCode===n.Keys.up||e.keyCode===n.Keys.down||e.keyCode===n.Keys.left||e.keyCode===n.Keys.right){const t=e.keyCode===n.Keys.up||e.keyCode===n.Keys.left,o=e.keyCode===n.Keys.up||e.keyCode===n.Keys.down;if(m){const[n,i]=m,[u,p]=o?lt(n,i,c,h,t):ct(n,i,c,h,t);u&&(s=ht.getActiveNavDataElement(d,u),ht.focusElement({elementForFocus:s,event:e,contextStateRef:r,prevElement:l}),a.current.prevNavigationIndexes=p)}}if(g&&e.keyCode===n.Keys.left&&u)return o&&o({focusElement:l,event:e,action:"reorderToLeft"}),void e.preventDefault();if(g&&e.keyCode===n.Keys.right&&u)return o&&o({focusElement:l,event:e,action:"reorderToRight"}),void e.preventDefault();if(e.keyCode===n.Keys.pageUp)return o&&o({focusElement:s,event:e,action:"moveToNextPage"}),void e.preventDefault();if(e.keyCode===n.Keys.pageDown)return o&&o({focusElement:s,event:e,action:"moveToPrevPage"}),void e.preventDefault();o&&o({focusElement:s,event:e})}},generateMatrix:At,focusFirstDataElement:st},Tt="data-grid-row-index",qt="data-grid-col-index",zt="data-prevent-selection",Bt={},Gt=e=>{let t=e;for(;t;){if(t.hasAttribute(zt))return!0;t=t.parentElement}return!1},_t=(e,t)=>{let r=e;for(;r;){if(r.tagName===t)return r;if("TABLE"===r.tagName)return null;r=r.parentElement}return null},Ht=e=>{if(!e)return;const t=e.getAttribute(Tt);return t?parseInt(t,10):void 0},$t=e=>{if(!e)return;const t=e.getAttribute(qt);return t?parseInt(t,10):void 0},Wt=e=>{const{event:t,dataItemKey:r,selectedState:a}=e,{dataItems:o,startRowIndex:s,endRowIndex:i,startColIndex:l,endColIndex:c,cell:u,isDrag:p,ctrlKey:d,shiftKey:h,metaKey:g,componentId:m,mode:f,dataItem:v}=t,E=n.getter(r);let C={};const b=null!==v;if("single"===f){const e=o.slice(s,s+1)[0],t=E(e);Bt[m]={rowIndex:s,colIndex:l},C[t]=!u||[l]}else if(!p&&(h||d||g||b)){if(d||g||b){Bt[m]={rowIndex:s,colIndex:l};const e=o.slice(s,i+1)[0],t=E(e);C={...a},C[t]=u&&!b?((e,t)=>!e||Array.isArray(e)&&0===e.length?[t]:e.findIndex((e=>e===t))>-1?e.filter((e=>e!==t)):[...e,t])(C[t],l):!C[t]}else if(h){const e=Bt[m]&&Bt[m].rowIndex||0,t=Bt[m]&&Bt[m].colIndex||0,r=Math.min(e,s,i),n=Math.max(e,s,i),a=Math.min(t,l,c),p=Math.max(t,l,c),d=[];for(let e=a;e<=p;e++)d.push(e);o.slice(r,n+1).forEach((e=>{const t=E(e);C[t]=!u||[...d]}))}}else{p||(Bt[m]={rowIndex:s,colIndex:l});const e=[];for(let t=l;t<=c;t++)e.push(t);o.slice(s,i+1).forEach((t=>{const r=E(t);C[r]=!u||[...e]}))}return C},Yt=n.hasRelativeStackingContext(),jt=e=>{if(!e||!Yt)return null;let t=e.parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}},Xt=e=>{if(e&&e.ownerDocument&&e!==e.ownerDocument.body){const t=e.getBoundingClientRect();return{left:t.left-e.scrollLeft,top:t.top-e.scrollTop}}return{left:0,top:0}},Vt=e=>({enabled:!!e&&("boolean"!=typeof e.enabled||e.enabled),drag:!!e&&!!e.drag,mode:e&&e.mode?e.mode:"multiple",cell:!(!e||!e.cell)});var Ut=(e=>(e.copy="copy",e.cut="cut",e.paste="paste",e))(Ut||{});const Qt=e=>class extends m.Component{constructor(){super(...arguments),this.filterChange=e=>{this.props.onFilterChange&&this.props.onFilterChange(e)},this.inputChange=t=>{const r=t.target.value,{filter:n=[],field:a=""}=this.props,o=this.findCellFilter(),s=o?n.map((e=>e.field===a?{...o,value:r}:e)):[...n,{...e.emptyFilter,value:r,field:a}];this.filterChange({filter:s,field:a,syntheticEvent:t.syntheticEvent})},this.operatorChange=t=>{const{operator:r}=t.target.value,{filter:n=[],field:a=""}=this.props,o=this.findCellFilter(),s=o?n.map((e=>e.field===a?{...o,operator:r}:e)):[...n,{...e.emptyFilter,field:a,operator:r}];this.filterChange({filter:s,field:a,syntheticEvent:t.syntheticEvent})},this.clearButtonClick=e=>{const{filter:t=[],field:r=""}=this.props;this.filterChange({filter:t.filter((e=>e.field!==r)),field:r,syntheticEvent:e})},this.findCellFilter=()=>{const{filter:e=[],field:t}=this.props;return e.find((e=>e.field===t))}}render(){const{clearButtonTitle:t="",operators:r=[]}=this.props,o=this.findCellFilter()||{...e.emptyFilter,operator:""},{operator:s,value:i}=o,c={ariaLabel:"filter",value:r.find((e=>e.operator===s))||null,onChange:this.operatorChange,className:"k-dropdown-operator",iconClassName:"k-i-filter",svgIcon:l.filterIcon,data:r,textField:"text",popupSettings:{width:""},components:this.props.components};return m.createElement("div",{className:"k-filtercell"},m.createElement("span",null,e.inputComponent({value:i,onChange:this.inputChange,components:this.props.components,ariaLabel:this.props.ariaLabel,min:this.props.min,max:this.props.max}),m.createElement("div",{className:"k-filtercell-operator"},e.operatorComponent(c,this.props)," ",m.createElement(a.Button,{className:n.classNames({"k-clear-button-visible":!(null===i||""===i)||s}),title:t,type:"button",onClick:this.clearButtonClick,icon:"filter-clear",svgIcon:l.filterClearIcon,disabled:!(null!==i&&""!==i||s)}))))}},Zt={emptyFilter:{operator:"eq",value:""},inputComponent:e=>null,operatorComponent:function(e,t){const{filter:r=[],field:n}=t,a=r.find((e=>e.field===n));return m.createElement(i.DropDownList,{...e,value:e.data.find((e=>e.operator===(a?a.value:""))),onChange:e=>{if(!t.onFilterChange)return;const o=e.target.value.operator;if(""===o)return void(a&&t.onFilterChange.call(void 0,{filter:r.filter((e=>e.field!==a.field)),field:n,syntheticEvent:e.syntheticEvent}));let s=a?r.map((e=>e.field===n?{...a,value:o}:e)):[...r,{value:o,field:n,operator:"eq"}];t.onFilterChange.call(void 0,{filter:s,field:n,syntheticEvent:e.syntheticEvent})}})}};let Jt=class extends(Qt(Zt)){};const er={inputComponent:e=>m.createElement(p.DatePicker,{...e}),operatorComponent:e=>m.createElement(i.DropDownList,{...e}),emptyFilter:{operator:"eq",value:null}};let tr=class extends(Qt(er)){};const rr={inputComponent:e=>m.createElement(s.NumericTextBox,{...e}),operatorComponent:e=>m.createElement(i.DropDownList,{...e}),emptyFilter:{operator:"eq",value:null}};let nr=class extends(Qt(rr)){};const ar={inputComponent:e=>m.createElement(s.Input,{...e}),operatorComponent:e=>m.createElement(i.DropDownList,{...e}),emptyFilter:{operator:"contains",value:""}};let or=class extends(Qt(ar)){};const sr=e=>{const{ariaSort:t,colSpan:r,rowSpan:n,columnId:a,navigatable:o,ariaColumnIndex:s,ariaLabel:i,ariaSelected:l,ariaDescription:c,...u}=e,p=wt(a,o);return m.createElement("th",{"aria-sort":t,"aria-label":i,"aria-colindex":s,"aria-selected":l,colSpan:r,rowSpan:n,...p,...u},e.children)};sr.displayName="KendoReactHeaderThElement";const ir="k-table-row k-filter-row",lr=(e,t,r)=>{let n=""+(r?"k-grid-header-sticky":"");return e.some((e=>e.field===t))&&(n+=" k-sorted"),n};let cr=class extends m.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){const{columnResize:e}=this.props;e&&e.resizable&&e.setIsRtl(Ct(this.element))}render(){return m.createElement("thead",{className:"k-table-thead k-grid-header",role:"presentation",ref:e=>this.element=e,...Ze},this.props.headerRow,this.props.filterRow)}};function ur(e){const t=e.onClick?{onClick:e.onClick}:{},r=m.createElement("span",{className:"k-link",...t},m.createElement("span",{className:"k-column-title"},e.title||e.field||" "),e.children);return m.createElement(m.Fragment,null,e.render?e.render.call(void 0,r,e):r)}const pr=(...e)=>Object.assign({allowUnsort:!0,mode:"single"},...e);let dr=class extends m.PureComponent{constructor(){super(...arguments),this.draggable=null,this.onPress=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.pressHandler&&this.props.pressHandler(e.event,t)},this.onDrag=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.dragHandler&&this.props.dragHandler(e.event,t)},this.onRelease=e=>{this.draggable&&this.draggable.element&&this.props.releaseHandler&&this.props.releaseHandler(e.event)}}render(){return m.createElement(n.Draggable,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:e=>{this.draggable=e}},m.createElement("tr",{className:"k-table-row","aria-rowindex":this.props.ariaRowIndex,role:"row"},this.props.children))}};const hr={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},gr={none:"none",asc:"ascending",desc:"descending"};class mr extends m.Component{constructor(){super(...arguments),this.cellClick=(e,t)=>{if(e.preventDefault(),!this.props.sortChange)return;const{allowUnsort:r,mode:n}=pr(this.props.sortable||!1,t.sortable||!1),a=(this.props.sort||[]).filter((e=>e.field===t.field))[0],o=hr[r][a&&a.dir||""],s="single"===n?[]:(this.props.sort||[]).filter((e=>e.field!==t.field));""!==o&&t.field&&s.push({field:t.field,dir:o}),this.props.sortChange(e,s,t.field)},this.cellKeyDown=(e,t)=>{e.isDefaultPrevented()||e.keyCode===n.Keys.enter&&this.cellClick(e,t)},this.cells=e=>e.map(((e,t)=>{const r=this.props.columns[e],{columnResize:a}=this.props,s=a&&a.resizable&&r.resizable,i=this.props.sortable&&r.sortable,l=this.props.sort?this.props.sort.findIndex((e=>e.field===r.field)):-1,c=l>=0&&this.props.sort[l].dir||"none",u={sort:this.props.sort,onSortChange:this.props.sortChange,filter:this.props.columnMenuFilter,onFilterChange:this.props.columnMenuFilterChange,field:r.field},p={field:r.field,onClick:i&&(e=>this.cellClick(e,r))||void 0,selectionChange:this.props.selectionChange,title:r.title,selectionValue:r.headerSelectionValue,render:this.props.cellRender,children:this.sortIcon(l),sort:this.props.sort,sortable:this.props.sortable,sortChange:this.props.sortChange,filterChange:this.props.filterChange,columns:this.props.columns,columnMenuWrapperProps:u},d=r.columnMenu||this.props.columnMenu,h=n.classNames("k-table-th",{"k-first":r.kFirst,"k-filterable":!!d,"k-header":!0,"k-grid-header-sticky":r.locked,"k-sorted":this.props.sort&&this.props.sort.some((e=>e.field===r.field))},r.headerClassName),g=void 0!==r.locked?{left:r.left,right:r.right,borderRightWidth:r.rightBorder?"1px":""}:{},f=o.provideLocalizationService(this).toLanguageString(Ae,Te[Ae]);let v=r.isAccessible?{ariaSort:i?gr[c]:void 0,role:"columnheader",ariaColumnIndex:r.ariaColumnIndex,ariaSelected:!1,ariaDescription:i?f:""}:{role:"presentation"};return m.createElement(sr,{key:t,colSpan:r.colSpan,rowSpan:r.rowSpan,className:h,style:g,columnId:r.id,navigatable:r.navigatable,onKeyDown:i&&(e=>this.cellKeyDown(e,r))||void 0,...v},r.headerCell&&m.createElement(r.headerCell,{...p}),!r.headerCell&&m.createElement("span",{className:"k-cell-inner"},m.createElement(ur,{...p}),d&&m.createElement(d,{...u})),a&&s&&m.createElement($e,{key:"ColumnResizer",resize:(e,t,n)=>a.dragHandler(e,r,t,n)}))}))}sortIcon(e){if(!this.props.sort||e<0)return null;const t=this.props.sort[e].dir;return t?[m.createElement(n.IconWrap,{key:1,name:`sort-${t}-small`,icon:"asc"===t?l.sortAscSmallIcon:l.sortDescSmallIcon}),this.props.sort.length>1&&m.createElement("span",{key:2,className:"k-sort-order"},e+1)]:null}render(){return this.props.columnsMap.map(((e,t)=>this.props.pressHandler&&m.createElement(dr,{key:t,pressHandler:this.props.pressHandler,dragHandler:this.props.dragHandler,releaseHandler:this.props.releaseHandler,ariaRowIndex:t+1},this.cells(e))||m.createElement("tr",{className:"k-table-row","aria-rowindex":t+1,role:"row"},this.cells(e))))}}o.registerForLocalization(mr);const fr=class extends m.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=o.provideLocalizationService(this),{ariaLabel:t=e.toLanguageString(le,Te[le])}=this.props;return m.createElement(s.TextBox,{value:this.props.filter.value||"",onChange:this.onChange,"aria-label":t})}};fr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,ariaLabel:r.string};let vr=fr;o.registerForLocalization(vr);const Er=class extends m.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=o.provideLocalizationService(this),{min:t,max:r,filter:n,ariaLabel:a=e.toLanguageString(ie,Te[ie])}=this.props;return m.createElement(s.NumericTextBox,{value:"number"==typeof n.value?n.value:null,onChange:this.onChange,ariaLabel:a,min:t,max:r})}};Er.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired};let Cr=Er;o.registerForLocalization(Cr);const br=class extends m.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=this.props.filter;return m.createElement(p.DatePicker,{value:e.value||null,onChange:this.onChange,ariaLabel:this.props.ariaLabel})}};br.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,ariaLabel:r.string};let yr=br;const xr=class extends m.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value.value}})}}render(){const e=o.provideLocalizationService(this),{filter:t,data:r=[],defaultItem:n,ariaLabel:a=e.toLanguageString(se,Te[se])}=this.props,s=r.map((t=>({...t,text:e.toLanguageString(t.text,Te[t.text]||t.text)})));return m.createElement(i.DropDownList,{value:s.find((e=>e.value===t.value))||null,onChange:this.onChange,defaultItem:n,data:s,textField:"text",ariaLabel:a})}};xr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,data:r.arrayOf(r.shape({text:r.string,value:r.any})),defaultItem:r.any,ariaLabel:r.string};let kr=xr;o.registerForLocalization(kr);const Ir=class extends m.Component{constructor(){super(...arguments),this.data=[{text:W,value:!0},{text:Y,value:!1}]}render(){return m.createElement(kr,{filter:this.props.filter,onFilterChange:this.props.onFilterChange,data:this.props.data||this.data,defaultItem:this.props.defaultItem,ariaLabel:this.props.ariaLabel})}};Ir.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,data:r.arrayOf(r.shape({text:r.string,value:r.any})),ariaLabel:r.string,defaultItem:r.any};let Sr=Ir;const Rr=[{text:q,operator:"contains"},{text:z,operator:"doesnotcontain"},{text:M,operator:"eq"},{text:w,operator:"neq"},{text:T,operator:"startswith"},{text:B,operator:"endswith"},{text:K,operator:"isnull"},{text:P,operator:"isnotnull"},{text:A,operator:"isempty"},{text:O,operator:"isnotempty"}],Fr=[{text:M,operator:"eq"},{text:w,operator:"neq"},{text:G,operator:"gte"},{text:_,operator:"gt"},{text:H,operator:"lte"},{text:$,operator:"lt"},{text:K,operator:"isnull"},{text:P,operator:"isnotnull"}],Lr=[{text:M,operator:"eq"},{text:w,operator:"neq"},{text:j,operator:"gte"},{text:X,operator:"gt"},{text:V,operator:"lt"},{text:U,operator:"lte"},{text:K,operator:"isnull"},{text:P,operator:"isnotnull"}],Dr=[{text:M,operator:"eq"},{text:w,operator:"neq"}];const Nr=e=>"contains"===e||"doesnotcontain"===e||"startswith"===e||"endswith"===e,Mr=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,wr=e=>{void 0===e.value&&!Mr(e.operator)&&(e.value=Nr(e.operator)?"":null)},Kr=class extends m.Component{constructor(){super(...arguments),this.onFieldChange=e=>{const t=e.value.name,r=this.props.fields.find((e=>e.name===t)),n=this.props.filter,a=r&&!r.operators.some((e=>e.operator===n.operator))?r.operators[0].operator:n.operator,o={field:t,operator:a};wr(o),this.triggerOnFilterChange(n,o,e)},this.onOperatorChange=e=>{const t=e.value.operator,r=this.props.filter;let n;if(Mr(t)){let{value:e,...a}=r;n={...a,operator:t}}else n={...r,operator:t};wr(n),this.triggerOnFilterChange(r,n,e)},this.onInputChange=e=>{const t=this.props.filter;let r=e.nextFilter;if(Mr(r.operator)){const e=this.props.fields.find((e=>e.name===r.field));r={...r,operator:e&&e.operators[0].operator||r.operator}}this.triggerOnFilterChange(t,r,e)},this.triggerOnFilterChange=(e,t,r)=>{const n={prevFilter:e,nextFilter:t,syntheticEvent:r.syntheticEvent,nativeEvent:r.nativeEvent,target:this};this.props.onChange.call(void 0,n)},this.onFilterRemove=e=>{const t={filter:this.props.filter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onRemove.call(void 0,t)}}render(){const e=o.provideLocalizationService(this),{fields:t,filter:r,ariaLabel:n=e.toLanguageString(ne,Te[ne])}=this.props,s=t.find((e=>e.name===r.field)),c=(s&&s.operators||[]).map((t=>({...t,text:e.toLanguageString(t.text,Te[t.text]||t.text)})));return m.createElement("div",{className:"k-filter-toolbar"},m.createElement(a.Toolbar,{keyboardNavigation:!1,role:"toolbar",ariaLabel:n},m.createElement(a.ToolbarItem,{className:"k-filter-field"},m.createElement(i.DropDownList,{data:t,textField:"label",value:t.find((e=>e.name===r.field)),onChange:this.onFieldChange,ariaLabel:e.toLanguageString(ae,Te[ae])})),m.createElement(a.ToolbarItem,{className:"k-filter-operator"},m.createElement(i.DropDownList,{data:c,textField:"text",value:c.find((e=>e.operator===r.operator)),onChange:this.onOperatorChange,ariaLabel:e.toLanguageString(oe,Te[oe])})),m.createElement(a.ToolbarItem,{className:"k-filter-value"},s&&m.createElement(s.filter,{filter:r,onFilterChange:this.onInputChange,min:s.min,max:s.max})),m.createElement(a.Button,{className:"k-toolbar-button",title:e.toLanguageString(te,Te[te]),icon:"x",svgIcon:l.xIcon,fillMode:"flat",themeColor:"base",type:"button",onClick:this.onFilterRemove})))}};Kr.propTypes={filter:r.object.isRequired,fields:r.array.isRequired,ariaLabel:r.string,onChange:r.func.isRequired,onRemove:r.func.isRequired};let Pr=Kr;o.registerForLocalization(Pr);const Ar=class e extends m.Component{constructor(){super(...arguments),this.onGroupRemove=e=>{const t={filter:this.props.filter,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onRemove.call(void 0,t)},this.onAddExpression=e=>{const t=this.props.filter,r=this.props.fields[0],n={field:r.name,operator:r.operators[0].operator};n.value=Nr(n.operator)?"":null;const a={nextFilter:{...t,filters:[...t.filters,n]},prevFilter:t,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onChange.call(void 0,a)},this.onAddGroup=e=>{const t=this.props.filter,r={nextFilter:{...t,filters:[...t.filters,{...this.props.defaultGroupFilter}]},prevFilter:t,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onChange.call(void 0,r)},this.onLogicAnd=e=>this.changeLogic("and",e),this.onLogicOr=e=>this.changeLogic("or",e),this.changeLogic=(e,t)=>{const r=this.props.filter;if(r.logic!==e){const n={nextFilter:{...r,logic:e},prevFilter:r,target:this,syntheticEvent:t,nativeEvent:t.nativeEvent};this.props.onChange.call(void 0,n)}},this.replaceFilter=(e,t)=>{const r=this.props.filter,n=r.filters.map((r=>r===e?t:r));return{...r,filters:n}},this.onChange=e=>{const t={nextFilter:this.replaceFilter(e.prevFilter,e.nextFilter),prevFilter:this.props.filter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onRemove=e=>{const t=this.props.filter,r=t.filters.filter((t=>t!==e.filter)),n={nextFilter:{...t,filters:r},prevFilter:t,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,n)}}render(){const t=o.provideLocalizationService(this),{fields:r,filter:n,ariaLabel:s=t.toLanguageString(re,Te[re])}=this.props;return m.createElement(m.Fragment,null,m.createElement("div",{className:"k-filter-toolbar"},m.createElement(a.Toolbar,{keyboardNavigation:!1,role:"toolbar",ariaLabel:s},m.createElement(a.ButtonGroup,{className:"k-toolbar-button-group k-button-group-solid"},m.createElement(a.Button,{togglable:!0,onClick:this.onLogicAnd,selected:"and"===n.logic,type:"button"},t.toLanguageString(Q,Te[Q])),m.createElement(a.Button,{togglable:!0,onClick:this.onLogicOr,selected:"or"===n.logic,type:"button"},t.toLanguageString(Z,Te[Z]))),m.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(J,Te[J]),icon:"filter-add-expression",svgIcon:l.filterAddExpressionIcon,type:"button",onClick:this.onAddExpression},t.toLanguageString(J,Te[J])),m.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(ee,Te[ee]),icon:"filter-add-group",svgIcon:l.filterAddGroupIcon,type:"button",onClick:this.onAddGroup},t.toLanguageString(ee,Te[ee])),m.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(te,Te[te]),icon:"x",svgIcon:l.xIcon,fillMode:"flat",type:"button",onClick:this.onGroupRemove}))),n.filters.length>0&&m.createElement("ul",{role:"group",className:"k-filter-lines"},n.filters.map(((t,n)=>m.createElement("li",{role:"treeitem",key:n,className:"k-filter-item"},u.isCompositeFilterDescriptor(t)?m.createElement(e,{filter:t,fields:r,onChange:this.onChange,onRemove:this.onRemove,defaultGroupFilter:this.props.defaultGroupFilter,ariaLabel:this.props.ariaLabel,ariaLabelExpression:this.props.ariaLabelExpression}):m.createElement(Pr,{filter:t,fields:r,ariaLabel:this.props.ariaLabelExpression,onChange:this.onChange,onRemove:this.onRemove}))))))}};Ar.propTypes={filter:r.object.isRequired,fields:r.array.isRequired,ariaLabel:r.string,ariaLabelExpression:r.string,onChange:r.func.isRequired,onRemove:r.func.isRequired,defaultGroupFilter:r.object.isRequired};let Or=Ar;o.registerForLocalization(Or);const Tr=class extends m.Component{constructor(e){super(e),this.onFilterChange=e=>{const t={filter:e.nextFilter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onGroupRemove=e=>{const t={filter:{...this.props.value,filters:[]},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},n.validatePackage(Ge)}render(){return m.createElement("div",{className:n.classNames("k-filter",this.props.className),style:this.props.style},m.createElement("ul",{role:"tree",className:"k-filter-container","aria-label":this.props.ariaLabel},m.createElement("li",{role:"treeitem",className:"k-filter-group-main"},m.createElement(Or,{filter:this.props.value,fields:this.props.fields,ariaLabel:this.props.ariaLabelGroup,ariaLabelExpression:this.props.ariaLabelExpression,onChange:this.onFilterChange,onRemove:this.onGroupRemove,defaultGroupFilter:this.props.defaultGroupFilter||{logic:"and",filters:[]}}))))}};Tr.propTypes={className:r.string,style:r.object,fields:function(e,t){const r=e[t];return void 0===r?new Error(`Property '${t}' is missing.`):Array.isArray(r)?Object.keys(r.reduce(((e,t)=>({...e,[t.name]:1})),{})).length!==r.length?new Error(`Property '${t}' needs to contain objects with unique 'name' field.`):null:new Error(`Property '${t}' needs to be Array<FieldSettings>.`)},ariaLabelGroup:r.string,ariaLabelExpression:r.string,value:r.object.isRequired,onChange:r.func.isRequired};let qr=Tr;const zr=e=>m.createElement("div",{onClick:e.onClick,className:n.classNames("k-columnmenu-item",{"k-selected":e.selected},{"k-disabled":e.disabled})},(e.iconClass||e.svgIcon)&&m.createElement(n.IconWrap,{name:e.iconClass?n.toIconName(e.iconClass):void 0,icon:e.svgIcon}),e.title),Br=[{text:ye,operator:"contains"},{text:xe,operator:"doesnotcontain"},{text:ge,operator:"eq"},{text:me,operator:"neq"},{text:be,operator:"startswith"},{text:ke,operator:"endswith"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"},{text:Ee,operator:"isempty"},{text:Ce,operator:"isnotempty"}],Gr=[{text:ge,operator:"eq"},{text:me,operator:"neq"},{text:Ie,operator:"gte"},{text:Se,operator:"gt"},{text:Re,operator:"lte"},{text:Fe,operator:"lt"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"}],_r=[{text:ge,operator:"eq"},{text:me,operator:"neq"},{text:De,operator:"gte"},{text:Ne,operator:"gt"},{text:Me,operator:"lt"},{text:we,operator:"lte"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"}],Hr=[{text:Le,operator:""}];let $r=class{static get text(){return[...Br]}static get numeric(){return[...Gr]}static get date(){return[..._r]}static get boolean(){return[...Hr]}};const Wr=e=>{const{filter:t,onFilterChange:r,operators:n,initialFilter:a}=e,s=m.useCallback((e=>{const n=t,o=e.target.value.operator,s=n?{...n,operator:o}:{value:a.value,operator:o};r.call(void 0,e.syntheticEvent,s,n)}),[t,r,a]),l=m.useCallback((e=>{const a=e.target.value,o=t,s=o?{...o,value:a}:{value:a,operator:n[0].operator};r.call(void 0,e,s,o)}),[t,r,n]),c=o.useLocalization(),u=n.map((e=>({...e,text:c.toLanguageString(e.text,Te[e.text])})));return m.createElement(m.Fragment,null,m.createElement(i.DropDownList,{value:u.find((e=>e.operator===t.operator))||null,onChange:s,data:u,textField:"text"}),m.createElement(e.input,{value:t.value,onChange:l}))},Yr=e=>{const{filter:t,onFilterChange:r}=e,n=m.useCallback((e=>r.call(void 0,e.syntheticEvent,{...t,value:e.value},t)),[t,r]),a=$r.boolean[0].text;return m.createElement(s.Checkbox,{onChange:n,checked:t.value,label:o.useLocalization().toLanguageString(a,Te[a]),labelPlacement:"after"})},jr=e=>{const t=m.useCallback((e=>m.createElement(s.Input,{...e,value:e.value||""})),[]),r=m.useRef($r.text),n=m.useRef({operator:"",value:""});return m.createElement(Wr,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},Xr=e=>{const t=m.useCallback((e=>m.createElement(s.NumericTextBox,{...e,value:e.value||null})),[]),r=m.useRef($r.numeric),n=m.useRef({operator:"",value:null});return m.createElement(Wr,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},Vr=e=>{const t=m.useCallback((e=>m.createElement(p.DatePicker,{...e,value:e.value||null})),[]),r=m.useRef($r.date),n=m.useRef({operator:"",value:null});return m.createElement(Wr,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},Ur=[{text:Ke,logic:"and"},{text:Pe,logic:"or"}],Qr=e=>{const t=o.useLocalization(),r=(e.data||Ur).map((e=>({...e,text:t.toLanguageString(e.text,Te[e.text])})));return m.createElement(i.DropDownList,{onChange:e.onChange,className:"k-filter-and",textField:"text",...e,data:r,value:r.find((t=>t.logic===e.value))})},Zr=e=>m.createElement("div",{className:"k-columnmenu-item-content"},m.createElement(h.Reveal,{style:{position:"relative",display:"block"}},e.show&&m.createElement("div",{className:"kendo-grid-filter-menu-container"},m.createElement("form",{className:"k-filter-menu",onSubmit:e.onSubmit,onReset:e.onReset},m.createElement("div",{className:"k-filter-menu-container"},e.children,m.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},e.actions)))))),Jr=e=>{const t=o.useLocalization();return m.createElement(Zr,{...e,actions:m.createElement(m.Fragment,null,m.createElement(a.Button,{type:"reset"},t.toLanguageString(ce,Te[ce])),m.createElement(a.Button,{themeColor:"primary"},t.toLanguageString(ue,Te[ue])))})},en=e=>{n.validatePackage(Ge);const t=m.useRef([]),{field:r,filter:a,sort:s=t.current,onSortChange:i,onFilterChange:c,initialFilter:p,sortAsc:h=!1,sortDesc:g=!1,filterContent:f=[],expandFilters:v=!1}=e,[E,C]=m.useState(!1),[b,y]=m.useState(v),[x,k]=m.useState(r&&p?p(r):null),I=m.useRef(null),S=m.useRef(null),R=m.useRef(null),F=m.useRef(!1),L=m.useCallback((()=>(a||[]).find((e=>e.filters.every((e=>!u.isCompositeFilterDescriptor(e)&&e.field===r))))),[a,r]),D=m.useCallback((()=>{C(!1)}),[]),N=m.useCallback((()=>{F.current?F.current=!1:(clearTimeout(R.current),R.current=window.setTimeout((()=>{D()})))}),[D]),M=m.useCallback((()=>clearTimeout(R.current)),[]),w=m.useCallback((e=>{F.current=E&&e.currentTarget===I.current}),[E]),K=m.useCallback((()=>{C(!E),r&&p&&(y(!E&&v),k(E?x:L()||p(r)))}),[L,r,E,x,p,v]);m.useEffect((()=>{E&&S.current&&S.current.focus()}),[E]);const P=m.useCallback((()=>y(!b)),[b]),A=m.useCallback(((e,t)=>{const n=[...s],a=n.findIndex((e=>e.field===r)),o={field:r,dir:t};a>=0?n[a].dir!==o.dir?n.splice(a,1,o):n.splice(a,1):n.push(o),D(),i&&i.call(void 0,e,n,r)}),[s,r,i,D]),O=m.useCallback(((e,t,r)=>{const n={...x,filters:[...x.filters]},a=n.filters.indexOf(r);n.filters.splice(a,1,t),k(n)}),[x]),T=m.useCallback((e=>{e.preventDefault();const t=(a||[]).slice(),n=L(),o=n?t.indexOf(n):-1;o>=0?t.splice(o,1,x):t.push(x),D(),c&&c.call(void 0,e,t,r)}),[a,x,r,c,D,L]),q=m.useCallback((e=>{const t=(a||[]).slice(),n=L(),o=n?t.indexOf(n):-1;o>=0&&t.splice(o,1),p&&k(p(r)),D(),c&&c.call(void 0,e,t,r)}),[a,r,c,p,D,L]),z=m.useCallback((e=>A(e,"asc")),[A]),B=m.useCallback((e=>A(e,"desc")),[A]),G=m.useCallback((e=>x&&k({...x,logic:e.value.logic})),[x]),_=s.find((e=>e.field===r))||{dir:""},[H,$,W]=f,Y=o.useLocalization(),j=[h||g?m.createElement("div",{className:"k-columnmenu-item-wrapper",key:"sorting"},h&&m.createElement(zr,{title:Y.toLanguageString(de,Te[de]),iconClass:"k-i-sort-asc-small",svgIcon:l.sortAscSmallIcon,selected:"asc"===_.dir,onClick:z}),g&&m.createElement(zr,{title:Y.toLanguageString(he,Te[he]),iconClass:"k-i-sort-desc-small",svgIcon:l.sortDescSmallIcon,selected:"desc"===_.dir,onClick:B})):null,x&&f.length>0?m.createElement("div",{className:"k-columnmenu-item-wrapper",key:"filtering"},m.createElement(zr,{iconClass:"k-i-filter",svgIcon:l.filterIcon,title:Y.toLanguageString(pe,Te[pe]),onClick:P}),m.createElement(Jr,{show:b,onSubmit:T,onReset:q},H&&m.createElement(H,{filter:x.filters[0],onFilterChange:O}),$&&m.createElement($,{value:x.logic,onChange:G}),W&&m.createElement(W,{filter:x.filters[1],onFilterChange:O}))):null],X=[m.createElement("span",{ref:I,onClick:K,onMouseDown:w,className:"k-grid-header-menu k-grid-column-menu"+(L()?" k-active":""),key:"button"},m.createElement(n.IconWrap,{name:"filter",icon:l.filterIcon})),m.createElement(d.Popup,{anchor:I.current,show:E,key:"popup",popupClass:"k-column-menu k-column-menu-popup"},m.createElement("div",{ref:S,tabIndex:0,onBlur:N,onFocus:M,style:{outline:"none"}},e.itemsRender?e.itemsRender.call(void 0,j,{closeMenu:D,field:r}):j))];return m.createElement(m.Fragment,null,e.render?e.render.call(void 0,X):X)};e.BooleanFilter=Sr,e.BooleanFilterCell=Jt,e.ClipboardActionType=Ut,e.ClipboardService=class{constructor(e){this.copyHandler=e=>{this.clipboardEvent(Ut.copy,e)},this.cutHandler=e=>{this.clipboardEvent(Ut.cut,e)},this.pasteHandler=e=>{this.clipboardEvent(Ut.paste,e)},this.addEventListeners=e=>{e&&(e.addEventListener(Ut.copy,this.copyHandler),e.addEventListener(Ut.cut,this.cutHandler),e.addEventListener(Ut.paste,this.pasteHandler))},this.removeEventListeners=e=>{e&&(e.removeEventListener(Ut.copy,this.copyHandler),e.removeEventListener(Ut.cut,this.cutHandler),e.removeEventListener(Ut.paste,this.pasteHandler))},this.clipboardEvent=e}},e.ColumnDefaultProps=gt,e.ColumnMenuBooleanColumn=e=>{const{field:t,...r}=e,n=m.useCallback((e=>({logic:"and",filters:[{operator:"eq",field:e,value:!1}]})),[]),a=!!e.field,o=a?[Yr]:[];return m.createElement(en,{sortAsc:a,sortDesc:a,filterContent:o,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuBooleanFilter=Yr,e.ColumnMenuDateColumn=e=>{const{field:t,...r}=e,n=m.useCallback((e=>({logic:"or",filters:[{operator:"eq",field:e,value:null},{operator:"eq",field:e,value:null}]})),[]),a=!!e.field,o=a?[Vr,Qr,Vr]:[];return m.createElement(en,{sortAsc:a,sortDesc:a,filterContent:o,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuDateFilter=Vr,e.ColumnMenuFilterForm=Jr,e.ColumnMenuFilterLogic=Qr,e.ColumnMenuForm=Zr,e.ColumnMenuItem=zr,e.ColumnMenuNumericColumn=e=>{const{field:t,...r}=e,n=m.useCallback((e=>({logic:"or",filters:[{operator:"eq",field:e,value:null},{operator:"eq",field:e,value:null}]})),[]),a=!!e.field,o=a?[Xr,Qr,Xr]:[];return m.createElement(en,{sortAsc:a,sortDesc:a,filterContent:o,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuNumericFilter=Xr,e.ColumnMenuOperators=$r,e.ColumnMenuTextColumn=e=>{const{field:t,...r}=e,n=m.useCallback((e=>({logic:"and",filters:[{operator:"contains",field:e,value:""},{operator:"contains",field:e,value:""}]})),[]),a=!!e.field,o=a?[jr,Qr,jr]:[];return m.createElement(en,{sortAsc:a,sortDesc:a,filterContent:o,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuTextFilter=jr,e.ColumnResize=class{constructor(e){this.columns=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.onResize=e,this.dragHandler=this.dragHandler.bind(this)}dragHandler(e,t,r,n){const a=e.originalEvent;n||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation());const o=r.parentElement;if(!o||!o.parentElement)return;const s=o.clientWidth;let i;if(this.isRtl?(i=r.getBoundingClientRect().right-r.offsetWidth/2-e.clientX,i+=s):i=s+e.clientX-r.getBoundingClientRect().left-r.offsetWidth/2,!n&&Math.abs(i-s)<1)return;this.setWidths(t,Math.floor(i)/s);const l=this.columns.filter((e=>!e.children.length)).indexOf(t);this.onResize(l,s,i,a,n)}setWidths(e,t){const r=this.columns.indexOf(e),n=[];let a=e.children.length;for(let e=r+1;a>0&&e<this.columns.length;e++,a--){const t=this.columns[e];t.children.length?a+=t.children.length:n.push(t)}0===n.length&&n.push(e),n.forEach((e=>{let r=e.width?parseFloat(e.width.toString())*t:0;const n=void 0===e.minResizableWidth?10:e.minResizableWidth;r<n&&(r=n),e.width=Math.floor(r)})),this.updateColElements(n)}updateColElements(e){const t=this.columns.filter((e=>!e.children.length));let r=1e-10;for(let n=0;n<e.length;n++){const a=t.indexOf(e[n]),o=parseFloat((e[n].width||0).toString());r+=o-Math.floor(o);const s=Math.floor(o)+Math.floor(r);r-=Math.floor(r),this.setColWidth(this.colGroupMain&&this.colGroupMain.children[a],s),this.setColWidth(this.colGroupHeader&&this.colGroupHeader.children[a],s),this.setColWidth(this.colGroupFooter&&this.colGroupFooter.children[a],s)}}setColWidth(e,t){e&&(e.style.width=t+"px")}},e.ColumnResizer=$e,e.CommonDragLogic=class{constructor(e,t,r){this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e},this.refDropElementClue=e=>{this.dropElementClue=e},this.refDragElementClue=e=>{this.dragElementClue=e},this.pressHandler=(e,t)=>{const r=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),r>=0){const e=this.columns[r];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=r)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.getGroupIndex(e),this.groupPanelDivElement&&this.startGroup>=0&&(this.currentGroup=Math.min(this.currentGroup,this.groupPanelDivElement.children.length-2));const r=!this.isValid();r&&(this.currentColumn=-1,this.currentGroup=-1);const n=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,n,r),this.updateDropElementClue(e,t,n,r)},this.releaseHandler=e=>{const t=this.startColumn,r=this.currentColumn,n=this.startGroup,a=this.currentGroup;this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const o=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,o&&(t>=0&&r>=0?this.columnReorder(t,r,e.originalEvent):n>=0&&a>=0?this.groupReorder(n,a,e.originalEvent):t>=0&&a>=0&&this.columnToGroup(t,a,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=r}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const r=bt(e,t);if(-1===r)return-1;for(let e=0;e<t.parentNode.children.length;e++)if(t.parentNode.children[e]===t)return this.columns.findIndex((t=>t.index===r&&t.depth===e));return-1}getGroupIndex(e){return bt(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,r,n){if(!this.dragElementClue)return;const a=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:a,status:n||!r?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,r,n){if(!this.dropElementClue)return;if(n||!r)return void this.dropElementClue.setState({visible:!1});const a=r.getBoundingClientRect();let o=a.left+e.pageX-e.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(o+=a.width);const s=a.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:s,left:o,height:this.currentColumn>=0?t.clientHeight:a.height})}},e.DateFilter=yr,e.DateFilterCell=tr,e.DragClue=yt,e.DropClue=xt,e.EnumFilter=kr,e.Expression=Pr,e.FILTER_ROW_CLASS=ir,e.Filter=qr,e.FilterRow=function(e){const{columns:t,filter:r,filterChange:a,sort:s=[],ariaRowIndex:i}=e,l=o.useLocalization();return m.createElement("tr",{className:ir,"aria-rowindex":i,role:"row"},t.map(((e,t)=>{const o=void 0!==e.locked?{left:e.left,right:e.right,borderRightWidth:e.rightBorder?"1px":""}:{},i=e.filterCell||e.filter;return m.createElement(sr,{columnId:dt(e.id),navigatable:e.navigatable,style:o,key:t,ariaColumnIndex:e.ariaColumnIndex,ariaLabel:i?l.toLanguageString(Oe,Te[Oe]):void 0,className:n.classNames("k-table-th k-header",lr(s,e.field,e.locked))},i&&m.createElement(i,{field:e.field,filter:r,onFilterChange:a}))})))},e.Group=Or,e.Header=cr,e.HeaderCell=ur,e.HeaderRow=mr,e.HeaderSelectionCell=function(e){const t=[m.createElement("input",{key:0,checked:e.selectionValue,id:e.inputId,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md",onChange:t=>e.selectionChange({field:e.field,syntheticEvent:t})}),m.createElement("label",{key:1,className:"k-checkbox-label",htmlFor:e.inputId})];return m.createElement(m.Fragment,null,e.render?e.render.call(void 0,t,e):t)},e.HeaderThElement=sr,e.KEYBOARD_NAV_DATA_BODY=Xe,e.KEYBOARD_NAV_DATA_HEADER=je,e.KEYBOARD_NAV_DATA_ID=Ve,e.KEYBOARD_NAV_DATA_LEVEL=We,e.KEYBOARD_NAV_DATA_SCOPE=Ye,e.KEYBOARD_NAV_DATA_ZONE="data-keyboardnavzone",e.KEYBOARD_NAV_FILTER_COL_SUFFIX=Ue,e.NumericFilter=Cr,e.NumericFilterCell=nr,e.Operators=class{static get text(){return[...Rr]}static get numeric(){return[...Fr]}static get date(){return[...Lr]}static get boolean(){return[...Dr]}},e.Pager=He,e.TABLE_COL_INDEX_ATTRIBUTE=qt,e.TABLE_PREVENT_SELECTION_ELEMENT=zt,e.TABLE_ROW_INDEX_ATTRIBUTE=Tt,e.TableKeyboardNavigationContext=Mt,e.TableSelection=e=>{var t;const{onRelease:r,childRef:a}=e,{enabled:o,drag:s,mode:i,cell:l}=Vt(e.selectable),c=m.useRef(null),u=m.useRef(null),p=m.useRef({clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}),[d,h]=m.useState(null),g=m.useRef(),v=m.useRef(!1),E=m.useRef(!1),C=m.useCallback((e=>{const{event:t}=e;if(E.current=Gt(t.originalEvent.target),E.current||!c.current)return;g.current=jt(c.current.element);const r=c.current.element&&c.current.element.ownerDocument;if(!r)return;const n=r.elementFromPoint(t.clientX,t.clientY);p.current={clientY:t.clientY,clientX:t.clientX,scrollX:t.scrollX,scrollY:t.scrollY,pressedElement:n}}),[]),b=m.useCallback((e=>{const{event:t}=e,{clientX:r,clientY:n}=p.current;if(!E.current&&s&&"single"!==i&&((Math.abs(n-t.clientY)>5||Math.abs(r-t.clientX)>5)&&(v.current=!0),v.current)){const e=Xt(g.current);h({top:Math.min(n,t.clientY)-e.top,left:Math.min(r,t.clientX)-e.left,width:Math.abs(t.clientX-r),height:Math.abs(t.clientY-n)})}}),[h,s,i]),y=m.useCallback((e=>{const{event:t}=e,{clientX:n,clientY:a,scrollX:o,scrollY:s,pressedElement:d}=p.current;if(E.current||!c.current)return;const g=c.current.element&&c.current.element.ownerDocument;if(g){if(v.current){const e=t.scrollY-s,c=t.scrollX-o,p=Math.min(a,t.clientY),h=Math.min(n,t.clientX),m=Math.max(a,t.clientY),f=Math.max(n,t.clientX),v=u.current;if(!v)return;v.style.visibility="hidden";const E=g.elementFromPoint(h,p),C=e>0||c>0?d:E,b=g.elementFromPoint(f,m);if(v.style.visibility="",!C||!b)return;const y=_t(C,"TD"),x=_t(y,"TR"),k=_t(b,"TD"),I=_t(k,"TR"),S=$t(y),R=Ht(x),F=$t(k),L=Ht(I);void 0!==S&&void 0!==R&&void 0!==F&&void 0!==L&&r({nativeEvent:t.originalEvent,startRowIndex:R,startColIndex:S,endRowIndex:L,endColIndex:F,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:i,cell:l,isDrag:!0})}else{const e=g.elementFromPoint(n,a);if(!e)return;const o=_t(e,"TD"),s=_t(e,"TR"),c=$t(o),u=Ht(s);o&&s&&void 0!==u&&void 0!==c&&r({nativeEvent:t.originalEvent,startRowIndex:u,startColIndex:c,endRowIndex:u,endColIndex:c,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:i,cell:l,isDrag:!1})}h(null),v.current=!1,p.current={clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}}}),[h,i,l,r]),x=n.useDocument(u);return o?m.createElement(m.Fragment,null,m.createElement(n.Draggable,{onPress:C,onDrag:b,onRelease:y,ref:c,childRef:a},e.children),d&&f.createPortal(m.createElement("div",{ref:u,style:{...d,position:"fixed"},className:"k-marquee k-marquee-color"}),null==(t=x())?void 0:t.body)):m.cloneElement(m.Children.only(e.children),{ref:a})},e.TextFilter=vr,e.TextFilterCell=or,e.closestTagName=_t,e.createDataTree=(e,t,r,n)=>{let a,o={},s=[];return e.forEach((e=>o[t(e)]={...e})),e.forEach((e=>{a=o[r(e)],a?(a[n]=a[n]||[],a[n].push(o[t(e)])):s.push(o[t(e)])})),s},e.createFilterComponent=Qt,e.extendDataItem=(e,t,r)=>n.extendDataItem(e,t,r),e.filterBy=function(e,t,r){let n={[r]:[...e]};return n=St(n,t,r),n[r]||[]},e.flatData=function(e,t,r){let n=[];const a=[];for(let r=e.length-1;r>=0;r--){const a=e[r];n.push({root:a,data:t(a),level:[r],levelCount:e.length})}for(;n.length>0;){let e=n.pop();if(a.push({dataItem:e.root,level:[...e.level],...r(e.root),levelCount:e.levelCount}),e.data.length)for(let r=e.data.length-1;r>=0;r--){const a=e.data[r];n.push({root:a,data:t(a),level:[...e.level,r],levelCount:e.data.length})}}return a},e.getColumnIndex=$t,e.getGroupIds=e=>{const t=[];return n.mapTree(e.data,Dt,(e=>{e[Lt]&&t.push(e[Lt])})),t},e.getIndex=bt,e.getItemPath=Ft,e.getOffset=Xt,e.getRowIndex=Ht,e.getSelectedState=Wt,e.getSelectedStateFromKeyDown=e=>{const{event:t,dataItemKey:r,selectedState:a}=e,{syntheticEvent:o,nativeEvent:s,dataItems:i,componentId:l,mode:c,cell:u,selectedField:p}=t,{target:d,ctrlKey:h,metaKey:g,altKey:m,shiftKey:f}=s;if(o.isDefaultPrevented()&&!f||s.keyCode!==n.Keys.space&&s.keyCode!==n.Keys.enter&&s.keyCode!==n.Keys.right&&s.keyCode!==n.Keys.left&&s.keyCode!==n.Keys.up&&s.keyCode!==n.Keys.down)return a;o.preventDefault();const v=_t(d,"TD"),E=_t(d,"TR");let C=$t(v),b=Ht(E),y={};return v&&E&&void 0!==b&&void 0!==C&&(s.keyCode===n.Keys.right&&C++,s.keyCode===n.Keys.left&&C--,s.keyCode===n.Keys.down&&b++,s.keyCode===n.Keys.up&&b--,y=Wt({selectedState:a,dataItemKey:r,event:{ctrlKey:h,metaKey:g,altKey:m,shiftKey:f,dataItems:i,cell:u,mode:c,selectedField:p,componentId:l,startColIndex:C,endColIndex:C,startRowIndex:b,endRowIndex:b,isDrag:!1,syntheticEvent:o,nativeEvent:s,target:t.target,dataItem:null}})),y},e.getSelectionOptions=Vt,e.isInNonSelectable=Gt,e.isRtl=Ct,e.mapColumns=function(e,t){const r=[[]];let n=0;for(let t=e.length-1;t>=0;t--)n=Math.max(n,e[t].depth),e[t].colSpan=e[t].colSpan||1,e[t].children.length>0&&(e[t].colSpan=e[t].children.reduce(((e,t)=>t.hidden?e:e+t.colSpan),0));const a=[];let o=1;return e.forEach(((e,t)=>{r[e.depth]=r[e.depth]||[];let s=!1;0===r[e.depth].length&&(o<=1?o=1+(e.children.length>0?0:n-e.depth):(o--,s=!0)),e.rowSpan=1+(e.children.length>0?0:n-e.depth),e.kFirst=s,e.index=r[e.depth].length,r[e.depth].push(t),e.ariaColumnIndex=a[e.depth]?a[e.depth]+1:1;for(let t=e.depth;t<e.depth+e.rowSpan;t++)a[t]=(a[t]||0)+e.colSpan})),vt(r,e,t),Et(r,e,t),r},e.modifySubItems=(e,t,r,a)=>n.mapTree(e,t,(e=>r(e)?{...e,[t]:a(e[t]||[])}:e)),e.moveTreeItem=(e,t,r,n)=>{const a=[...e],o=Ft(a,t,n),s=o.pop(),i=o.pop(),l=t[t.length-1];if(r){const e=Ft(a,r,n).pop();(i?i[n]:a).splice(l,1),e[n]=e[n]||[],e[n].push(s)}else(i?i[n]:a).splice(l,1),a.push(s);return a},e.nextColumn=mt,e.normalize=pr,e.orderBy=function(e,t,r){let n=u.orderBy(e,t);return n=n.map((e=>It(e,t,r))),n},e.populateClipboardData=e=>{const{event:t}=e,r=(e=>{const{event:t,selectedState:r,data:a,dataItemKey:o}=e,s={},i={copiedItems:[],pastedItems:[],clipboardData:""},l=e.subItemsField||"items";return Object.entries(r).forEach((([e,r])=>{s[e]=n.isArray(r)?r.map((e=>t.columns[e])):t.columns})),n.mapTree(a,l,(e=>{const r=e[o||t.dataItemKey||""]||"";return s[r]&&i.copiedItems.push({dataItem:e,fields:s[r].map((e=>e.field||""))}),e})),i})(e);let a="";if("paste"===t.type){const e=t.nativeEvent?t.nativeEvent.clipboardData:"";a=e?e.getData("text").trim():"",r.pastedItems=((e,t,r)=>{const n=e.cellDelimiter||"\t",a=e.newLineDelimiter||"\r\n",o=t.includes(a)?a:t.includes("\n")?"\n":null,s=o?t.split(o):[t],i=r.copiedItems.length?r.copiedItems[0].fields[0]:e.columns[0].field||"";return s.map((t=>{const r=t.includes(n)?t.split(n):[t],a=e.columns.map((e=>e.field||"")),o=a.indexOf(i),s=a.slice(o,o+r.length),l={};return a.slice(o,o+r.length).forEach(((e,t)=>l[e]=r[t])),{dataItem:l,fields:s}}))})(t,a,r)}else r.pastedItems=[],a=((e,t)=>{const r=t.newLineDelimiter||"\r\n",n=e.copiedItems.map(((e,r)=>{let n=((e,t)=>{if(!t.length)return null;let r="";return t.forEach(((t,n,a)=>r+=`${e[t]}${n<a.length-1?"\t":""}`)),r})(e.dataItem,e.fields)||"";return t.copyHeaders&&0===r&&(n=((e,t,r)=>{const n=r.cellDelimiter||"\t",a=r.newLineDelimiter||"\r\n";return`${t.join(n)}${a}${e}`})(n,e.fields,t)),n?[n]:[]})).join(r);return navigator.clipboard.writeText(n),n})(r,t);return r.clipboardData=a,r},e.readColumns=function e(t,r,n=0){let a=[];if(!t||!t.length)return[];if(t.forEach((t=>{const o=e(t.children||[],r,n+1);a.push(Object.assign({},{depth:n},gt,t,{id:t.id?t.id:et(""+r.prevId++,r.idPrefix,"column"),declarationIndex:a.length,children:o,rowSpan:0,colSpan:0,isAccessible:!0}))})),a.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===n){let e=[];const t=(r,n)=>r.forEach((r=>{r.parentIndex=n,t(r.children,e.push(r)-1)}));return t(a,-1),e}return a},e.relativeContextElement=jt,e.removeItems=(e,t,r)=>[...n.mapTree([{[t]:[...e]}],t,(e=>Rt(e,r,t)))[0][t]],e.setExpandedState=e=>n.mapTree(e.data,Dt,(t=>n.extendDataItem(t,Dt,{expanded:!e.collapsedIds.some((e=>e===t[Lt]))}))),e.setGroupIds=e=>{const{group:t}=e;if(t&&t.length&&e.data)return e.data.forEach((e=>Nt(e,t.length,"")))},e.setSelectedState=e=>{const t=e.subItemsField||"items",r=n.getter(e.dataItemKey);return n.mapTree(e.data,t,(a=>n.extendDataItem(a,t,{[e.selectedField]:e.selectedState[r(a)]})))},e.stringOperator=Nr,e.tableColumnsVirtualization=function(e){const{enabled:t,columns:r=[],tableViewPortWidth:n,scrollLeft:a}=e,o=r.map((()=>1)),s=r.map((()=>!1));if(!t)return{colSpans:o,hiddenColumns:s};const i=r.map((e=>parseFloat((e.width||"").toString())||10));let l=0;for(let e=0;e<r.length;e++){if(r[e].locked)continue;const t=e<i.length-1?i[e+1]:0;if(!(l+i[e]+t<a))break;s[e]=!0,l+=i[e]}const c=i.reduce(((e,t)=>e+t),0);l=0;for(let e=r.length-1;e>=0;e--)if(!r[e].locked){if(!(l+2*i[e]<c-n-a))break;s[e]=!0,l+=i[e]}const u=[...s],p=e=>e;let d,h,g=u.lastIndexOf(!1),m=u.some(p),f=u.every(p);for(;m&&u.length&&(-1!==g||f);){for(g<u.length-1&&(d=f?u.length:u.length-g-1,h=u.length-d,0===h&&(h=d-1),s[h]=!1,o[h]=d,u.splice(g+1,d));u.length&&!u[u.length-1];)u.pop();g=u.lastIndexOf(!1),m=u.some(p),f=u.every(p)}return{colSpans:o,hiddenColumns:s}},e.tableKeyboardNavigation=Ot,e.tableKeyboardNavigationBodyAttributes=Je,e.tableKeyboardNavigationHeaderAttributes=Ze,e.tableKeyboardNavigationScopeAttributes=Qe,e.tableKeyboardNavigationTools=ht,e.treeToFlat=(e,t,r)=>{const a=e=>{const a=[];return(e=>!!n.getNestedValue(t,e))(e)&&(e=>!!n.getNestedValue(r,e))(e)&&a.push(...n.getNestedValue(r,e)),a},o=(e,t,r)=>{t.push({...e,level:r}),a(e).forEach((e=>o(e,t,r+1)))},s=[];return e.forEach((e=>o(e,s,0))),s},e.unaryOperator=Mr,e.updateLeft=vt,e.updateRight=Et,e.useTableKeyboardNavigation=wt}));
