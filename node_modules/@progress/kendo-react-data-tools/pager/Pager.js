/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const G=require("react"),i=require("prop-types"),H=require("./PagerNumericButtons.js"),J=require("./PagerInput.js"),Q=require("./PagerPageSizes.js"),X=require("@progress/kendo-react-buttons"),e=require("../messages/index.js"),v=require("@progress/kendo-react-intl"),r=require("@progress/kendo-react-common"),u=require("@progress/kendo-svg-icons"),Y=require("../package-metadata.js");function Z(h){const g=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(h){for(const s in h)if(s!=="default"){const t=Object.getOwnPropertyDescriptor(h,s);Object.defineProperty(g,s,t.get?t:{enumerable:!0,get:()=>h[s]})}}return g.default=h,Object.freeze(g)}const p=Z(G),x=600,ee=768,M=class M extends p.Component{constructor(g){super(g),this._element=null,this.onPageChange=(s,t)=>{const n={target:this,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,targetEvent:t,...s};this.props.onPageChange&&this.props.onPageChange.call(void 0,n)},this.changePage=(s,t)=>{this.props.onPageChange&&s>0&&s<=this.totalPages&&this.props.onPageChange({target:this,skip:(s-1)*this.props.take,take:this.props.take,syntheticEvent:t,nativeEvent:t.nativeEvent,targetEvent:t})},this.onWindowResize=()=>{const s=this.element;if(!s||!this.props.responsive)return;const t=s.offsetWidth;t<x?this.setState({showPagerSizes:!1}):t>=x&&t<ee?this.setState({showPagerInfo:!1,showPagerSizes:!0}):this.setState({showPagerInfo:!0,showPagerSizes:!0})},this.onKeyDown=s=>{const t=this.element,n=s.keyCode;!t||!this.props.navigatable||((n===r.Keys.home||s.metaKey&&n===r.Keys.left)&&this.changePage(1,s),(n===r.Keys.end||s.metaKey&&n===r.Keys.right)&&this.changePage(this.totalPages,s),document.activeElement===t?(n===r.Keys.enter&&(r.focusFirstFocusableChild(t),r.enableNavigatableContainer(t)),(n===r.Keys.left||n===r.Keys.up)&&this.changePage(this.currentPage-1,s),(n===r.Keys.right||n===r.Keys.down)&&this.changePage(this.currentPage+1,s)):(n===r.Keys.esc&&(t.focus(),r.disableNavigatableContainer(t)),r.keepFocusInContainer(s,t,r.TABBABLE_ELEMENTS)))},r.validatePackage(Y.packageMetadata),this.state={showPagerSizes:!0,showPagerInfo:!0,innerNavigateActive:!1}}get isRtl(){return this.props.dir==="rtl"}get currentPage(){return Math.floor(this.props.skip/this.props.take)+1}get element(){return this._element}componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}render(){const{showPagerSizes:g,showPagerInfo:s}=this.state,{skip:t,take:n,total:d,pageSizes:P,size:c,responsive:K,messagesMap:a,dir:_,style:D,pageSizeValue:F,previousNext:j,className:W,navigatable:y,disabled:f}=this.props,l=v.provideLocalizationService(this),k=v.provideIntlService(this),o=this.currentPage,$=this.props.type==="numeric"?p.createElement(H.PagerNumericButtons,{type:K&&!g?"dropdown":"numbers",buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:this.currentPage,pageChange:this.changePage,messagesMap:this.props.messagesMap,size:c,navigatable:y}):p.createElement(J.PagerInput,{buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:o,pageChange:this.changePage,messagesMap:a,size:c,navigatable:y}),S=a?a(e.pagerFirstPage):{messageKey:e.pagerFirstPage,defaultMessage:e.messages[e.pagerFirstPage]},R=a?a(e.pagerPreviousPage):{messageKey:e.pagerPreviousPage,defaultMessage:e.messages[e.pagerPreviousPage]},I=a?a(e.pagerNextPage):{messageKey:e.pagerNextPage,defaultMessage:e.messages[e.pagerNextPage]},z=a?a(e.pagerLastPage):{messageKey:e.pagerLastPage,defaultMessage:e.messages[e.pagerLastPage]},E=a?a(e.pagerInfo):{messageKey:e.pagerInfo,defaultMessage:e.messages[e.pagerInfo]},w=a?a(e.pagerAriaKeyshortcuts):{messageKey:e.pagerAriaKeyshortcuts,defaultMessage:e.messages[e.pagerAriaKeyshortcuts]},C=a?a(e.pagerPage):{messageKey:e.pagerPage,defaultMessage:e.messages[e.pagerPage]},L=a?a(e.pagerOf):{messageKey:e.pagerOf,defaultMessage:e.messages[e.pagerOf]},b=a?a(e.pagerTotalPages):{messageKey:e.pagerTotalPages,defaultMessage:e.messages[e.pagerTotalPages]},V=`${l.toLanguageString(C.messageKey,C.defaultMessage)} ${k.format(l.toLanguageString(b.messageKey,b.defaultMessage),[o])} ${l.toLanguageString(L.messageKey,L.defaultMessage)} ${k.format(l.toLanguageString(b.messageKey,b.defaultMessage),[this.totalPages])}`;let N,A,O,T;j&&(N=this.renderButton(1,"k-pager-nav k-pager-first"+(o===1&&!f?" k-disabled":""),l.toLanguageString(S.messageKey,S.defaultMessage),this.isRtl?"caret-alt-to-right":"caret-alt-to-left",this.isRtl?u.caretAltToRightIcon:u.caretAltToLeftIcon,o===1?!0:void 0),A=this.renderButton(o-1,"k-pager-nav"+(o===1&&!f?" k-disabled":""),l.toLanguageString(R.messageKey,R.defaultMessage),this.isRtl?"caret-alt-right":"caret-alt-left",this.isRtl?u.caretAltRightIcon:u.caretAltLeftIcon,o===1?!0:void 0),O=this.renderButton(o+1,"k-pager-nav"+(o>=this.totalPages&&!f?" k-disabled":""),l.toLanguageString(I.messageKey,I.defaultMessage),this.isRtl?"caret-alt-left":"caret-alt-right",this.isRtl?u.caretAltLeftIcon:u.caretAltRightIcon,o>=this.totalPages?!0:void 0),T=this.renderButton(this.totalPages,"k-pager-nav k-pager-last"+(o>=this.totalPages&&!f?" k-disabled":""),l.toLanguageString(z.messageKey,z.defaultMessage),this.isRtl?"caret-alt-to-left":"caret-alt-to-right",this.isRtl?u.caretAltToLeftIcon:u.caretAltToRightIcon,o>=this.totalPages?!0:void 0));const q=P&&p.createElement(Q.PagerPageSizes,{pageChange:this.onPageChange,pageSize:n,pageSizes:P,value:F,messagesMap:a,size:c,navigatable:y}),B=this.props.info&&p.createElement("span",{className:"k-pager-info"},k.format(l.toLanguageString(E.messageKey,E.defaultMessage),[Math.min(t+1,d),Math.min(t+n,d),d]));return p.createElement("div",{className:r.classNames("k-pager",{[`k-pager-${r.kendoThemeMaps.sizeMap[c]||c}`]:c,"k-disabled":f},W),style:D,role:"application","aria-roledescription":"pager",dir:_,"aria-keyshortcuts":l.toLanguageString(w.messageKey,w.defaultMessage),"aria-label":V,ref:U=>this._element=U,tabIndex:y?0:void 0,onKeyDown:this.onKeyDown},p.createElement("div",{className:r.classNames("k-pager-numbers-wrap")},N,A,$,O,T),K?g&&q:q,K?s&&B:B)}renderButton(g,s,t,n,d,P){return p.createElement(X.Button,{fillMode:"flat",themeColor:"base",size:this.props.size,rounded:null,className:s,icon:n,svgIcon:d,title:t,role:"button","aria-disabled":P,tabIndex:this.props.navigatable?-1:void 0,onClick:c=>{c.preventDefault(),this.changePage(g,c)}})}get totalPages(){return Math.ceil((this.props.total||0)/this.props.take)}};M.propTypes={className:i.string,style:i.object,total:i.number.isRequired,skip:i.number.isRequired,take:i.number.isRequired,buttonCount:i.number,info:i.bool,type:i.oneOf(["numeric","input"]),pageSizes:i.arrayOf(i.oneOfType([i.string,i.number])),previousNext:i.bool,onPageChange:i.func,messagesMap:i.func,size:i.oneOf([null,"small","medium","large"]),dir:i.string,disabled:i.bool},M.defaultProps={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1};let m=M;v.registerForIntl(m);v.registerForLocalization(m);exports.Pager=m;
