System.register("@progress/kendo-inputs-common",["@progress/kendo-drawing"],function(t,e){var a={};return Object.defineProperty(a,"__esModule",{value:!0}),{setters:[function(e){Object.keys(e).forEach(function(t){a[t]=e[t]})}],execute:function(){t((()=>{"use strict";var o={909:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.limitValue=e.elementOffset=void 0;var o=o(100).drawing.util,n=o.elementOffset,o=o.limitValue;e.elementOffset=n,e.limitValue=o},847:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.limitValue=e.elementOffset=void 0;var n=o(909);Object.defineProperty(e,"elementOffset",{enumerable:!0,get:function(){return n.elementOffset}}),Object.defineProperty(e,"limitValue",{enumerable:!0,get:function(){return n.limitValue}})},215:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MaskingService=void 0;var u=o(223),r=o(566);function n(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}n.prototype.update=function(t){var e=t.mask,o=t.prompt,o=void 0===o?"":o,n=t.promptPlaceholder,n=void 0===n?" ":n,r=t.rules,r=void 0===r?{}:r,t=t.includeLiterals,t=void 0!==t&&t;this.mask=void 0===e?"":e,this.prompt=o,this.promptPlaceholder=n,this.rules=r,this.includeLiterals=t,this.tokenize()},n.prototype.validationValue=function(t){var e=t=void 0===t?"":t;return u.sequence(this.validationTokens).run(t).fold(function(t){e=t.join("")}),e},n.prototype.rawValue=function(t){var e=t=void 0===t?"":t;return this.rawTokens.length&&u.sequence(this.rawTokens).run(t).fold(function(t){e=t.join("")}),e},n.prototype.maskRaw=function(t){var e=t=void 0===t?"":t;return this.maskTokens.length&&u.sequence(this.maskTokens).run(t).fold(function(t){e=t.join("")}),e},n.prototype.maskInput=function(t,e,o){return t.length<e.length?this.maskRemoved(t,e,o):this.maskInserted(t,e,o)},n.prototype.maskInRange=function(t,e,o,n){var r="",i=n,s=e.split("").slice(0,o),a=e.split("").slice(n);return u.sequence(this.maskTokens.slice(o,n)).run(t).fold(function(t){r=s.concat(t).concat(a).join("")}),{selection:i,value:r}},n.prototype.maskRemoved=function(t,e,o){var n=this,r="",i=o,s=t.split("").slice(o),a=t.split("").slice(0,o).join(""),t=this.maskTokens.length-(t.length-o);return u.sequence(this.maskTokens.slice(0,t)).run(a,e).fold(function(t){i=n.adjustPosition(t,i),r=t.concat(s).join("")}),{selection:i,value:r}},n.prototype.adjustPosition=function(t,e){t=t[e];return this.maskTokens[e].isLiteral(t)||t===this.prompt?e:e+1},n.prototype.maskInserted=function(t,o,e){var n=this,r="",i=e,t=t.slice(0,e);return u.sequence(this.unmaskTokens).run(t,o).chain(function(t){i=t.join("").length;var e=o.slice(i);return u.sequence(n.maskTokens).run(t.join("")+e,o)}).fold(function(t){r=t.join("")}),{selection:i,value:r}},Object.defineProperty(n.prototype,"maskTokenCreator",{get:function(){var e=this.prompt,o=this.promptPlaceholder;return{literal:function(t){return r.literal(t)},mask:function(t){return r.mask({prompt:e,promptPlaceholder:o})(t)}}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"unmaskTokenCreator",{get:function(){var e=this;return{literal:function(t){return r.unliteral(t)},mask:function(t){return r.unmask(e.prompt)(t)}}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rawTokenCreator",{get:function(){var e=this.prompt,o=this.promptPlaceholder,n=this.includeLiterals;return{literal:function(t){return r.rawLiteral(n)},mask:function(t){return r.rawMask({prompt:e,promptPlaceholder:o})}}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"validationTokenCreator",{get:function(){var e=this.prompt;return{literal:function(t){return r.rawLiteral(!1)},mask:function(t){return r.rawMask({prompt:e,promptPlaceholder:""})}}},enumerable:!1,configurable:!0}),n.prototype.tokenize=function(){var o=this;u.greedy(r.token(this.rules,this.maskTokenCreator)).run(this.mask).fold(function(t,e){o.maskTokens=t}),u.greedy(r.token(this.rules,this.unmaskTokenCreator)).run(this.mask).fold(function(t,e){o.unmaskTokens=t}),u.greedy(r.token(this.rules,this.rawTokenCreator)).run(this.mask).fold(function(t,e){o.rawTokens=t}),u.greedy(r.token(this.rules,this.validationTokenCreator)).run(this.mask).fold(function(t,e){o.validationTokens=t})},e.MaskingService=n},223:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.greedy=e.sequence=void 0;var n=o(566),r=o(262);e.sequence=function(t){return t.reduce(function(t,e){return o=e,t.chain(function(e){return o.map(function(t){return e.concat([t])})});var o},(e=[],new n.Parser(function(t){return new r.Result(e,t)})));var e},e.greedy=function(o){return new n.Parser(function(t){for(var e=new r.Result([],t);!t.eof();)e=e.concat(o.run(t));return e})}},566:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rawLiteral=e.rawMask=e.token=e.unliteral=e.unmask=e.literal=e.mask=e.Parser=void 0;function n(t){return(t||"").split("")}var s=o(262),r=o(771),a=(i.prototype.run=function(t,e){return void 0===e&&(e=""),t instanceof r.Stream?this.parse(t):this.parse(new r.Stream(n(t),n(e)))},i.prototype.map=function(e){var o=this;return new i(function(t){return o.parse(t).map(e)})},i.prototype.chain=function(o){var e=this;return new i(function(t){return e.parse(t).chain(function(t,e){return o(t).run(e)})})},i.prototype.isLiteral=function(t){return this.run(t).type===s.ResultType.Literal},i);function i(t){this.parse=t}e.Parser=a,e.mask=function(t){var r=t.prompt,i=t.promptPlaceholder;return function(n){return new a(function(t){for(;!t.eof();){var e=t.peek(),o=e.char,e=e.control;if(o===e&&e===r)return t.eat(),new s.Result(r,t,s.ResultType.Mask);if(n.test(o))return t.eat(),new s.Result(o,t,s.ResultType.Mask);if(o===i)return t.eat(),new s.Result(r,t,s.ResultType.Mask);t.eat_input()}return t.eat(),new s.Result(r,t,s.ResultType.Mask)})}},e.literal=function(e){return new a(function(t){return t.peek().char===e&&t.eat(),new s.Result(e,t,s.ResultType.Literal)})},e.unmask=function(r){return function(n){return new a(function(t){for(;!t.eof();){var e=t.peek(),o=e.char,e=e.control;if(o===r&&e===r)return t.eat(),new s.Result(o,t);if(n.test(o))return t.eat(),new s.Result(o,t);t.eat_input()}return t.eat(),new s.Result("",t)})}},e.unliteral=function(e){return new a(function(t){return t.eof()?new s.Result("",t):(t.peek().char===e&&t.eat(),new s.Result(e,t))})},e.token=function(n,r){return new a(function(t){var e=t.next().char,o=n[e];return"\\"===e?(e=t.next().char,new s.Result(r.literal(e),t)):o?new s.Result(r.mask(o),t):new s.Result(r.literal(e),t)})},e.rawMask=function(t){var o=t.prompt,n=t.promptPlaceholder;return new a(function(t){var e=t.next().char;return e===o?new s.Result(n,t):new s.Result(e,t)})},e.rawLiteral=function(o){return new a(function(t){var e=t.next().char;return o?new s.Result(e,t):new s.Result("",t)})}},262:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Result=e.ResultType=void 0,(o=n=e.ResultType||(e.ResultType={}))[o.Literal=0]="Literal",o[o.Mask=1]="Mask",o[o.Undefined=2]="Undefined",r.prototype.map=function(t){return new r(t(this.value),this.rest)},r.prototype.chain=function(t){return t(this.value,this.rest)},r.prototype.fold=function(t,e){return t(this.value,this.rest)},r.prototype.concat=function(e){return this.map(function(o,t){return e.chain(function(t,e){return o.concat([t])})})},r.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"};var n,o=r;function r(t,e,o){void 0===o&&(o=n.Undefined),this.value=t,this.rest=e,this.type=o}e.Result=o},771:(t,e)=>{function o(t,e){void 0===e&&(e=[]),this.input=t=void 0===t?[]:t,this.control=e,this.inputCursor=0,this.controlCursor=0}Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=void 0,o.prototype.eof=function(){return this.inputCursor>=this.input.length},o.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},o.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},o.prototype.eat_input=function(){this.inputCursor++},o.prototype.eat_control=function(){this.controlCursor++},o.prototype.eat=function(){this.inputCursor++,this.controlCursor++},e.Stream=o},887:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SignaturePad=void 0;function n(){}var s=o(100),r=o(847),i=s.geometry.Point,a=s.geometry.Rect,u=s.geometry.transform;function h(t,e){void 0===e&&(e={}),this.element=t,this.lastMoveTime=0,this.resolveColors(e),this.options=Object.assign({scale:1,precision:1,samplingRate:200,smooth:!1!==e.smooth,color:"#000",backgroundColor:"#fff",strokeWidth:1,onChange:n,onDraw:n,onDrawEnd:n},e,{color:this.color,backgroundColor:this.backgroundColor}),this.pathOptions={stroke:{color:this.options.color,width:this.options.strokeWidth,lineCap:"round",lineJoin:"round"}},this.initSurface(),this.attachEvents()}h.prototype.destroy=function(){this.detachEvents()},h.prototype.clear=function(){this.rootGroup.clear(),this.path=null},h.prototype.readThemeColors=function(){var t,e;"undefined"!=typeof document&&(t=(e=(e=this.element.closest(".k-signature")||this.element).ownerDocument.defaultView.getComputedStyle(e)).color,e=e.backgroundColor),this.themeColor=t||this.themeColor||"#000",this.themeBackgroundColor=e||this.themeBackgroundColor||"#fff"},h.prototype.resolveColors=function(t){this.readThemeColors(),this.color=t.color||(this.options||{}).color||this.themeColor,this.backgroundColor=t.backgroundColor||(this.options||{}).backgroundColor||this.themeBackgroundColor},Object.defineProperty(h.prototype,"isDrawing",{get:function(){return Boolean(this.points)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"pathData",{get:function(){var t;return null==(t=this.path)?void 0:t.toString(3)},set:function(t){this.clear(),this.path=s.MultiPath.parse(t,this.pathOptions),this.rootGroup.append(this.path)},enumerable:!1,configurable:!0}),h.prototype.loadImage=function(t,e){var o,n,r;void 0===e&&(e=[]),t?(n=(r=this.size)[0],r=r[1],n=n/this.options.scale,r=r/this.options.scale,o=e[0]||6*n,e=e[1]||6*r,n=Math.min(n/o,r/e),(r=new s.Image(t,new s.geometry.Rect([0,0],[o,e]))).transform(u().scale(n,n)),this.clear(),this.rootGroup.append(r)):this.clear()},h.prototype.exportImage=function(t){var e=this.size,o=e[0],e=e[1],o=o/this.options.scale,e=e/this.options.scale,n=(null==t?void 0:t.width)||6*o,r=(null==t?void 0:t.height)||6*e,o=Math.min(n/o,r/e),e=new a([0,0],[n,r]),i=new s.Group({clip:s.Path.fromRect(e)}),o=new s.Group({transform:u().scale(o,o)}),e=s.Path.fromRect(e,{fill:{color:this.options.backgroundColor}});return i.append(e),i.append(o),(e=o.children).push.apply(e,this.rootGroup.children),s.exportImage(i,Object.assign({width:n,height:r},t))},h.prototype.resize=function(){this.surface.resize(!0)},h.prototype.setOptions=function(t){this.resolveColors(t),Object.assign(this.options,t,{color:this.color,backgroundColor:this.backgroundColor}),this.pathOptions.stroke.color=this.options.color,this.pathOptions.stroke.width=this.options.strokeWidth,this.path&&(this.path.options.set("stroke.color",this.options.color),this.path.options.set("stroke.width",this.options.strokeWidth)),this.background.options.set("fill.color",this.options.backgroundColor)},h.prototype.initSurface=function(){this.surface=s.Surface.create(this.element,{type:"canvas"}),this.element.style.touchAction="none";var t=this.options.scale,t=(this.rootGroup=new s.Group({transform:u().scale(t,t)}),this.element.offsetWidth||750),e=this.element.offsetHeight||250;this.size=[t,e],this.background=s.Path.fromRect(new a([0,0],this.size),{fill:{color:this.options.backgroundColor}}),this.surface.draw(this.background),this.surface.draw(this.rootGroup)},h.prototype.attachEvents=function(){this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onDragStart=this.onDragStart.bind(this),this.element.addEventListener("pointerdown",this.onPointerDown),this.element.addEventListener("pointerup",this.onPointerUp),this.element.addEventListener("dragstart",this.onDragStart)},h.prototype.detachEvents=function(){this.element.removeEventListener("pointerdown",this.onPointerDown),this.detachPointerMove(),this.element.removeEventListener("pointerup",this.onPointerUp),this.element.removeEventListener("dragstart",this.onDragStart)},h.prototype.attachPointerMove=function(){this.element.addEventListener("pointermove",this.onPointerMove)},h.prototype.detachPointerMove=function(){this.element.removeEventListener("pointermove",this.onPointerMove)},h.prototype.touchPoint=function(t){var e=r.elementOffset(this.element),o=t.pageX,t=t.pageY,n=1/this.options.scale;return new i(o-e.left,t-e.top).scale(n,n)},h.prototype.onDragStart=function(t){t.preventDefault()},h.prototype.onPointerDown=function(t){this.options.readonly||!t.isPrimary||"number"==typeof t.button&&0!==t.button||(this.detachPointerMove(),this.attachPointerMove(),this.path||(this.path=new s.MultiPath(this.pathOptions),this.rootGroup.append(this.path)),this.options.onDraw(),this.element.setPointerCapture(t.pointerId),t=this.touchPoint(t),this.points=[t],this.path.moveTo(t))},h.prototype.onPointerMove=function(t){var e,o;this.points&&this.path&&t.isPrimary&&((e=(new Date).getTime())-this.lastMoveTime<1e3/r.limitValue(this.options.samplingRate,1,1e4)||(this.lastMoveTime=e,e=this.touchPoint(t),t=this.points[this.points.length-1],o=1/r.limitValue(this.options.precision,.01,100),e.distanceTo(t)<o)||(this.points.push(e),this.path.lineTo(e)))},h.prototype.onPointerUp=function(t){t.isPrimary&&this.path&&this.points&&!this.options.readonly&&(this.detachPointerMove(),this.options.smooth&&(t=s.Path.curveFromPoints(this.points),this.path.paths.splice(this.path.paths.length-1,1,t)),this.points=null,this.options.onDrawEnd(),this.options.onChange(this.pathData))},e.SignaturePad=h},100:t=>{t.exports=a}},n={};function r(t){var e=n[t];return void 0!==e||(e=n[t]={exports:{}},o[t](e,e.exports,r)),e.exports}var t,e,i,s={};return t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.SignaturePad=t.MaskingService=void 0,e=r(215),Object.defineProperty(t,"MaskingService",{enumerable:!0,get:function(){return e.MaskingService}}),i=r(887),Object.defineProperty(t,"SignaturePad",{enumerable:!0,get:function(){return i.SignaturePad}}),s})())}}});