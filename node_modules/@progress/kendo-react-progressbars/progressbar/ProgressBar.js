/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const F=require("react"),a=require("prop-types"),H=require("@progress/kendo-react-animation"),v=require("@progress/kendo-react-common"),c=require("../common/utils.js"),K=require("./hooks/usePrevious.js"),C=require("../common/constants.js"),G=require("../package-metadata.js");function J(t){const m=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const s in t)if(s!=="default"){const u=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(m,s,u.get?u:{enumerable:!0,get:()=>t[s]})}}return m.default=t,Object.freeze(m)}const e=J(F),y=e.forwardRef((t,m)=>{v.validatePackage(G.packageMetadata);const{animation:s=i.animation,disabled:u=i.disabled,reverse:I=i.reverse,orientation:x,labelVisible:T=i.labelVisible,labelPlacement:k,max:l=i.max,min:o=i.min,tabIndex:q,className:A,style:j,emptyStyle:M,emptyClassName:N,progressStyle:V,progressClassName:P}=t,d=e.useRef(null),b=e.useRef(null),p=e.useRef(null),_=e.useCallback(()=>{d.current&&d.current.focus()},[]);e.useImperativeHandle(m,()=>({element:d.current,progressStatusElement:b.current,progressStatusWrapElement:p.current,focus:_}));const r=t.value||i.value,g=K.usePrevious(r),S=t.value===null,w=v.useRtl(d,t.dir),n=x==="vertical",D=c.truncateNumber(r),L={value:r},E=T?t.label?e.createElement("span",{className:"k-progress-status"},e.createElement(t.label,{...L})):e.createElement("span",{className:"k-progress-status"},D):void 0,h={className:v.classNames("k-progressbar",{"k-progressbar-horizontal":!n,"k-progressbar-vertical":n,"k-progressbar-reverse":I,"k-progressbar-indeterminate":S,"k-disabled":u},A),ref:d,dir:w,tabIndex:v.getTabIndex(q,u),role:"progressbar","aria-label":t.ariaLabel,"aria-valuemin":o,"aria-valuemax":l,"aria-valuenow":S?void 0:r,"aria-disabled":u,style:j},R=v.classNames("k-progress-status-wrap",{"k-progress-start":k==="start","k-progress-center":k==="center","k-progress-end":k==="end"||k===void 0}),O=typeof s!="boolean"&&s!==void 0?s.duration:s?C.DEFAULT_ANIMATION_DURATION:C.NO_ANIMATION,U=e.useCallback(()=>{const f=c.calculatePercentage(o,l,g);c.updateProgress(b,p,f,n)},[n,l,o,g]),B=e.useCallback(f=>{const W=c.calculatePercentage(o,l,g+(r-g)*f);c.updateProgress(b,p,W,n)},[o,l,g,r,n]),z=e.useCallback(()=>{const f=c.calculatePercentage(o,l,r);c.updateProgress(b,p,f,n)},[n,l,o,r]);return H.useAnimation({duration:O,onStart:U,onUpdate:B,onEnd:z},[r,O]),e.createElement("div",{...h},e.createElement("span",{className:R+(N?" "+N:""),style:M},E),e.createElement("div",{className:"k-progressbar-value k-selected",style:V,ref:b},e.createElement("span",{className:R+(P?" "+P:""),ref:p},E)))});y.propTypes={animation:a.any,ariaLabel:a.string,disabled:a.bool,reverse:a.bool,label:a.any,labelVisible:a.bool,labelPlacement:a.oneOf(["start","center","end"]),max:a.number,min:a.number,value:a.number,tabIndex:a.number,emptyStyle:a.object,emptyClassName:a.string,progressStyle:a.object,progressClassName:a.string};const i={animation:!1,min:0,max:100,value:0,disabled:!1,reverse:!1,labelVisible:!0};y.displayName="KendoProgressBar";exports.ProgressBar=y;
