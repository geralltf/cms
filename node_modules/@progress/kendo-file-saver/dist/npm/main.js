'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function saveAs(data, fileName, options) {
  if ( options === void 0 ) options = {};

  var save = postToProxy;

  if (options.forceProxy && !options.proxyURL) {
    throw new Error('No proxyURL is set, but forceProxy is true');
  }

  if (!options.forceProxy) {
    if (canDownload()) {
      save = saveAsDataURI;
    }

    if (navigator.msSaveBlob) {
      save = saveAsBlob;
    }
  }

  save(data, fileName, options);
}

var anchor = function () { return document.createElement('a'); };
var canDownload = function () { return 'download' in anchor(); };

function saveAsBlob(data, fileName) {
  var blob = data; // could be a Blob object

  if (typeof data === 'string') {
    var parts = data.split(';base64,');
    var contentType = parts[0];
    var base64 = atob(parts[1]);
    var array = new Uint8Array(base64.length);

    for (var idx = 0; idx < base64.length; idx++) {
      array[idx] = base64.charCodeAt(idx);
    }

    blob = new Blob([ array.buffer ], { type: contentType });
  }

  navigator.msSaveBlob(blob, fileName);
}

function saveAsDataURI(data, fileName) {
  var dataURI = data;
  if (window.Blob && data instanceof Blob) {
    dataURI = URL.createObjectURL(data);
  }

  var fileSaver = anchor();
  fileSaver.download = fileName;
  fileSaver.href = dataURI;

  var e = document.createEvent('MouseEvents');
  e.initMouseEvent('click', true, false, window,
  0, 0, 0, 0, 0, false, false, false, false, 0, null);

  fileSaver.dispatchEvent(e);
  setTimeout(function () { return URL.revokeObjectURL(dataURI); });
}

function postToProxy(dataURI, fileName, options) {
  if (!options.proxyURL) {
    return;
  }

  var form = document.createElement('form');
  form.setAttribute('action', options.proxyURL);
  form.setAttribute('method', 'POST');
  form.setAttribute('target', options.proxyTarget || '_self');

  var formData = options.proxyData || {};
  formData.fileName = fileName;

  var parts = dataURI.split(";base64,");
  formData.contentType = parts[0].replace("data:", "");
  formData.base64 = parts[1];

  for (var name in formData) {
    if (formData.hasOwnProperty(name)) {
      var input = document.createElement('input');
      input.setAttribute('type', 'hidden');
      input.setAttribute('name', name);
      input.setAttribute('value', formData[name]);

      form.appendChild(input);
    }
  }

  document.body.appendChild(form);
  form.submit();
  document.body.removeChild(form);
}

var KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
var fromCharCode = String.fromCharCode;

function encodeBase64(plainText) {
  var input = encodeUTF8(plainText);
  var output = "";
  var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
  var i = 0;

  while (i < input.length) {
    chr1 = input.charCodeAt(i++);
    chr2 = input.charCodeAt(i++);
    chr3 = input.charCodeAt(i++);

    enc1 = chr1 >> 2;
    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
    enc4 = chr3 & 63;

    if (isNaN(chr2)) {
      enc3 = enc4 = 64;
    } else if (isNaN(chr3)) {
      enc4 = 64;
    }

    output = output +
      KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +
      KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);
  }

  return output;
}

function encodeUTF8(input) {
  var output = "";

  for (var i = 0; i < input.length; i++) {
    var c = input.charCodeAt(i);

    if (c < 0x80) {
      // One byte
      output += fromCharCode(c);
    } else if (c < 0x800) {
      // Two bytes
      output += fromCharCode(0xC0 | (c >>> 6));
      output += fromCharCode(0x80 | (c & 0x3f));
    } else if (c < 0x10000) {
      // Three bytes
      output += fromCharCode(0xE0 | (c >>> 12));
      output += fromCharCode(0x80 | (c >>> 6 & 0x3f));
      output += fromCharCode(0x80 | (c & 0x3f));
    }
  }

  return output;
}

exports.saveAs = saveAs;
exports.encodeBase64 = encodeBase64;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1maWxlLXNhdmVyL2tlbmRvLWZpbGUtc2F2ZXIvc3JjL3NhdmUtYXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tZmlsZS1zYXZlci9rZW5kby1maWxlLXNhdmVyL3NyYy9iYXNlNjQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHNhdmVBcyhkYXRhLCBmaWxlTmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBzYXZlID0gcG9zdFRvUHJveHk7XG5cbiAgaWYgKG9wdGlvbnMuZm9yY2VQcm94eSAmJiAhb3B0aW9ucy5wcm94eVVSTCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gcHJveHlVUkwgaXMgc2V0LCBidXQgZm9yY2VQcm94eSBpcyB0cnVlJyk7XG4gIH1cblxuICBpZiAoIW9wdGlvbnMuZm9yY2VQcm94eSkge1xuICAgIGlmIChjYW5Eb3dubG9hZCgpKSB7XG4gICAgICBzYXZlID0gc2F2ZUFzRGF0YVVSSTtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHtcbiAgICAgIHNhdmUgPSBzYXZlQXNCbG9iO1xuICAgIH1cbiAgfVxuXG4gIHNhdmUoZGF0YSwgZmlsZU5hbWUsIG9wdGlvbnMpO1xufVxuXG5jb25zdCBhbmNob3IgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5jb25zdCBjYW5Eb3dubG9hZCA9ICgpID0+ICdkb3dubG9hZCcgaW4gYW5jaG9yKCk7XG5cbmZ1bmN0aW9uIHNhdmVBc0Jsb2IoZGF0YSwgZmlsZU5hbWUpIHtcbiAgbGV0IGJsb2IgPSBkYXRhOyAvLyBjb3VsZCBiZSBhIEJsb2Igb2JqZWN0XG5cbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IHBhcnRzID0gZGF0YS5zcGxpdCgnO2Jhc2U2NCwnKTtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHBhcnRzWzBdO1xuICAgIGNvbnN0IGJhc2U2NCA9IGF0b2IocGFydHNbMV0pO1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYmFzZTY0Lmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBiYXNlNjQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgYXJyYXlbaWR4XSA9IGJhc2U2NC5jaGFyQ29kZUF0KGlkeCk7XG4gICAgfVxuXG4gICAgYmxvYiA9IG5ldyBCbG9iKFsgYXJyYXkuYnVmZmVyIF0sIHsgdHlwZTogY29udGVudFR5cGUgfSk7XG4gIH1cblxuICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlTmFtZSk7XG59XG5cbmZ1bmN0aW9uIHNhdmVBc0RhdGFVUkkoZGF0YSwgZmlsZU5hbWUpIHtcbiAgbGV0IGRhdGFVUkkgPSBkYXRhO1xuICBpZiAod2luZG93LkJsb2IgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICBkYXRhVVJJID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZpbGVTYXZlciA9IGFuY2hvcigpO1xuICBmaWxlU2F2ZXIuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgZmlsZVNhdmVyLmhyZWYgPSBkYXRhVVJJO1xuXG4gIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgZS5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCBmYWxzZSwgd2luZG93LFxuICAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG5cbiAgZmlsZVNhdmVyLmRpc3BhdGNoRXZlbnQoZSk7XG4gIHNldFRpbWVvdXQoKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTChkYXRhVVJJKSk7XG59XG5cbmZ1bmN0aW9uIHBvc3RUb1Byb3h5KGRhdGFVUkksIGZpbGVOYW1lLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucy5wcm94eVVSTCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGZvcm0uc2V0QXR0cmlidXRlKCdhY3Rpb24nLCBvcHRpb25zLnByb3h5VVJMKTtcbiAgZm9ybS5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsICdQT1NUJyk7XG4gIGZvcm0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCBvcHRpb25zLnByb3h5VGFyZ2V0IHx8ICdfc2VsZicpO1xuXG4gIGNvbnN0IGZvcm1EYXRhID0gb3B0aW9ucy5wcm94eURhdGEgfHwge307XG4gIGZvcm1EYXRhLmZpbGVOYW1lID0gZmlsZU5hbWU7XG5cbiAgY29uc3QgcGFydHMgPSBkYXRhVVJJLnNwbGl0KFwiO2Jhc2U2NCxcIik7XG4gIGZvcm1EYXRhLmNvbnRlbnRUeXBlID0gcGFydHNbMF0ucmVwbGFjZShcImRhdGE6XCIsIFwiXCIpO1xuICBmb3JtRGF0YS5iYXNlNjQgPSBwYXJ0c1sxXTtcblxuICBmb3IgKGxldCBuYW1lIGluIGZvcm1EYXRhKSB7XG4gICAgaWYgKGZvcm1EYXRhLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnaGlkZGVuJyk7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBuYW1lKTtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBmb3JtRGF0YVtuYW1lXSk7XG5cbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIGZvcm0uc3VibWl0KCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7XG59XG5cbiIsImNvbnN0IEtFWV9TVFIgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG5jb25zdCBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlQmFzZTY0KHBsYWluVGV4dCkge1xuICBjb25zdCBpbnB1dCA9IGVuY29kZVVURjgocGxhaW5UZXh0KTtcbiAgbGV0IG91dHB1dCA9IFwiXCI7XG4gIGxldCBjaHIxLCBjaHIyLCBjaHIzLCBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0O1xuICBsZXQgaSA9IDA7XG5cbiAgd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICBjaHIxID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgIGNocjIgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG4gICAgY2hyMyA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcblxuICAgIGVuYzEgPSBjaHIxID4+IDI7XG4gICAgZW5jMiA9ICgoY2hyMSAmIDMpIDw8IDQpIHwgKGNocjIgPj4gNCk7XG4gICAgZW5jMyA9ICgoY2hyMiAmIDE1KSA8PCAyKSB8IChjaHIzID4+IDYpO1xuICAgIGVuYzQgPSBjaHIzICYgNjM7XG5cbiAgICBpZiAoaXNOYU4oY2hyMikpIHtcbiAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgZW5jNCA9IDY0O1xuICAgIH1cblxuICAgIG91dHB1dCA9IG91dHB1dCArXG4gICAgICBLRVlfU1RSLmNoYXJBdChlbmMxKSArIEtFWV9TVFIuY2hhckF0KGVuYzIpICtcbiAgICAgIEtFWV9TVFIuY2hhckF0KGVuYzMpICsgS0VZX1NUUi5jaGFyQXQoZW5jNCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBlbmNvZGVVVEY4KGlucHV0KSB7XG4gIGxldCBvdXRwdXQgPSBcIlwiO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjID0gaW5wdXQuY2hhckNvZGVBdChpKTtcblxuICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgLy8gT25lIGJ5dGVcbiAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoYyk7XG4gICAgfSBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgIC8vIFR3byBieXRlc1xuICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZSgweEMwIHwgKGMgPj4+IDYpKTtcbiAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHg4MCB8IChjICYgMHgzZikpO1xuICAgIH0gZWxzZSBpZiAoYyA8IDB4MTAwMDApIHtcbiAgICAgIC8vIFRocmVlIGJ5dGVzXG4gICAgICBvdXRwdXQgKz0gZnJvbUNoYXJDb2RlKDB4RTAgfCAoYyA+Pj4gMTIpKTtcbiAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHg4MCB8IChjID4+PiA2ICYgMHgzZikpO1xuICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZSgweDgwIHwgKGMgJiAweDNmKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbiJdLCJuYW1lcyI6WyJsZXQiLCJjb25zdCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFPLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsT0FBWSxFQUFFO21DQUFQLEdBQUcsRUFBRTs7RUFDakRBLElBQUksSUFBSSxHQUFHLFdBQVcsQ0FBQzs7RUFFdkIsSUFBSSxPQUFPLENBQUMsVUFBVSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRTtJQUMzQyxNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7R0FDL0Q7O0VBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7SUFDdkIsSUFBSSxXQUFXLEVBQUUsRUFBRTtNQUNqQixJQUFJLEdBQUcsYUFBYSxDQUFDO0tBQ3RCOztJQUVELElBQUksU0FBUyxDQUFD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