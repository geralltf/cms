/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const T=require("react"),b=require("../utils/index.js"),N=require("@progress/kendo-react-inputs"),f=require("@progress/kendo-react-dateinputs"),g=require("@progress/kendo-react-common"),E=require("@progress/kendo-react-data-tools"),r=require("../constants/index.js");function _(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const a in e)if(a!=="default"){const i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:()=>e[a]})}}return n.default=e,Object.freeze(n)}const t=_(T),h=e=>{const n=b.getNestedValue(e.field,e.dataItem);let a=null;const i=g.classNames("k-table-td","k-grid-edit-cell",{"k-selected":e.isSelected},e.className),I=g.useId(),u=E.useTableKeyboardNavigation(e.id);let c=null,d=null;const C=t.useCallback(l=>{if(e.onChange){const k=l.target.type==="checkbox"?l.target.checked:l.target.value;e.onChange({dataItem:e.dataItem,dataIndex:e.dataIndex,field:e.field,syntheticEvent:l,value:k})}},[e.onChange,e.dataItem,e.dataIndex,e.field]),o=t.useCallback(l=>{e.onContextMenu&&e.onContextMenu.call(void 0,l,e.dataItem,e.field)},[e.onContextMenu,e.dataItem,e.field]),s=t.useCallback(l=>{e.onChange&&e.onChange({dataItem:e.dataItem,dataIndex:e.dataIndex,field:e.field,syntheticEvent:l.syntheticEvent,value:l.value})},[e.onChange,e.dataItem,e.dataIndex,e.field]);switch(e.editor){case"numeric":{c={onContextMenu:o,colSpan:e.colSpan,style:e.style,className:i,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[r.GRID_COL_INDEX_ATTRIBUTE]:e.columnIndex,role:"gridcell",...u},d=t.createElement(N.NumericTextBox,{value:n===void 0?null:n,onChange:s,[E.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),a=t.createElement("td",{...c},d);break}case"date":c={onContextMenu:o,colSpan:e.colSpan,style:e.style,className:i,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[r.GRID_COL_INDEX_ATTRIBUTE]:e.columnIndex,role:"gridcell",...u},d=t.createElement(f.DatePicker,{value:n,onChange:s,[E.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),a=t.createElement("td",{...c},d);break;case"boolean":c={onContextMenu:o,colSpan:e.colSpan,style:e.style,className:i,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[r.GRID_COL_INDEX_ATTRIBUTE]:e.columnIndex,role:"gridcell",...u},d=[t.createElement("span",{key:1,className:"k-checkbox-wrap"},t.createElement("input",{checked:n||!1,id:I,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md",onChange:C})),t.createElement("label",{className:"k-checkbox-label",htmlFor:I,key:2})],a=t.createElement("td",{...c},d);break;default:c={onContextMenu:o,colSpan:e.colSpan,style:e.style,className:i,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[r.GRID_COL_INDEX_ATTRIBUTE]:e.columnIndex,role:"gridcell",...u},d=t.createElement("input",{style:{width:"100%"},className:"k-input",value:n||"",onChange:C,[E.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),a=t.createElement("td",{...c},d)}const x=e.editor||"text",m=e.cells;if(m&&m.edit&&m.edit[x]){const l=m.edit[x];return t.createElement(l,{...e,tdProps:c},d)}return e.render?e.render.call(void 0,a,e):a};exports.GridEditCell=h;
