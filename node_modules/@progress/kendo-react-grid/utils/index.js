/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("../GridColumn.js"),x=require("@progress/kendo-react-data-tools");function f(e,t){const a=(e||"").split(".");let o=t;return a.forEach(i=>{o=o?o[i]:void 0}),o}function g(e,t,a,o,i,s,n=0){let d=n;for(let r=0;r<t.length;r++){if(!i||t[r].value===void 0||t[r].items===void 0){e[e.length]={dataIndex:o.index,dataItem:t[r],rowType:"data",level:n,expanded:s===void 0||f(s,t[r])},o.index++;continue}d=Math.max(d,n+1);const l=s===void 0||f(s,t[r])===void 0||f(s,t[r]);e[e.length]={dataIndex:-1,dataItem:t[r],level:n,rowType:"groupHeader",expanded:l},l&&(d=Math.max(g(e,t[r].items,a,o,i,s,n+1),d)),(a==="always"||l&&a==="visible")&&(e[e.length]={dataIndex:-1,dataItem:t[r],rowType:"groupFooter",level:n,expanded:l})}return d}function u(e,t,a,o=0){let i=[];if(!e)return[];e&&e.length===void 0&&(e=[e]),e.forEach((n,d)=>{n=n.props?n.props:n;const r=t[d]||null,l=u(n.children,r&&r.children||[],a,o+1);i.push(Object.assign({depth:o},c.gridDefaultProps,l.length?{cell:()=>null,filterCell:()=>null}:{},r?{width:r.width,orderIndex:r.orderIndex}:{},n,{id:n.id?n.id:x.tableKeyboardNavigationTools.generateNavigatableId(`${a.prevId++}`,a.idPrefix,"column"),declarationIndex:i.length,children:l,rowSpan:0,colSpan:0,isAccessible:!0,left:r&&Math.floor(r.left),right:r&&Math.floor(r.right)}))});const s=(n,d)=>n.orderIndex===d.orderIndex?n.declarationIndex-d.declarationIndex:(n.orderIndex||0)-(d.orderIndex||0);if(i.sort(s),o===0){let n=[];const d=(r,l)=>r.forEach(h=>{h.parentIndex=l,d(h.children,n.push(h)-1)});return d(i,-1),n}return i}function p(e,t,a,o){let i=[];Array.isArray(e)?i=e:e&&(i=e.data);const s=[];if(i.length>0){let n=i[0];if(t)for(let r=0;r<t.length;r++)n=n.items&&n.items[0];Object.getOwnPropertyNames(n).forEach(r=>{r!==a&&s.push(Object.assign({id:x.tableKeyboardNavigationTools.generateNavigatableId(`${o.prevId++}`,o.idPrefix,"column"),declarationIndex:-1,parentIndex:-1,depth:0,colSpan:0,rowSpan:0,index:0,left:0,right:0,rightBorder:!1,children:[],ariaColumnIndex:0,isAccessible:!0},c.gridDefaultProps,{field:r}))})}return s}const v=(e,t)=>{let a=e[t.parentIndex];for(;a;){if(a.footerCell)return!0;a=e[a.parentIndex]}return!1},w=e=>e.filter(t=>v(e,t)?!1:!!t.footerCell||!(t.children&&t.children.length>0)),y=e=>e.width!==void 0?Math.floor(parseFloat(e.width.toString()))+"px":void 0,I=e=>(e.sort((t,a)=>t.declarationIndex-a.declarationIndex),e.map(t=>{const{declarationIndex:a,parentIndex:o,depth:i,colSpan:s,rowSpan:n,index:d,kFirst:r,children:l,...h}=t;return l.length?{children:I(l),...h}:h})),b=typeof window!="undefined"&&/Firefox/.test(window.navigator.userAgent),S=17895697,M=(e,t)=>{if(!(!e&&!t))return t?e?{...e,...t,select:{...e.select||{},...t.select||{}},hierarchy:{...e.hierarchy||{},...t.hierarchy||{}},group:{...e.group||{},...t.group||{}},edit:{...e.edit||{},...t.edit||{}}}:t:e};exports.autoGenerateColumns=p;exports.firefox=b;exports.firefoxMaxHeight=S;exports.flatData=g;exports.footerColumns=w;exports.getColumnWidth=y;exports.getNestedValue=f;exports.readColumns=u;exports.resolveCells=M;exports.sanitizeColumns=I;
