/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-react-common"),require("@progress/kendo-react-labels"),require("@progress/kendo-svg-icons"),require("@progress/kendo-react-popup"),require("@progress/kendo-react-inputs"),require("@progress/kendo-react-intl"),require("@progress/kendo-react-buttons"),require("@progress/kendo-react-layout"),require("@progress/kendo-react-treeview")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-react-common","@progress/kendo-react-labels","@progress/kendo-svg-icons","@progress/kendo-react-popup","@progress/kendo-react-inputs","@progress/kendo-react-intl","@progress/kendo-react-buttons","@progress/kendo-react-layout","@progress/kendo-react-treeview"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactDropdowns={},e.React,e.PropTypes,e.KendoReactCommon,e.KendoReactLabels,e.KendoSvgIcons,e.KendoReactPopup,e.KendoReactInputs,e.KendoReactIntl,e.KendoReactButtons,e.KendoReactLayout,e.KendoReactTreeview)}(this,(function(e,t,s,i,a,n,o,l,r,d,p,h){"use strict";function c(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}})),t.default=e,Object.freeze(t)}var u=c(t);let g=class extends u.Component{render(){const{children:e,width:t,dir:s,itemsCount:i,popupSettings:a}=this.props;return u.createElement(o.Popup,{style:{width:t,direction:s},contentKey:i&&i.join(),...a},e)}};const v=u.forwardRef(((e,t)=>{const s=u.useRef(null),{renderListFilterWrapper:a=!1,renderPrefixSeparator:o=!1,...r}=e;u.useImperativeHandle(t,(()=>s.current));const d=u.createElement(l.TextBox,{...r,ref:s,className:"k-searchbox",value:e.value||"",onChange:e.onChange,onKeyDown:e.onKeyDown,tabIndex:e.tabIndex,onClick:e=>e.stopPropagation(),size:e.size,fillMode:e.fillMode,rounded:e.rounded,prefix:()=>u.createElement(u.Fragment,null,u.createElement(l.InputPrefix,null,u.createElement(i.IconWrap,{name:"search",icon:n.searchIcon,className:"k-input-icon"})),o&&u.createElement(l.InputSeparator,null))});return a?u.createElement("div",{className:"k-list-filter"}," ",d," "):d}));v.propTypes={value:s.oneOfType([s.string,s.number,s.array]),tabIndex:s.number,onChange:s.func,onKeyDown:s.func,size:s.oneOf([null,"small","medium","large"]),rounded:s.oneOf([null,"small","medium","large","full"]),fillMode:s.oneOf([null,"solid","flat","outline"]),renderListFilterWrapper:s.bool,renderPrefixSeparator:s.bool},v.displayName="KendoReactListFilter";const m=v;let f=class extends u.Component{render(){const{group:e,groupMode:t,render:s}=this.props,i=u.createElement("div",{className:"k-list-group-sticky-header"},"classic"===t?e:u.createElement("div",{className:"k-list-header-text"},e));return void 0!==s?s.call(void 0,i,this.props):i}};const b=e=>null!=e,y=(e,t,s)=>{if(!b(e))return!1;let i=String(e);return s&&(i=i.toLowerCase()),0===i.indexOf(t)},k=(e,t,s,i,a)=>{const n=e.offsetHeight,o=t.children.item(s),l=o.offsetTop+(a?i-e.scrollTop:0),r=o.offsetHeight;if(a){let t=0;l+r>n?t=l+r-n:l<0&&(t=l),0!==t?e.scrollTop+=t:0===e.scrollTop&&0!==i&&(e.scrollTop=i)}else l+r>n+e.scrollTop?e.scrollTop=l+r-n:l<e.scrollTop&&(e.scrollTop-=e.scrollTop-l)},x=(e,t,s)=>{let i=-1;if(t){t=t.toLowerCase();for(let a=0;a<e.length;a++){const n=(I(e[a],s)||"")+"";if(n&&n.toLowerCase().startsWith(t)){i=a;break}}}return i},C=(e,t,s,i=!1)=>{const a=e=>i?e:e.toLowerCase();return e.findIndex((e=>s?a(I(e,s))===a(t):a(t)===a(e.toString())))},I=(e,t)=>{if(t&&b(e)){const s=t.split(".");let i=e;return s.forEach((e=>{i=i?i[e]:void 0})),i}return e},S=(e,t,s)=>{t.forEach((t=>{const i=e.findIndex((e=>E(e,t,s)));-1!==i&&e.splice(i,1)}))},E=(e,t,s)=>e===t||b(e)===b(t)&&I(e,s)===I(t,s),w=(e,t,s)=>{if(t){const i=C(e,t,s,!0);return-1!==i?e[i]:e[x(e,t,s)]}return e[0]},F=e=>{"INPUT"!==e.target.nodeName&&e.preventDefault()},D=(e,t,s)=>!!e==!!t&&e.text===t.text&&(e===t||((e=[],t=[],s)=>{if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!E(e[i],t[i],s))return!1;return!0})(e.data,t.data,s)),K=e=>e.preventDefault();class M extends u.Component{render(){const{selected:e,defaultItem:t,textField:s}=this.props;return u.createElement("div",{onClick:this.props.onClick,onMouseDown:K,style:{position:"unset"},className:i.classNames("k-list-optionlabel",{"k-selected":e})},I(t,s)||"")}}class N extends u.Component{constructor(){super(...arguments),this.handleClick=e=>this.props.onClick(this.props.index,e)}render(){const{selected:e,group:t,dataItem:s,virtual:a,groupMode:n,disabled:o,render:l}=this.props,r=u.createElement("li",{id:this.props.id,role:"option","aria-selected":e,"aria-disabled":!!o||void 0,className:i.classNames("k-list-item",{"k-selected":e,"k-focus":this.props.focused,"k-first":!!t&&"classic"===n,"k-disabled":o}),onClick:this.handleClick,style:{position:a?"relative":"unset"}},u.createElement("span",{className:"k-list-item-text"},I(s,this.props.textField).toString()),void 0!==t&&"classic"===n?u.createElement("div",{className:"k-list-item-group-label"},t):null);return void 0!==l?l.call(void 0,r,this.props):r}}let T=class extends u.Component{render(){const{group:e,virtual:t,render:s,isMultiColumn:i=!1}=this.props,a=u.createElement("li",{id:this.props.id,role:"group",className:i?"k-table-group-row":"k-list-group-item",style:i?{boxSizing:"inherit"}:{position:t?"relative":"unset"}},u.createElement("span",{className:s?void 0:i?"k-table-th":"k-list-item-text"},e));return void 0!==s?s.call(void 0,a,this.props):a}};const P="dropdowns.nodata",O="dropdowns.clear",_="dropdowns.comboArrowBtnAriaLabelExpand",R="dropdowns.comboArrowBtnAriaLabelCollapse",z="dropdowns.dropDownListArrowBtnAriaLabel",L="dropdowns.apply",B="dropdowns.cancel",H={[O]:"clear",[P]:"NO DATA FOUND.",[_]:"expand combobox",[R]:"collapse combobox",[z]:"select",[L]:"Apply",[B]:"Cancel"};let V=class extends u.Component{renderItems(){const{textField:e,valueField:t,groupField:s,groupMode:i,isMultiColumn:a,optionsGuid:n,skip:o=0,virtual:l,focusedIndex:r,hasDuplicates:d,highlightSelected:p=!0,value:h,data:c,itemRender:g,groupHeaderItemRender:v}=this.props,m=Array.isArray(h);let f=0;return c.map(((b,y)=>{const k=o+y,x=o+y+f,C=d?!!h&&r===y:!b.disabled&&(p&&(!m&&E(b,h,t)||m&&-1!==h.findIndex((e=>E(e,b,t)))));let S,w,F;return y>0&&void 0!==s&&(w=I(b,s),F=I(c[y-1],s),w&&F&&w!==F&&(S=w)),void 0!==S&&"modern"===i&&(f+=1),[void 0!==S&&"modern"===i&&u.createElement(T,{id:`option-${n}-${x}`,virtual:l,key:k+"-group-item",group:S,isMultiColumn:a,render:v}),u.createElement(N,{id:`option-${n}-${void 0!==S&&"modern"===i?x+1:x}`,virtual:l,dataItem:b,groupMode:i,selected:C,focused:r===y,index:k,key:k,onClick:this.props.onClick,textField:e,group:S,render:g,disabled:b.disabled})]}))}renderNoValueElement(e){const t=this.props.noDataRender,s=u.createElement("div",{className:"k-nodata"},u.createElement("div",null,e.toLanguageString(P,H[P])));return t?t.call(void 0,s):s}render(){const e=r.provideLocalizationService(this),{id:t,show:s,wrapperCssClass:i,wrapperStyle:a,listStyle:n,listRef:o,wrapperRef:l,listClassName:d="k-list-ul",ariaSetSize:p}=this.props,h=this.renderItems();return h.length?u.createElement("div",{className:i,style:a,ref:l,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onScroll:this.props.onScroll,unselectable:"on"},u.createElement("ul",{id:t,role:"listbox","aria-hidden":!s||void 0,"aria-setsize":p,className:d,ref:o,style:n},h),this.props.scroller&&u.createElement("div",{className:"k-height-container"},this.props.scroller)):this.renderNoValueElement(e)}};r.registerForLocalization(V);const q="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent);let W=class{constructor(){this.table=null,this.total=0,this.enabled=!1,this.skip=0,this.pageSize=0,this.PageChange=null,this.scrollElement=null,this.listTransform="",this.itemHeight=0,this.containerHeight=0,this.reactVersion=Number.parseFloat(u.version),this.scrollSyncing=!1,this.lastLoaded=0,this.firstLoaded=0,this.lastScrollTop=0,this.listTranslate=0,this.list=null,this.container=null,this.calcScrollElementHeight=()=>{var e;this.scrollSyncing=!0;let t=!1;this.itemHeight=this.list?this.list.children[0].offsetHeight:this.itemHeight;const s=this.itemHeight*this.total-((null==(e=this.list)?void 0:e.offsetHeight)||0);this.containerHeight=q?Math.min(17895697,s):s;const i=this.containerHeight;return this.scrollElement&&(t=this.scrollElement.style.height!==i+"px",t&&(this.scrollElement.style.height=i+"px")),this.scrollSyncing=!1,t},this.scrollerRef=e=>{this.container=e,e&&(e.setAttribute("unselectable","on"),window.setTimeout(this.calcScrollElementHeight.bind(this),0))},this.getRowHeightService=i.memoizeOne(((e,t)=>new i.RowHeightService(t,e,0))),this.firstLoaded=this.pageSize,this.lastLoaded=this.skip+this.pageSize,this.scrollHandler=this.scrollHandler.bind(this)}get translate(){return this.listTranslate}translateTo(e,t){this.listTranslate=e,this.enabled&&this.list&&(q||this.reactVersion<=17||t?this.list.style.transform="translateY("+e+"px)":this.listTransform="translateY("+e+"px)")}changePage(e,t){const s=Math.min(Math.max(0,e),this.total-this.pageSize);s!==this.skip&&this.PageChange&&this.PageChange({skip:s,take:this.pageSize},t)}reset(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0,!0))}scrollToEnd(){if(this.container&&this.list){this.calcScrollElementHeight();const{scrollHeight:e,offsetHeight:t}=this.container;this.container.scrollTop=e,this.translateTo(e-t,!0)}}scrollHandler(e){if(!this.enabled||!this.container||!this.list)return;if(this.scrollSyncing)return void(this.scrollSyncing=!1);this.rowHeightService=this.getRowHeightService(this.itemHeight,this.total);const t=this.container.scrollTop,s=this.lastScrollTop>=t,i=!s,a=Math.abs(t-this.lastScrollTop);this.lastScrollTop=t;let n=this.rowHeightService.index(t),o=this.rowHeightService.offset(n);const{offsetHeight:l}=this.container,r=this.rowHeightService.index(t+l);if(i&&r>=this.lastLoaded&&this.lastLoaded<this.total){const t=n+this.pageSize-this.total;t>0&&(n-=t,o=this.rowHeightService.offset(n)),this.firstLoaded=n,this.translateTo(o);const s=this.firstLoaded+this.pageSize;this.lastLoaded=Math.min(s,this.total),this.changePage(this.firstLoaded,e)}else if(s&&n-1<=this.firstLoaded){const t=a===this.itemHeight;if(0===this.skip&&t)this.lastScrollTop=0,this.firstLoaded=0,this.lastLoaded=this.pageSize,this.container.scrollTop=0,this.translateTo(0,!0);else{const t=Math.floor(.3*this.pageSize);this.firstLoaded=Math.max(n-t,0),this.translateTo(this.rowHeightService.offset(this.firstLoaded)),this.lastLoaded=Math.min(this.firstLoaded+this.pageSize,this.total),this.changePage(this.firstLoaded,e)}}}},A=class{navigate(e){const t=e.keyCode;return t===i.Keys.up||t===i.Keys.left?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:-1}):t===i.Keys.down||t===i.Keys.right?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:1}):t===i.Keys.home?0:t===i.Keys.end?e.max:void 0}next(e){return b(e.current)?Math.min(e.max,Math.max(e.current+e.step,e.min)):e.min}};const $=class e{constructor(e){this.wrapper=null,this.list=null,this.vs=new W,this.navigation=new A,this.handleItemClick=(e,t)=>{const s=this.initState();s.syntheticEvent=t,t.stopPropagation(),this.component.handleItemSelect(e,s),this.togglePopup(s),this.applyState(s)},this.handleFocus=e=>{if(!this.component.state.focused){const t=this.initState();t.data.focused=!0,t.events.push({type:"onFocus"}),t.syntheticEvent=e,this.applyState(t)}},this.filterChanged=(e,t)=>{const{textField:s,filterable:i}=this.component.props;i&&t.events.push({type:"onFilterChange",filter:{field:s,operator:"contains",ignoreCase:!0,value:e}})},this.togglePopup=e=>{const t=this.component.props,s=void 0!==t.opened?t.opened:this.component.state.opened;void 0===t.opened&&(e.data.opened=!s),s?e.events.push({type:"onClose"}):(e.events.push({type:"onOpen"}),this.calculatePopupWidth())},this.pageChange=(e,t)=>{const s=this.initState();s.syntheticEvent=t,this.triggerOnPageChange(s,e.skip,e.take),this.applyState(s)},this.scrollToVirtualItem=(e,t)=>{const s=this.vs;if(0===e.skip)s.reset();else{let i=s.translate;0===i&&(s.calcScrollElementHeight(),i=s.itemHeight*e.skip,s.translateTo(i,!0)),t<0&&i>0&&(i+=s.itemHeight*(e.pageSize/4)),s.container&&(s.container.scrollTop=i),this.scrollToItem(t,!0)}},this.scrollPopupByPageSize=e=>{var t,s,i,a,n,o;const l=this.vs,r=null==(s=null==(t=this.list)?void 0:t.parentElement)?void 0:s.scrollTop,d=l.enabled&&l.itemHeight?l.itemHeight:this.list?this.list.children[0].offsetHeight:0,p=null==(a=null==(i=this.list)?void 0:i.parentElement)?void 0:a.offsetHeight;void 0!==r&&void 0!==p&&(null==(o=null==(n=this.list)?void 0:n.parentElement)||o.scroll({top:r+e*Math.floor(p/d)*d}))},this.renderScrollElement=()=>{const e=this.vs;return e.enabled&&u.createElement("div",{ref:t=>e.scrollElement=t,key:"scrollElementKey"})},this.resetGroupStickyHeader=(e,t)=>{e!==t.state.group&&t.setState({...t.state,group:e})},this.listBoxId=e.props.id+"list",this.guid=e.props.id,this.component=e,this.vs.PageChange=this.pageChange}didUpdate(){this.vs.listTransform&&this.vs.list&&(this.vs.list.style.transform=this.vs.listTransform,this.vs.listTransform="")}didMount(){const e=this.component.props,t=e.popupSettings||{},s=e.style||{},i=t.width;let a=!0===e.opened;void 0===i&&this.calculatePopupWidth(),void 0===e.dir&&void 0===s.direction&&(this.calculateDir(),a=!0),a&&this.component.forceUpdate()}calculateDir(){const e=this.component.element;e&&e.ownerDocument&&e.ownerDocument.defaultView&&(this.dirCalculated=e.ownerDocument.defaultView.getComputedStyle(e).direction||void 0)}calculatePopupWidth(){this.wrapper&&(this.popupWidth=this.wrapper.offsetWidth+"px")}scrollToItem(e,t,s){const i=this.list||this.vs.list;if(!i&&!s&&setTimeout((()=>{this.scrollToItem(e,t,!0)}),10),0===e&&t&&0===this.vs.skip)this.vs.reset();else if(i&&e>=0){const s=this.vs,a=s.container||i.parentNode,n=void 0!==t?t:s.enabled;k(a,i,e,s.translate,n)}}initState(){return{data:{},events:[],syntheticEvent:void 0}}applyState(e){Object.keys(e.data).length>0&&this.component.setState(e.data);const t={syntheticEvent:e.syntheticEvent,nativeEvent:e.syntheticEvent?e.syntheticEvent.nativeEvent:void 0,target:this.component,value:this.component.value};e.events.forEach((e=>{const s=e.type;delete e.type;const i=s&&this.component.props[s];i&&i.call(void 0,{...t,...e})}))}triggerOnPageChange(e,t,s){const i=this.component.props.virtual;if(i){const a=Math.min(Math.max(0,t),Math.max(0,i.total-s));a!==i.skip&&e.events.push({type:"onPageChange",page:{skip:a,take:s}})}}triggerPageChangeCornerItems(e,t){const s=this.component.props,{data:i=[],dataItemKey:a,virtual:n}=s,o=void 0!==s.opened?s.opened:this.component.state.opened;e&&n&&this.vs.enabled&&(n.skip>0&&E(e,i[0],a)?this.triggerOnPageChange(t,n.skip-1,n.pageSize):!o&&n.skip+n.pageSize<n.total&&E(e,i[i.length-1],a)&&this.triggerOnPageChange(t,n.skip+1,n.pageSize))}getPopupSettings(){return Object.assign({},e.defaultProps.popupSettings,this.component.props.popupSettings)}getAdaptiveAnimation(){const e=this.getPopupSettings();return void 0===e.animate||e.animate}getGroupedDataModernMode(e,t){const s=[];return e.forEach(((i,a)=>{e[a-1]&&i[t]!==e[a-1][t]&&s.push({[t]:i[t]}),s.push(e[a])})),s}};$.basicPropTypes={opened:s.bool,disabled:s.bool,dir:s.string,tabIndex:s.number,accessKey:s.string,data:s.array,textField:s.string,className:s.string,label:s.string,loading:s.bool,popupSettings:s.shape({animate:s.oneOfType([s.bool,s.shape({openDuration:s.number,closeDuration:s.number})]),popupClass:s.string,className:s.string,appendTo:s.any,width:s.oneOfType([s.string,s.number]),height:s.oneOfType([s.string,s.number])}),onOpen:s.func,onClose:s.func,onFocus:s.func,onBlur:s.func,onChange:s.func,itemRender:s.func,listNoDataRender:s.func,focusedItemIndex:s.func,header:s.node,footer:s.node},$.propTypes={...$.basicPropTypes,value:s.any,defaultValue:s.any,filterable:s.bool,filter:s.string,virtual:s.shape({pageSize:s.number.isRequired,skip:s.number.isRequired,total:s.number.isRequired}),onFilterChange:s.func,onPageChange:s.func},$.defaultProps={popupSettings:{height:"200px"},required:!1,validityStyles:!0};let U=$;const G={name:"@progress/kendo-react-dropdowns",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1654528156,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},j=500,Y=768,{sizeMap:J,roundedMap:Q}=i.kendoThemeMaps,X=class e extends u.Component{constructor(e){super(e),this.state={},this._element=null,this.base=new U(this),this.searchState={word:"",last:""},this._select=null,this._skipFocusEvent=!1,this._filterInput=null,this._navigated=!1,this._lastKeypressIsFilter=!1,this.itemHeight=0,this.focus=()=>{this.base.wrapper&&this.base.wrapper.focus({preventScroll:!0})},this.handleItemSelect=(e,t)=>{const{data:s=[],virtual:i,dataItemKey:a,defaultItem:n}=this.props,o=i?i.skip:0,l=-1===e&&void 0!==n?n:s[e-o],r=!E(l,this.value,a);this.triggerOnChange(l,t),r&&this.base.triggerPageChangeCornerItems(l,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.dummySelect=e=>u.createElement("select",{name:this.props.name,ref:e=>{this._select=e},tabIndex:-1,"aria-hidden":!0,title:this.props.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},u.createElement("option",{value:this.props.valueMap?this.props.valueMap.call(void 0,e):e})),this.renderListContainer=()=>{const{header:e,footer:t,dir:s,data:a=[],size:n,groupField:o,groupStickyHeaderItemRender:l,list:r}=this.props,d=this.base,p=d.getPopupSettings(),h=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==p.width?p.width:d.popupWidth,v={dir:void 0!==s?s:d.dirCalculated,width:c,popupSettings:{...p,popupClass:i.classNames(p.popupClass,"k-list-container","k-dropdownlist-popup"),anchor:p.anchor||this.element,show:h,onOpen:this.onPopupOpened,onClose:this.onPopupClosed},itemsCount:[a.length]};let{group:m}=this.state;return void 0===m&&void 0!==o&&(m=I(a[0],o)),u.createElement(g,{...v},this.renderListFilter(),e&&u.createElement("div",{className:"k-list-header"},e),u.createElement("div",{className:i.classNames("k-list",{[`k-list-${J[n]||n}`]:n,"k-virtual-list":this.base.vs.enabled})},this.renderDefaultItem(),!r&&m&&0!==a.length&&u.createElement(f,{group:m,groupMode:"modern",render:l}),this.renderList()),t&&u.createElement("div",{className:"k-list-footer"},t))},this.renderList=()=>{const{data:e=[],textField:t,dataItemKey:s,virtual:i={skip:0,total:void 0},groupHeaderItemRender:a,listNoDataRender:n,itemRender:o}=this.props,l=this.base.vs,r=i.skip,d=void 0!==this.props.opened?this.props.opened:this.state.opened,p=this.base.getPopupSettings(),h=`translateY(${l.translate}px)`;return u.createElement(V,{id:this._listboxId,show:d,data:e.slice(),focusedIndex:this.getFocusedIndex(),value:this.value,textField:t,valueField:s,optionsGuid:this._guid,groupField:this.props.groupField,groupMode:"modern",listRef:e=>l.list=this.base.list=e,wrapperStyle:{maxHeight:p.height},wrapperCssClass:"k-list-content",listStyle:l.enabled?{transform:h}:void 0,key:"listkey",skip:r,onClick:this.handleItemClick,itemRender:o,groupHeaderItemRender:a,noDataRender:n,onScroll:this.onScroll,wrapperRef:l.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:i.total})},this.onScroll=e=>{const{vs:t,list:s}=this.base;t.scrollHandler(e);const{groupField:i}=this.props;let{data:a=[]}=this.props;if(i&&a.length&&i){const n=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:s?s.children[0].offsetHeight:0),o=e.target.scrollTop-t.skip*n;a=this.base.getGroupedDataModernMode(a,i);let l=a[0][i];for(let e=1;e<a.length&&!(n*e>o);e++)a[e]&&a[e][i]&&(l=a[e][i]);l!==this.state.group&&this.setState({group:l})}},this.renderListFilter=()=>{const e=void 0!==this.props.filter?this.props.filter:this.state.text;return this.props.filterable&&u.createElement(m,{value:e,ref:e=>this._filterInput=e&&e.element,onChange:this.handleListFilterChange,onKeyDown:this.handleKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode,renderListFilterWrapper:!0})},this.renderDefaultItem=()=>{const{textField:e,defaultItem:t,dataItemKey:s}=this.props;return void 0!==t&&u.createElement(M,{defaultItem:t,textField:e,selected:E(this.value,t,s),key:"defaultitemkey",onClick:this.handleDefaultItemClick})},this.search=e=>{clearTimeout(this._typingTimeout),this.props.filterable||(this._typingTimeout=window.setTimeout((()=>this.searchState.word=""),this.props.delay),this.selectNext(e))},this.selectNext=e=>{const{data:t=[],dataItemKey:s}=this.props;let i=t.map(((e,t)=>({item:e,itemIndex:t})));const a=this.searchState.word,n=this.searchState.last,o=((e,t)=>{for(let s=0;s<e.length;s++)if(e.charAt(s)!==t)return!1;return!0})(a,n);let l,r=i.length,d=Math.max(0,t.findIndex((e=>E(e,this.value,s))));this.props.defaultItem&&(l={item:this.props.defaultItem,itemIndex:-1},r+=1,d+=1),d+=o?1:0,i=((e,t,s)=>{let i=e;return s&&(i=[s].concat(i)),i.slice(t).concat(i.slice(0,t))})(i,d,l);let p,h,c,u=0;const{textField:g,ignoreCase:v}=this.props;for(;u<r;u++)if(p=I(i[u].item,g),h=o&&y(p,n,v),c=y(p,a,v),h||c){u=i[u].itemIndex;break}if(u!==r){const t=this.base.initState();t.syntheticEvent=e,this.handleItemSelect(u,t),this.applyState(t),this._valueDuringOnChange=void 0}},this.handleKeyDown=e=>{e&&e.target instanceof Element&&"INPUT"===e.target.nodeName&&e.stopPropagation&&e.stopPropagation();const{data:t=[],filterable:s,disabled:a,defaultItem:n,leftRightKeysNavigation:o=!0,virtual:l={skip:0,total:0,pageSize:0},dataItemKey:r,groupField:d="",textField:p,skipDisabledItems:h=!0}=this.props,c=this.value,u=t.findIndex((e=>E(e,c,r))),g=void 0!==this.props.opened?this.props.opened:this.state.opened,v=e.keyCode,m=v===i.Keys.home||v===i.Keys.end,f=v===i.Keys.up||v===i.Keys.down,b=!g&&(e.altKey&&v===i.Keys.down||v===i.Keys.enter||v===i.Keys.space),y=g&&(e.altKey&&v===i.Keys.up||v===i.Keys.esc),k=o&&(v===i.Keys.left||v===i.Keys.right),x=f||k&&!s||m,C=this.base.initState();if(C.syntheticEvent=e,!a){if(m&&this.base.vs.enabled)v===i.Keys.home?0!==l.skip?(this.base.triggerOnPageChange(C,0,l.pageSize),this._navigated=!0):this.triggerOnChange(t[0],C):l.skip<l.total-l.pageSize?(this.base.triggerOnPageChange(C,l.total-l.pageSize,l.pageSize),this._navigated=!0):this.triggerOnChange(t[t.length-1],C);else if(g&&v===i.Keys.pageUp)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(g&&v===i.Keys.pageDown)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if(g&&v===i.Keys.enter){const s=this.getFocusedIndex();this.haveFocusedItemAndDataNotEmpty(t,s)?(this.triggerOnChange(null,C),this.applyState(C)):this.handleItemSelect(s,C),this.base.togglePopup(C),e.preventDefault()}else if(b||y)y&&this.resetValueIfDisabledItem(),this.base.togglePopup(C),e.preventDefault();else if(x){if(this._lastKeypressIsFilter=!1,""!==d&&p)if(!h&&g)this.onNavigate(C,v);else{let e;if(v===i.Keys.down||v===i.Keys.right){const s=t.slice(u+1).find((e=>!e.disabled&&e[p]));e=s&&t.findIndex((e=>e[p]===s[p]))}else if(v===i.Keys.up||v===i.Keys.left){let s;if(0===u&&n)e=-1;else if(-1===u)s=t,e=t.findIndex((e=>!e.disabled&&e[p]));else{s=t.slice(0,u);let i=s.pop();for(;i&&i.disabled;)i=s.pop();e=i&&t.findIndex((e=>e[p]===i[p]))}}if(void 0!==e){const t=e-u;this.onNavigate(C,v,t)}else void 0===e&&t.findIndex((e=>e[p]===c[p]))===t.length-1&&this.onNavigate(C,v)}else if(!h&&g||m)this.onNavigate(C,v);else if(p){let e;if(v===i.Keys.down||v===i.Keys.right){const s=t.slice(u+1).find((e=>!e.disabled&&e[p]));e=s&&t.findIndex((e=>e[p]===s[p]))}else if(v===i.Keys.up||v===i.Keys.left){let s;if(0===u&&n)e=-1;else if(-1===u)s=t,e=t.find((e=>!e.disabled&&e[p]));else{s=t.slice(0,u);let i=s.pop();for(;i&&i.disabled;)i=s.pop();e=i&&t.findIndex((e=>e[p]===i[p]))}}if(void 0!==e){const t=e-u;this.onNavigate(C,v,t)}else void 0===e&&t.findIndex((e=>e[p]===c[p]))===t.length-1&&this.onNavigate(C,v)}else this.onNavigate(C,v);e.preventDefault()}this.applyState(C)}},this.handleItemClick=(e,t)=>{this.base.handleItemClick(e,t),this._valueDuringOnChange=void 0},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.handleBlur=e=>{if(this._skipFocusEvent||!this.state.focused)return;const t=void 0!==this.props.opened?this.props.opened:this.state.opened,{adaptive:s}=this.props,{windowWidth:i=0}=this.state,a=i<=Y&&s,n=this.base.initState();n.syntheticEvent=e,n.data.focused=!1,n.events.push({type:"onBlur"}),t&&this.resetValueIfDisabledItem(),t&&!a&&this.base.togglePopup(n),this.applyState(n)},this.handleDefaultItemClick=e=>{const t=this.base.initState();t.syntheticEvent=e,this.base.togglePopup(t),this.triggerOnChange(this.props.defaultItem,t),this.applyState(t)},this.handleWrapperClick=e=>{if(e.isPropagationStopped())return;const t=this.base.initState();t.syntheticEvent=e,this.state.focused||(t.data.focused=!0),this.resetValueIfDisabledItem(),this.base.togglePopup(t),this.applyState(t)},this.handleKeyPress=e=>{if(this.props.filterable||0===e.which||e.keyCode===i.Keys.enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.props.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.searchState={word:this.searchState.word+t,last:this.searchState.last+t},this.search(e)},this.handleListFilterChange=e=>{const t=this.base.initState();t.syntheticEvent=e.syntheticEvent,void 0===this.props.filter&&(t.data.text=e.target.value),this.base.filterChanged(e.target.value,t),this._lastKeypressIsFilter=!0,this.applyState(t),this.setState({group:void 0})},this.onPopupOpened=()=>{this._filterInput&&this.focusElement(this._filterInput),this.props.adaptive&&setTimeout((()=>{this._filterInput&&this.focusElement(this._filterInput)}),300)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout((()=>{this.state.focused&&this.base.wrapper&&this.focusElement(this.base.wrapper)}))},this.setValidity=()=>{this._select&&this._select.setCustomValidity&&this._select.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please select a value from the list!")},i.validatePackage(G)}get _inputId(){return this.props.id+"-accessibility-id"}get _listboxId(){return this.props.id+"-listbox-id"}get _guid(){return this.props.id+"-guid"}get document(){if(i.canUseDOM)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get value(){let e;return void 0!==this._valueDuringOnChange?e=this._valueDuringOnChange:void 0!==this.props.value?e=this.props.value:void 0!==this.state.value?e=this.state.value:void 0!==this.props.defaultValue&&(e=this.props.defaultValue),!b(e)&&void 0!==this.props.defaultItem&&(e=this.props.defaultItem),e}get index(){const{data:e=[],dataItemKey:t}=this.props,s=this.value;return e.findIndex((e=>E(e,s,t)))}get name(){return this.props.name}get validity(){const e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}componentDidUpdate(e,t){var s;const{dataItemKey:i,virtual:a,groupField:n="",textField:o}=this.props,{data:l=[]}=this.props,r=e.virtual?e.virtual.total:0,d=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==e.opened?e.opened:t.opened,h=!p&&d;if(this.base.didUpdate(),this.base.getPopupSettings().animate||h&&this.onPopupOpened(),a&&a.total!==r)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{const r=this.value,c=void 0!==e.value?e.value:t.value;let u=l.findIndex((e=>E(e,r,i)));""!==n&&r&&o&&(u=null==(s=this.base.getGroupedDataModernMode(l,n))?void 0:s.map((e=>e[o])).indexOf(r[o]));const g=!E(c,r,i);h&&a?this.base.scrollToVirtualItem(a,u):h&&!a?(this.onPopupOpened(),l&&0!==l.length&&this.base.resetGroupStickyHeader(l[0][n],this),this.base.scrollToItem(u)):d&&p&&r&&g&&!this._navigated?this.base.scrollToItem(u,this.base.vs.enabled):d&&p&&this._navigated&&(this._navigated&&a&&0===a.skip?this.base.vs.reset():this._navigated&&a&&a.skip===a.total-a.pageSize&&this.base.vs.scrollToEnd())}this._navigated=!1,this.setValidity()}componentDidMount(){var e;this.observerResize=i.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){const e=r.provideLocalizationService(this).toLanguageString(z,H[z]),{style:t,className:s,label:o,dir:l,virtual:p,size:h,rounded:c,fillMode:g,adaptive:v}=this.props,{windowWidth:m=0}=this.state,f=void 0!==this.props.opened?this.props.opened:this.state.opened,b=this.value,y=I(b,this.props.textField),k=!this.validityStyles||this.validity.valid,x=this.base,C=x.vs,S=m<=Y&&v;C.enabled=void 0!==p,void 0!==p&&(x.vs.skip=p.skip,x.vs.total=p.total,x.vs.pageSize=p.pageSize);const{dataItemKey:w,data:F=[],disabled:D,tabIndex:K,loading:M,iconClassName:N,svgIcon:T,valueRender:P}=this.props,{focused:O}=this.state,_=F.findIndex((e=>E(e,b,w))),R=u.createElement("span",{id:this._inputId,className:"k-input-inner"},y&&u.createElement("span",{className:"k-input-value-text"},y)),L=void 0!==P?P.call(void 0,R,b):R,B=u.createElement(u.Fragment,null,u.createElement("span",{ref:this.componentRef,className:i.classNames("k-dropdownlist k-picker",s,{[`k-picker-${J[h]||h}`]:h,[`k-rounded-${Q[c]||c}`]:c,[`k-picker-${g}`]:g,"k-focus":O,"k-disabled":D,"k-invalid":!k,"k-loading":M,"k-required":this.required}),style:o?{...t,width:void 0}:t,dir:l,onMouseDown:f?e=>{"INPUT"!==e.target.nodeName&&(this.focusElement(this.base.wrapper),e.preventDefault())}:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:i.getTabIndex(K,D),accessKey:this.props.accessKey,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onClick:D?void 0:this.handleWrapperClick,role:"combobox","aria-required":this.required,"aria-disabled":D||void 0,"aria-haspopup":"listbox","aria-expanded":f||!1,"aria-owns":this._listboxId,"aria-activedescendant":f?"option-"+this._guid+"-"+(_+(p?p.skip:0)):void 0,"aria-label":this.props.ariaLabel||this.props.label,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy||this._inputId,id:this.props.id,title:this.props.title},L,M&&u.createElement(i.IconWrap,{className:"k-input-loading-icon",name:"loading"}),u.createElement(d.Button,{tabIndex:-1,type:"button","aria-label":e,"aria-hidden":!0,size:h,fillMode:g,iconClass:N,className:"k-input-button",rounded:null,themeColor:"base",icon:N?void 0:"caret-alt-down",svgIcon:T||n.caretAltDownIcon,onMouseDown:e=>this.state.focused&&e.preventDefault()}),this.dummySelect(b),!S&&this.renderListContainer()),S&&this.renderAdaptiveListContainer());return o?u.createElement(a.FloatingLabel,{label:o,editorValue:y,editorValid:k,editorDisabled:this.props.disabled,style:{width:t?t.width:void 0},children:B}):B}onNavigate(e,t,s){const{data:i=[],defaultItem:a,dataItemKey:n,virtual:o={skip:0,total:0,pageSize:0}}=this.props,l=this.base.vs,r=this.value,d=i.findIndex((e=>E(e,r,n))),p=this.base.navigation.navigate({current:o.skip+d,max:(l.enabled?o.total:i.length)-1,min:void 0!==a?-1:0,keyCode:t,skipItems:s||void 0});void 0!==p&&this.handleItemSelect(p,e),this.applyState(e)}renderAdaptiveListContainer(){const{windowWidth:e=0}=this.state,{header:t,footer:s,size:a,adaptiveTitle:o,groupField:l,groupStickyHeaderItemRender:r,list:h,data:c=[]}=this.props,g={navigatable:!1,navigatableElements:[],expand:void 0!==this.props.opened?this.props.opened:this.state.opened,animation:!0,onClose:e=>this.handleWrapperClick(e),animationStyles:e<=j?{top:0,width:"100%",height:"100%"}:void 0,className:e<=j?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"};let{group:v}=this.state;return void 0===v&&void 0!==l&&(v=I(c[0],l)),u.createElement(p.ActionSheet,{...g},u.createElement(p.ActionSheetHeader,{className:"k-text-center"},u.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},u.createElement("div",{className:"k-actionsheet-title"},u.createElement("div",null,o)),u.createElement("div",{className:"k-actionsheet-actions"},u.createElement(d.Button,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.handleWrapperClick,icon:"x",svgIcon:n.xIcon}))),u.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},this.renderListFilter())),u.createElement(p.ActionSheetContent,{className:"!k-overflow-hidden"},t&&u.createElement("div",{className:"k-list-header"},t),u.createElement("div",{className:i.classNames("k-list",{[`k-list-${J[a]||a}`]:a,"k-virtual-list":this.base.vs.enabled})},this.renderDefaultItem(),!h&&v&&0!==c.length&&u.createElement(f,{group:v,groupMode:"modern",render:r}),this.renderList()),s&&u.createElement("div",{className:"k-list-footer"},s)))}getFocusedIndex(){const e=this.value,{data:t=[],textField:s,dataItemKey:i,virtual:a={skip:0},focusedItemIndex:n=x,filterable:o,skipDisabledItems:l=!0}=this.props,r=this.props.filter?this.props.filter:this.state.text;return l&&s&&!r&&!e?t.findIndex((e=>!e.disabled&&e[s])):b(e)&&void 0===r||o&&""===r?t.findIndex((t=>E(t,e,i))):r?this._lastKeypressIsFilter?n(t,r,s):t.findIndex((t=>E(t,e,i))):0===a.skip?0:-1}focusElement(e){this._skipFocusEvent=!0,e.focus(),window.setTimeout((()=>this._skipFocusEvent=!1),30)}triggerOnChange(e,t){E(this.value,e,this.props.dataItemKey)||(void 0===this.props.value&&(t.data.value=e),this._valueDuringOnChange=e,t.events.push({type:"onChange"}))}applyState(e){this.base.applyState(e),this._valueDuringOnChange=void 0}calculateMedia(e){for(const t of e)this.setState({windowWidth:t.target.clientWidth})}resetValueIfDisabledItem(){const{data:e=[]}=this.props,t=this.base.initState(),s=this.getFocusedIndex();this.haveFocusedItemAndDataNotEmpty(e,s)&&(this.triggerOnChange(null,t),this.applyState(t))}haveFocusedItemAndDataNotEmpty(e,t){return void 0!==t&&-1!==t&&e&&e.length>0&&e[t].disabled}};X.displayName="DropDownList",X.propTypes={delay:s.number,ignoreCase:s.bool,iconClassName:s.string,svgIcon:i.svgIconPropType,defaultItem:s.any,valueRender:s.func,valueMap:s.func,validationMessage:s.string,required:s.bool,id:s.string,ariaLabelledBy:s.string,ariaDescribedBy:s.string,ariaLabel:s.string,leftRightKeysNavigation:s.bool,title:s.string,groupField:s.string,list:s.any,skipDisabledItems:s.bool,renderListFilterWrapper:s.bool,...U.propTypes},X.defaultProps={delay:500,tabIndex:0,ignoreCase:!0,...U.defaultProps,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern"};let Z=X;const ee=i.createPropsContext(),te=i.withIdHOC(i.withPropsContext(ee,Z));te.displayName="KendoReactDropDownList";let se=class extends u.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(e){const t=e.value,s=e.suggestedText,{value:a,suggestedText:n,focused:o}=this.props,l=this.input,r=t!==a||n!==s,d=r&&t.startsWith(a)&&!(s&&n&&s.endsWith(n)),p=i.getActiveElement(document);o&&l&&p!==l&&l.focus(),n&&r&&!d&&l&&l.setSelectionRange(a.length-n.length,a.length)}render(){const{expanded:e=!1,disabled:t,role:s="listbox",render:i}=this.props,a=u.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:"k-input-inner",tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,role:s,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:e=>this._input=e,onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":t||void 0,disabled:t||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":e,"aria-owns":this.props.owns,"aria-activedescendant":e?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-required":this.props.ariaRequired});return i?i.call(void 0,a):a}};class ie extends u.Component{constructor(){super(...arguments),this.onMouseDown=e=>e.preventDefault()}render(){const e=r.provideLocalizationService(this).toLanguageString(O,H[O]);return u.createElement("span",{className:"k-clear-value",role:"button",onClick:this.props.onClick,onMouseDown:this.onMouseDown,tabIndex:-1,title:e,key:"clearbutton"},u.createElement(i.IconWrap,{name:"x",icon:n.xIcon}))}}r.registerForLocalization(ie);const ae=i.useCustomComponent,{sizeMap:ne,roundedMap:oe}=i.kendoThemeMaps,le=class e extends u.Component{constructor(e){super(e),this.state={},this.base=new U(this),this._element=null,this._suggested="",this._skipBlur=!1,this._input=null,this._adaptiveFilterInput=null,this.itemHeight=0,this.duplicates=[],this.hasDuplicates=!1,this.focus=()=>{this._input&&this._input.focus()},this.checkForDuplicatePlainTextRecords=()=>{const e=void 0!==this.props.textField,t=void 0!==this.props.dataItemKey;if(this.props.data&&this.props.data.length>0&&!e&&!t){const e=this.props.data;this.duplicates=(e=>{const t=e.filter(((t,s)=>e.some(((e,i)=>e===t&&i!==s))));return Array.from(new Set(t))})(e),this.hasDuplicates=this.duplicates.length>0}},this.handleItemSelect=(e,t)=>{const{data:s=[],virtual:i,dataItemKey:a}=this.props,n=s[e-(i?i.skip:0)],o=this.hasDuplicates||!E(n,this.value,a);this.triggerOnChange(n,t),void 0!==this.state.text&&(t.data.text=void 0),o&&this.base.triggerPageChangeCornerItems(n,t)},this.onPopupOpened=()=>{setTimeout((()=>{this.mobileMode&&this._adaptiveFilterInput&&(this._skipBlur=!0,this._adaptiveFilterInput.focus(),this._skipBlur=!1)}),300)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.toggleBtnClick=e=>{const{data:t=[],skipDisabledItems:s,textField:i}=this.props,a=this.getFocusedIndex(),n=this.getCurrentValueDisabledStatus(i,t,a),o=void 0!==this.props.opened?this.props.opened:this.state.opened,l=this.base.initState();if(l.syntheticEvent=e,!s&&i&&n&&this.clearValueOnToggleBtnClick(e),this.base.togglePopup(l),!o&&this.mobileMode){const e=void 0!==this.props.adaptiveFilter?this.props.adaptiveFilter:this.state.text||null;this.base.filterChanged(e,l)}this.applyState(l)},this.closeOpenedApplyStateNonMobileMode=(e,t)=>{t&&!this.mobileMode&&this.base.togglePopup(e)},this.renderMobileListFilter=()=>{const e=void 0!==this.props.adaptiveFilter?this.props.adaptiveFilter:this.state.text,t=I(this.value,this.props.textField),s=b(e)?e:t;return u.createElement(m,{value:s,ref:e=>this._adaptiveFilterInput=e&&e.element,onChange:this.handleMobileFilterChange,onKeyDown:this.onInputKeyDown,size:"large",rounded:this.props.rounded,fillMode:this.props.fillMode})},this.handleMobileFilterChange=e=>{const t=this.base.initState();t.syntheticEvent=e.syntheticEvent,t.data.text=e.target.value,this.base.filterChanged(e.target.value,t),this.applyState(t)},this.onScroll=e=>{const{vs:t,list:s}=this.base;t.scrollHandler(e);const{groupField:i}=this.props;let{data:a=[]}=this.props;if(!i||!a.length)return;const n=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:s?s.children[0].offsetHeight:0),o=e.target.scrollTop-t.skip*n;"modern"===this.props.groupMode&&(a=this.base.getGroupedDataModernMode(a,i));let l=a[0][i];for(let e=1;e<a.length&&!(n*e>o);e++)a[e]&&a[e][i]&&(l=a[e][i]);l!==this.state.group&&(this.setState({group:l}),this.props.onGroupScroll&&this.props.onGroupScroll.call(void 0,{group:l}))},this.handleItemClick=(e,t)=>{this.navigationIndex=e,this.base.handleItemClick(e,t),this._valueDuringOnChange=void 0},this.handleBlur=e=>{if(this.state.focused&&!this._skipBlur){const t=this.base.initState(),{textField:s,data:i=[]}=this.props,a=this.getFocusedIndex(),n=!(-1===a)&&this.getCurrentValueDisabledStatus(s,i,a);t.data.focused=!1,t.events.push({type:"onBlur"}),t.syntheticEvent=e,s&&n&&this.clearValueOnBlur(e),this.applyValueOnRejectSuggestions(e.currentTarget.value,t)}},this.onInputClick=e=>{const t=void 0!==this.props.opened?this.props.opened:this.state.opened,s=void 0!==this.props.adaptiveFilter?this.props.adaptiveFilter:this.state.text||null;if(!t&&this.mobileMode){const t=this.base.initState();t.syntheticEvent=e,this.base.togglePopup(t),this.base.filterChanged(s,t),this.applyState(t)}},this.onInputKeyDown=e=>{const{data:t=[],skipDisabledItems:s,textField:a,dataItemKey:n,groupField:o}=this.props,l=this.value,r=Math.max(0,t.findIndex((e=>E(e,l,n)))),d=e.keyCode,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=this.base.initState();if(h.syntheticEvent=e,!e.altKey&&(d===i.Keys.up||d===i.Keys.down)){if(e.preventDefault(),""!==o&&a)if(!this.props.skipDisabledItems&&p)this.onNavigate(h,d);else{let e=0;if(d===i.Keys.down||d===i.Keys.right){const s=t.slice(r+1<t.length?r+1:r).find((e=>!e.disabled&&e[a]));e=s&&t.findIndex((e=>e[a]===s[a]))}else if(d===i.Keys.up||d===i.Keys.left){let s;if(0===r)s=t,e=t.findIndex((e=>!e.disabled&&e[a]));else{s=t.slice(0,r);let i=s.pop();for(;i&&i.disabled;)i=s.pop();e=i&&t.findIndex((e=>e[a]===i[a]))}}if(void 0!==e){const t=e-r;this.onNavigate(h,d,t)}else void 0===e&&t.findIndex((e=>e[a]===l[a]))===t.length-1&&this.onNavigate(h,d)}else if(!this.props.skipDisabledItems&&p)this.onNavigate(h,d);else{let e=null;if(d===i.Keys.down||d===i.Keys.right)e=t.slice(r+1).find((e=>!e.disabled));else if(d===i.Keys.up||d===i.Keys.left){const s=t.slice(0,r);for(e=s.pop();e&&e.disabled;)e=s.pop()}if(e){const t=e.id-r-1;this.onNavigate(h,d,t)}else this.onNavigate(h,d)}this.applyState(h)}const c=()=>{e.preventDefault(),this.base.togglePopup(h),this.applyState(h)},u=this.getFocusedIndex(),g=-1===u,v=!g&&this.getCurrentValueDisabledStatus(a,t,u);p?d===i.Keys.pageUp?(e.preventDefault(),this.base.scrollPopupByPageSize(-1)):d===i.Keys.pageDown?(e.preventDefault(),this.base.scrollPopupByPageSize(1)):e.altKey&&d===i.Keys.up?c():d===i.Keys.enter?(e.preventDefault(),(a&&!g&&e.currentTarget.value?t[u][a]:void 0)?!s&&a&&v?this.clearValueOnEnterOrEsc(e):v||this.applyValueOnEnter(e.currentTarget.value,h):this.applyValueOnEnter(e.currentTarget.value,h)):d===i.Keys.esc&&(!s&&a&&v&&this.clearValueOnEnterOrEsc(e),this.applyValueOnRejectSuggestions(e.currentTarget.value,h)):p||d!==i.Keys.esc?e.altKey&&d===i.Keys.down&&c():this.clearValueOnEnterOrEsc(e)},this.inputOnChange=e=>{const t=this.base.initState();t.syntheticEvent=e;const s=void 0!==this.props.opened?this.props.opened:this.state.opened,i=e.currentTarget,a=i.value;if(this.props.suggest){const e=i.selectionEnd===a.length;let t=void 0!==this.props.filter?this.props.filter:this.state.text;b(t)||(t=I(this.value,this.props.textField)||"");const s=t&&t===a,n=t&&t.length>a.length;s||n||!e?this._suggested="":this.suggestValue(a)}void 0===this.props.filter&&(t.data.text=a),void 0!==this.state.focusedItem&&(t.data.focusedItem=void 0),s||this.base.togglePopup(t),this.base.filterChanged(a,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.clearValueOnEnterOrEsc=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.clearValueOnBlur=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.clearValueOnToggleBtnClick=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},i.validatePackage(G)}get _inputId(){return this.props.id}get document(){if(i.canUseDOM)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=Y&&this.props.adaptive)}get value(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:void 0}get index(){const{data:e=[],dataItemKey:t}=this.props,s=this.value;return e.findIndex((e=>E(e,s,t)))}get name(){return this.props.name}get validity(){const e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}componentDidUpdate(e,t){var s;const{dataItemKey:i,virtual:a,groupField:n="",data:o=[],textField:l}=this.props,r=e.virtual?e.virtual.total:0,d=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==e.opened?e.opened:t.opened;e.data!==o&&this.checkForDuplicatePlainTextRecords();const h=!p&&d,c=this.value;if(this._valueOnDidUpdate=c,this.base.didUpdate(),a&&a.total!==r)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{const r=void 0!==e.value?e.value:t.value;let u=this.hasDuplicates?this.navigationIndex||0:o.findIndex((e=>E(e,c,i)));"modern"===this.props.groupMode&&l&&c&&(u=null==(s=this.base.getGroupedDataModernMode(o,n))?void 0:s.map((e=>e[l])).indexOf(c[l]));const g=!E(r,c,i);h&&a?this.base.scrollToVirtualItem(a,u):h&&!a?(this.onPopupOpened(),o&&0!==o.length&&this.base.resetGroupStickyHeader(o[0][n],this),this.base.scrollToItem(u)):(this.hasDuplicates||d&&p&&c&&g)&&this.base.scrollToItem(u)}h&&this._input&&this._input.focus(),this.setValidity()}componentDidMount(){var e;this.observerResize=i.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body),this.checkForDuplicatePlainTextRecords()}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){const t=r.provideLocalizationService(this).toLanguageString(_,H[_]),s=r.provideLocalizationService(this).toLanguageString(R,H[R]),{dir:o,disabled:l,clearButton:p=e.defaultProps.clearButton,label:h,textField:c,adaptive:g,className:v,style:m,loading:f,iconClassName:y,virtual:k,size:x,rounded:C,fillMode:S,opened:E=this.state.opened,placeholder:w,svgIcon:F}=this.props,D=!this.validityStyles||this.validity.valid,K=void 0!==this.props.filter?this.props.filter:this.state.text,M=I(this.value,c),N=b(K)?K:M,T=p&&(!!N||b(this.value)),P=this.base.vs,O=this.props.id||this._inputId,z=this.mobileMode;P.enabled=void 0!==k,void 0!==k&&(P.skip=k.skip,P.total=k.total,P.pageSize=k.pageSize);const[L,B]=ae(this.props.prefix||u.Fragment),[V,q]=ae(this.props.suffix||u.Fragment),W=u.createElement(u.Fragment,null,u.createElement("span",{className:i.classNames("k-combobox k-input",{[`k-input-${ne[x]||x}`]:x,[`k-rounded-${oe[C]||C}`]:C,[`k-input-${S}`]:S,"k-invalid":!D,"k-loading":f,"k-required":this.required,"k-disabled":l},v),ref:this.componentRef,style:h?{...m,width:void 0}:m,dir:o},this.props.prefix&&u.createElement(L,{...B}),this.renderSearchBar(N||"",O,w),T&&!f&&u.createElement(ie,{onClick:this.clearButtonClick,key:"clearbutton"}),f&&u.createElement(i.IconWrap,{className:"k-input-loading-icon",name:"loading",key:"loading"}),this.props.suffix&&u.createElement(V,{...q}),u.createElement(d.Button,{tabIndex:-1,type:"button","aria-label":E?s:t,icon:y?void 0:"caret-alt-down",svgIcon:F||n.caretAltDownIcon,iconClass:y,size:x,fillMode:S,rounded:null,themeColor:"base",className:"k-input-button",onClick:this.toggleBtnClick,onMouseDown:e=>e.preventDefault()}),!z&&this.renderListContainer()),z&&this.renderAdaptiveListContainer());return h?u.createElement(a.FloatingLabel,{label:h,editorId:O,editorValue:N,editorValid:D,editorDisabled:l,style:{width:m?m.width:void 0},children:W}):W}onNavigate(e,t,s){const{data:i=[],virtual:a={skip:0}}=this.props,n=this.props.filter?this.props.filter:this.state.text;let o,l=-1;const r=this.base.vs,d=this.value;this._suggested="";const p=this.hasDuplicates&&-1!==this.duplicates.indexOf(d);if(l=this.getFocusedIndex(p),-1===l||b(d))if(""===n)this.handleItemSelect(0,e);else{const n=a.skip+l;o=this.base.navigation.navigate({keyCode:t,current:n,max:(r.enabled?r.total:i.length)-1,min:0,skipItems:s||void 0}),void 0!==o&&this.handleItemSelect(o,e)}else this.handleItemSelect(l,e);this.navigationIndex=o}getCurrentValueDisabledStatus(e,t,s){return e&&t&&t[s]&&t[s].disabled}applyValueOnEnter(e,t){const{data:s=[],textField:i,allowCustom:a}=this.props,n=void 0!==this.props.opened?this.props.opened:this.state.opened,o=I(this.value,i)===e?this.index:C(s,e,i),l=-1!==o;let r;if(this._suggested="",l)r=s[o];else{if(!a)return this.selectFocusedItem(e,t);r=void 0!==i?{[i]:e}:e}this.triggerOnChange(r,t),n&&this.base.togglePopup(t),void 0===this.props.filter&&void 0!==this.state.text&&(t.data.text=void 0),this.applyState(t)}applyValueOnRejectSuggestions(e,t){const{data:s=[],textField:i,allowCustom:a}=this.props,n=void 0!==this.props.opened?this.props.opened:this.state.opened,o=I(this.value,i);if(this._suggested="",e===o||""===e&&!b(o))return this.closeOpenedApplyStateNonMobileMode(t,n),this.applyState(t);const l=C(s,e,i,!0);let r=null;-1!==l?r=s[l]:a&&(r=e?i?{[i]:e}:e:null),this.triggerOnChange(r,t),void 0!==this.state.text&&(t.data.text=void 0,this.base.filterChanged("",t)),this.closeOpenedApplyStateNonMobileMode(t,n),this.applyState(t)}selectFocusedItem(e,t){const s=void 0!==this.props.opened?this.props.opened:this.state.opened,{data:i=[],textField:a,virtual:n={skip:0},focusedItemIndex:o=x}=this.props,l=n.skip,r=""===e&&0===l?0:o(i,e,a);return-1!==r?this.handleItemSelect(r+l,t):(this.triggerOnChange(null,t),void 0!==this.state.text&&(t.data.text=void 0)),s&&this.base.togglePopup(t),this.applyState(t)}renderAdaptiveListContainer(){const{windowWidth:e=0}=this.state,{header:t,footer:s,size:a,data:o=[],groupField:l,groupMode:r,list:h,virtual:c,adaptiveTitle:g,groupStickyHeaderItemRender:v}=this.props,m=void 0!==this.props.opened?this.props.opened:this.state.opened,b=this.base.getAdaptiveAnimation();let{group:y}=this.state;void 0===y&&void 0!==l&&(y=I(o[0],l));const k={navigatable:!1,navigatableElements:[],expand:m,animation:b,onClose:e=>this.toggleBtnClick(e),animationStyles:e<=j?{top:0,width:"100%",height:"100%"}:void 0,className:e<=j?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom k-actionsheet"};return u.createElement(p.ActionSheet,{...k},u.createElement(p.ActionSheetHeader,null,u.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},u.createElement("div",{className:"k-actionsheet-title"},u.createElement("div",{className:"k-text-center"},g),u.createElement("div",{className:"k-actionsheet-subtitle k-text-center"})),u.createElement("div",{className:"k-actionsheet-actions"},u.createElement(d.Button,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",themeColor:"base",size:"large",onClick:this.toggleBtnClick,icon:"x",svgIcon:n.xIcon}))),u.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},this.renderMobileListFilter())),u.createElement(p.ActionSheetContent,{className:"!k-overflow-hidden"},u.createElement("div",{className:"k-list-container"},u.createElement("div",{className:i.classNames({"k-list":!h,"k-list-lg":!0,"k-virtual-list":c,"k-data-table":h,[`k-table-${ne[a]||a}`]:h&&a})},t&&u.createElement("div",{className:"k-table-header"},t),!h&&y&&0!==o.length&&u.createElement(f,{group:y,groupMode:r,render:v}),this.renderList(),s&&u.createElement("div",{className:"k-list-footer"},s)))))}renderListContainer(){const e=this.base,{dir:t,header:s,footer:a,data:n=[],groupField:o,groupMode:l,size:r,list:d,virtual:p,groupStickyHeaderItemRender:h}=this.props,c=void 0!==this.props.opened?this.props.opened:this.state.opened,v=e.getPopupSettings(),m=void 0!==v.width?v.width:e.popupWidth;let{group:b}=this.state;return void 0===b&&void 0!==o&&(b=I(n[0],o)),u.createElement(g,{width:m,popupSettings:{...v,anchor:v.anchor||this.element,show:c,popupClass:i.classNames(v.popupClass,"k-list-container","k-combobox-popup")},dir:void 0!==t?t:this.base.dirCalculated,itemsCount:[n.length]},u.createElement("div",{className:i.classNames({"k-list":!d,[`k-list-${ne[r]||r}`]:!d&&r,"k-virtual-list":p,"k-data-table":d,[`k-table-${ne[r]||r}`]:d&&r})},s&&u.createElement("div",{className:"k-table-header"},s),!d&&b&&0!==n.length&&u.createElement(f,{group:b,groupMode:l,render:h}),this.renderList(),a&&u.createElement("div",{className:i.classNames({"k-list-footer":!this.props.footerClassName},this.props.footerClassName)},a)))}renderList(){const e=this.base,{textField:t,dataItemKey:s,listNoDataRender:a,itemRender:n,groupHeaderItemRender:o,data:l=[],virtual:r={skip:0,total:void 0}}=this.props,d=e.getPopupSettings(),p=e.vs,h=r.skip,c=void 0!==this.props.opened?this.props.opened:this.state.opened,g=`translateY(${p.translate}px)`,v=c?this.getFocusedIndex(this.hasDuplicates):void 0,m=void 0!==this.props.filter?this.props.filter:this.state.text,f=I(this.value,t),y=b(m)&&m!==f?null:this.value,k=this.props.list||V;return u.createElement(k,{id:e.listBoxId,virtual:!!r,show:c,data:l,focusedIndex:v,value:y,textField:t,valueField:s,groupField:this.props.groupField,groupMode:this.props.groupMode,isMultiColumn:this.props.isMultiColumn,optionsGuid:e.guid,hasDuplicates:this.hasDuplicates,listRef:e=>{p.list=this.base.list=e,this.itemHeight=0},wrapperStyle:this.state.windowWidth&&this.state.windowWidth>Y?{maxHeight:d.height}:{},wrapperCssClass:i.classNames("k-list-content",{"k-list-scroller":!r}),listStyle:p.enabled?{transform:g}:void 0,key:"listkey",skip:h,onClick:this.handleItemClick,itemRender:n,groupHeaderItemRender:o,noDataRender:a,onMouseDown:e=>e.preventDefault(),onScroll:this.onScroll,wrapperRef:p.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:r.total})}renderSearchBar(e,t,s){const{tabIndex:i,disabled:a,data:n=[],dataItemKey:o,virtual:l={skip:0}}=this.props,r=void 0!==this.props.opened?this.props.opened:this.state.opened,d=this.value,p=Math.max(0,n.findIndex((e=>E(e,d,o))));return this._suggested&&!E(this._valueOnDidUpdate,d,o)&&(this._suggested=""),u.createElement(se,{id:t,readOnly:r&&this.mobileMode,placeholder:s,tabIndex:i,title:this.props.title,accessKey:this.props.accessKey,value:e+this._suggested,suggestedText:this._suggested,ref:e=>this._input=e&&e.input,onClick:this.onInputClick,onKeyDown:this.onInputKeyDown,onChange:this.inputOnChange,onFocus:this.base.handleFocus,onBlur:this.handleBlur,disabled:a,expanded:r,owns:this.base.listBoxId,activedescendant:`option-${this.base.guid}-${p+l.skip}`,role:"combobox",ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.required,render:this.props.valueRender})}clearValue(){const e=this.base.initState();this._suggested="",this.navigationIndex=void 0,this.base.filterChanged("",e),void 0===this.props.filter&&void 0!==this.state.text&&(e.data.text=void 0),this.triggerOnChange(null,e);const t=void 0!==this.props.opened?this.props.opened:this.state.opened,s=this.mobileMode;t&&!s&&this.base.togglePopup(e),this.applyState(e)}triggerOnChange(e,t){const s=this.value;!this.hasDuplicates&&(!b(s)&&!b(e)||E(s,e,this.props.dataItemKey))||(void 0===this.props.value&&(t.data.value=e),this._valueDuringOnChange=e,t.events.push({type:"onChange"}))}getFocusedIndex(e){const t=this.value,{data:s=[],textField:i,dataItemKey:a,virtual:n={skip:0},focusedItemIndex:o=x,skipDisabledItems:l}=this.props,r=this.props.filter?this.props.filter:this.state.text;return e&&void 0!==this.navigationIndex?this.navigationIndex:b(t)&&void 0===r?s.findIndex((e=>E(e,t,a))):r?o(s,r,i):l&&i&&!r&&0===n.skip?s.findIndex((e=>!e.disabled&&e[i])):0===n.skip?0:-1}suggestValue(e){const{data:t,textField:s}=this.props;this._suggested=((e,t=[],s)=>{let i="";if(e){const a=t[x(t,e,s)];if(a){const t=I(a,s);e.toLowerCase()!==t.toLowerCase()&&(i=t.substring(e.length))}}return i})(e,t,s)}applyState(e){this.base.applyState(e),this._valueDuringOnChange=void 0}calculateMedia(e){for(const t of e)this.setState({windowWidth:t.target.clientWidth})}};le.displayName="ComboBox",le.propTypes={...U.propTypes,size:s.oneOf([null,"small","medium","large"]),rounded:s.oneOf([null,"small","medium","large","full"]),fillMode:s.oneOf([null,"solid","flat","outline"]),dataItemKey:s.string,groupField:s.string,groupMode:s.oneOf([void 0,"classic","modern"]),isMultiColumn:s.bool,suggest:s.bool,placeholder:s.string,title:s.string,allowCustom:s.bool,clearButton:s.bool,iconClassName:s.string,svgIcon:i.svgIconPropType,validationMessage:s.string,required:s.bool,id:s.string,ariaLabelledBy:s.string,ariaDescribedBy:s.string,list:s.any,valueRender:s.func,skipDisabledItems:s.bool},le.defaultProps={...U.defaultProps,size:"medium",rounded:"medium",fillMode:"solid",allowCustom:!1,clearButton:!0,required:!1,groupMode:"modern",isMultiColumn:!1,skipDisabledItems:!0,prefix:void 0,suffix:void 0};let re=le;const de=i.createPropsContext(),pe=i.withIdHOC(i.withPropsContext(de,re));pe.displayName="KendoReactComboBox";const{sizeMap:he,roundedMap:ce}=i.kendoThemeMaps,ue=class e extends u.Component{constructor(e){super(e),this.state={},this.base=new U(this),this._element=null,this._suggested="",this._input=null,this._isScrolling=!1,this.itemHeight=0,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{data:s=[]}=this.props,i=I(s[e],this.props.textField);this.triggerOnChange(i,t)},this.itemFocus=(e,t)=>{const{data:s=[],textField:i}=this.props,a=s[e];E(this.state.focusedItem,a,i)||(t.data.focusedItem=a)},this.togglePopup=e=>{this.base.togglePopup(e)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},this.onScroll=e=>{this._isScrolling=!0;const{list:t}=this.base,{groupField:s}=this.props;let{data:i=[]}=this.props;if(!s||!i.length)return;const a=this.itemHeight||(t?t.children[0].offsetHeight:0),n=e.target.scrollTop;s&&(i=this.base.getGroupedDataModernMode(i,s));let o=i[0][s];for(let e=1;e<i.length&&!(a*e>n);e++)i[e]&&i[e][s]&&(o=i[e][s]);o!==this.state.group&&this.setState({group:o})},this.handleItemClick=(e,t)=>{this.base.handleItemClick(e,t),this._valueDuringOnChange=void 0},this.onChangeHandler=e=>{const t=this.base.initState(),s=e.currentTarget,i=s.value,a=s.selectionEnd===i.length;t.syntheticEvent=e;const n=this._suggested,o=this.value,l=o&&o.substring(0,o.length-n.length),r=l&&l===i,d=l&&l.length>i.length,{suggest:p}=this.props,h=void 0!==this.props.opened?this.props.opened:this.state.opened;if(void 0!==p&&!1!==p){r||d||!a?this._suggested="":this.suggestValue(i);const e=i+this._suggested,s={userInput:i,value:this._suggested};this.triggerOnChange(e,t,{suggestion:s})}else this._suggested="",this.triggerOnChange(i,t);(!h&&i||h&&!i)&&this.togglePopup(t),t.data.focusedItem=void 0,this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState(),s=void 0!==this.props.opened?this.props.opened:this.state.opened;t.syntheticEvent=e;this._suggested="",this.triggerOnChange("",t),void 0!==this.state.focusedItem&&(t.data.focusedItem=void 0),s&&this.togglePopup(t),this.applyState(t)},this.onInputKeyDown=e=>{const{data:t=[],skipDisabledItems:s,groupField:a,textField:n}=this.props;this._isScrolling&&(this._isScrolling=!1);const o=this.focusedIndex(),l=t[o],r=e.keyCode,d=e.altKey,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=this.base.initState();h.syntheticEvent=e;const c=()=>{p&&e.preventDefault()};if(d&&r===i.Keys.down)this.setState({opened:!0});else if(d&&r===i.Keys.up)this.setState({opened:!1});else if(p&&r===i.Keys.pageUp)c(),this.base.scrollPopupByPageSize(-1);else if(p&&r===i.Keys.pageDown)c(),this.base.scrollPopupByPageSize(1);else if(!p||r!==i.Keys.enter&&r!==i.Keys.esc)if(p||r!==i.Keys.esc){if(r===i.Keys.up||r===i.Keys.down){if(""!==a&&n)if(!this.props.skipDisabledItems&&p)this.onNavigate(h,r);else{let e=0;if(r===i.Keys.down||r===i.Keys.right){const s=t.slice(o+1).find((e=>!e.disabled&&e[n]));e=s&&t.findIndex((e=>e[n]===s[n]))}else if(r===i.Keys.up||r===i.Keys.left){let s;if(-1===o)s=t,e=t.findIndex((e=>!e.disabled&&e[n]));else{s=t.slice(0,o);let i=s.pop();for(;i&&i.disabled;)i=s.pop();e=i&&t.findIndex((e=>e[n]===i[n]))}}if(void 0!==e){const t=e-o;this.onNavigate(h,r,t)}else void 0===e&&t.findIndex((e=>e[n]))===t.length-1&&this.onNavigate(h,r)}else if(!this.props.skipDisabledItems&&p)this.onNavigate(h,r);else{let e=null;if(r===i.Keys.down||r===i.Keys.right)e=t.slice(o+1).find((e=>!e.disabled));else if(r===i.Keys.up||r===i.Keys.left){const s=t.slice(0,o);for(e=s.pop();e&&e.disabled;)e=s.pop()}if(e){const t=e.id-o-1;this.onNavigate(h,r,t)}else this.onNavigate(h,r)}this.applyState(h),c()}}else{const e="";this._suggested="",this.triggerOnChange(e,h),void 0!==this.state.focusedItem&&(h.data.focusedItem=void 0),this.applyState(h)}else c(),!1===s&&l&&l.disabled?(p&&this.togglePopup(h),this.applyState(h)):this.applyInputValue(e.currentTarget.value,h,e.keyCode)},this.handleBlur=e=>{if(this.state.focused){const t=this.base.initState();t.data.focused=!1,t.events.push({type:"onBlur"}),t.syntheticEvent=e,this.applyInputValue(e.currentTarget.value,t)}},i.validatePackage(G)}get _inputId(){return this.props.id+"-accessibility-id"}get element(){return this._element}get value(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:""}get name(){return this.props.name}get validity(){const e=void 0!==this.props.validationMessage,t=!this.required||""!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}componentDidUpdate(e,t){var s;const{groupField:i="",data:a=[]}=this.props,{data:n=[]}=e,o=this.focusedIndex(),l=a[o],r=n!==a,d=void 0!==l&&t.focusedItem!==l,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=void 0!==e.opened?e.opened:t.opened,c=!h&&p;if(""===i)(p&&(d||r)||c)&&this.base.scrollToItem(o);else if(!this._isScrolling){const e=null==(s=this.base.getGroupedDataModernMode(a,i))?void 0:s.indexOf(l);c&&(a&&0!==a.length&&this.base.resetGroupStickyHeader(a[0][i],this),this.base.scrollToItem(e)),p&&h&&d&&this.base.scrollToItem(e)}this.setValidity()}componentDidMount(){this.base.didMount(),this.setValidity()}render(){const{dir:e,disabled:t,label:s,className:n,style:o,loading:l,suggest:r,size:d,rounded:p,fillMode:h}=this.props,c=!this.validityStyles||this.validity.valid,g=this.base,v=this.value,m=!1!==this.props.clearButton&&!l&&!!v,f=this.props.id||this._inputId,b=this.state.focused;"string"==typeof r&&(this._suggested=r);const[y,k]=ae(this.props.prefix||u.Fragment),[x,C]=ae(this.props.suffix||u.Fragment),I=u.createElement("span",{className:i.classNames("k-autocomplete k-input",n,{[`k-input-${he[d]||d}`]:d,[`k-rounded-${ce[p]||p}`]:p,[`k-input-${h}`]:h,"k-invalid":!c,"k-focus":b&&!t,"k-loading":l,"k-required":this.required,"k-disabled":t}),ref:e=>{this._element=e,g.wrapper=e},style:s?{...o,width:void 0}:o,dir:e},this.props.prefix&&u.createElement(y,{...k}),this.renderSearchBar(v||"",f),l&&u.createElement(i.IconWrap,{className:"k-input-loading-icon",name:"loading"}),m&&!l&&u.createElement(ie,{onClick:this.clearButtonClick,key:"clearbutton"}),this.props.suffix&&u.createElement(x,{...C}),this.renderListContainer());return s?u.createElement(a.FloatingLabel,{label:s,editorId:f,editorValue:v,editorValid:c,editorDisabled:t,style:{width:o?o.width:void 0},children:I}):I}onNavigate(e,t,s){const i=this.value,{data:a=[],textField:n,focusedItemIndex:o}=this.props,l=void 0!==this.state.focusedItem?a.findIndex((e=>E(e,this.state.focusedItem,n))):o?o(a,i,n):a.indexOf(w(a,i,n)),r=this.base.navigation.navigate({keyCode:t,current:l,max:a.length-1,min:0,skipItems:s||void 0});void 0!==r&&this.itemFocus(r,e),this.applyState(e)}applyInputValue(e,t,s){const a=void 0!==this.props.opened?this.props.opened:this.state.opened,{data:n=[],textField:o}=this.props,l=n[this.focusedIndex()];if(this._suggested="",a&&s===i.Keys.enter&&l&&!l.disabled){const s=I(n[this.focusedIndex(e)],o);this.triggerOnChange(s,t)}a&&this.togglePopup(t),this.applyState(t)}renderSearchBar(e,t){const s=this.base,{placeholder:i,tabIndex:a,disabled:n,readonly:o}=this.props,{focused:l}=this.state,r=void 0!==this.props.opened?this.props.opened:this.state.opened;return u.createElement(se,{id:t,placeholder:i,tabIndex:a,accessKey:this.props.accessKey,value:e,suggestedText:this._suggested,focused:l,name:this.props.name,ref:e=>this._input=e&&e.input,onKeyDown:this.onInputKeyDown,onChange:this.onChangeHandler,onFocus:s.handleFocus,onBlur:this.handleBlur,disabled:n,readOnly:o,expanded:r,owns:s.listBoxId,activedescendant:"option-"+s.guid+"-"+this.focusedIndex(),role:"combobox",ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.required,render:this.props.valueRender})}renderListContainer(){const e=this.base,{dir:t,header:s,footer:a,data:n=[],size:o,groupField:l,list:r,groupStickyHeaderItemRender:d}=this.props,p=e.getPopupSettings(),h=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==p.width?p.width:e.popupWidth;let{group:v}=this.state;return void 0===v&&void 0!==l&&(v=I(n[0],l)),u.createElement(g,{width:c,popupSettings:{...p,anchor:p.anchor||this.element,show:h,popupClass:i.classNames(p.popupClass,"k-list-container","k-autocomplete-popup")},dir:void 0!==t?t:this.base.dirCalculated,itemsCount:[n.length]},s&&u.createElement("div",{className:"k-list-header"},s),u.createElement("div",{className:i.classNames("k-list",{[`k-list-${he[o]||o}`]:o})},!r&&v&&0!==n.length&&u.createElement(f,{group:v,groupMode:"modern",render:d}),this.renderList()),a&&u.createElement("div",{className:"k-list-footer"},a))}renderList(){const e=this.base,t=e.getPopupSettings(),{textField:s,data:i=[],listNoDataRender:a,itemRender:n,groupHeaderItemRender:o}=this.props,l=this.value,r=void 0!==this.props.opened?this.props.opened:this.state.opened;return u.createElement(V,{id:e.listBoxId,show:r,data:i.slice(),focusedIndex:this.focusedIndex(),value:l,textField:s,valueField:s,highlightSelected:!1,optionsGuid:e.guid,groupField:this.props.groupField,groupMode:"modern",listRef:t=>e.list=t,wrapperStyle:{maxHeight:t.height},wrapperCssClass:"k-list-content",onClick:this.handleItemClick,itemRender:n,groupHeaderItemRender:o,noDataRender:a,onMouseDown:e=>e.preventDefault(),onScroll:this.onScroll})}triggerOnChange(e,t,s){this.value===e&&!s||(t.data.value=e,this._valueDuringOnChange=e,t.events.push({type:"onChange",...s||{}}))}applyState(e){this.base.applyState(e),this._valueDuringOnChange=void 0}suggestValue(e){if(this._suggested="",e){const{data:t=[],textField:s}=this.props,i=t[x(t,e,s)];if(i){const t=I(i,s);e.toLowerCase()!==t.toLowerCase()&&(this._suggested=t.substring(e.length))}}}focusedIndex(e){const{data:t=[],textField:s,focusedItemIndex:i,skipDisabledItems:a}=this.props,n=void 0!==e?e:this.value;if(void 0!==this.state.focusedItem)return t.findIndex((e=>E(e,this.state.focusedItem,s)));if(i)return i(t,n,s);{const e=t.indexOf(w(t,n,s));return a&&s&&-1===e?t.findIndex((e=>!e.disabled&&e[s])):Math.max(0,e)}}};ue.displayName="AutoComplete",ue.propTypes={...U.basicPropTypes,size:s.oneOf([null,"small","medium","large"]),rounded:s.oneOf([null,"small","medium","large","full"]),fillMode:s.oneOf([null,"solid","flat","outline"]),groupField:s.string,suggest:s.oneOfType([s.bool,s.string]),placeholder:s.string,value:s.string,defaultValue:s.string,validationMessage:s.string,required:s.bool,readonly:s.bool,clearButton:s.bool,valueRender:s.func,id:s.string,ariaLabelledBy:s.string,ariaDescribedBy:s.string,list:s.any,skipDisabledItems:s.bool},ue.defaultProps={...U.defaultProps,size:"medium",rounded:"medium",fillMode:"solid",skipDisabledItems:!0,prefix:void 0,suffix:void 0};let ge=ue;const ve=i.createPropsContext(),me=i.withIdHOC(i.withPropsContext(ve,ge));me.displayName="KendoReactAutoComplete";const fe=e=>e.syntheticEvent.preventDefault(),be=e=>e.syntheticEvent.stopPropagation();class ye extends u.Component{render(){const{data:e,guid:t,focused:s,tagRender:i,tag:a,onTagDelete:n,size:o}=this.props;return u.createElement(u.Fragment,null,e.map(((l,r)=>{const p=a?u.createElement(a,{key:l.text+r,tagData:l,guid:t,focusedTag:s,onTagDelete:n}):u.createElement(d.Chip,{id:`tag-${t}-${l.text.replace(/\s+/g,"-")}`,"aria-selected":!0,role:"option","aria-setsize":e.length,key:l.text+r,text:l.text,removable:!0,onRemove:e=>n.call(void 0,l.data,e.syntheticEvent),onMouseDown:fe,onClick:be,className:l===s?"k-focus":void 0,size:o});return i?i(l,p):p})),this.props.children)}}var ke=(e=>(e[e.PopupList=0]="PopupList",e[e.TagsList=1]="TagsList",e))(ke||{});const xe=e=>{const{footer:t,children:s,windowWidth:a=0,navigatable:o,navigatableElements:l,expand:r,animation:h,onClose:c,adaptiveTitle:g,mobileFilter:v}=e,m={navigatable:o||!1,navigatableElements:l||[],expand:r,animation:!1!==h,onClose:c,animationStyles:a<=500?{top:0,width:"100%",height:"100%"}:void 0,className:i.classNames("k-actionsheet","k-adaptive-actionsheet",a<=500?"k-actionsheet-fullscreen":"k-actionsheet-bottom")};return u.createElement(p.ActionSheet,{...m},u.createElement(p.ActionSheetHeader,{className:"k-text-center"},u.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},u.createElement("div",{className:"k-actionsheet-title"},u.createElement("div",{className:"k-text-center"},g),u.createElement("div",{className:"k-actionsheet-subtitle k-text-center"})),u.createElement("div",{className:"k-actionsheet-actions"},u.createElement(d.Button,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:n.xIcon,onClick:c}))),v&&u.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},v)),s,t&&u.createElement(p.ActionSheetFooter,{className:"k-actions k-actions-stretched"},u.createElement(d.Button,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),u.createElement(d.Button,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))},{sizeMap:Ce,roundedMap:Ie}=i.kendoThemeMaps,Se=e=>e.preventDefault(),Ee=e=>2===e,we=class e extends u.Component{constructor(e){super(e),this.state={activedescendant:ke.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new U(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.localization=null,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{data:s=[],dataItemKey:i,virtual:a}=this.props,n=s[e-(a?a.skip:0)],o=this.value.findIndex((e=>E(e,n,i)));this._lastSelectedOrDeslectedItemIndex=s.findIndex((e=>E(e,n,i)));let l=[];-1!==o?(l=this.value,l.splice(o,1)):l=[...this.value,n],(void 0!==this.props.filter?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.triggerOnChange(l,t),this.base.triggerPageChangeCornerItems(n,t)},this.onTagDelete=(e,t)=>{const s=this.base.initState();s.syntheticEvent=t,this.opened&&this.base.togglePopup(s),!this.state.focused&&!this.mobileMode&&(s.data.focused=!0,this.focus());const i=this.value;S(i,e,this.props.dataItemKey),this.triggerOnChange(i,s),this.applyState(s)},this.itemFocus=(e,t)=>{const{data:s=[],allowCustom:i,virtual:a}=this.props,n=a?a.skip:0,o=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedIndex:l}=this.getFocusedState(),r=i&&o,d=s[e-n];d&&l!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=ke.PopupList):r&&-1===e&&void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(d,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{const t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout((()=>t.focus()),0)},this.onChangeHandler=e=>{const t=this.base.initState(),s=e.target.value;t.syntheticEvent=e,void 0===this.props.filter&&(t.data.text=s),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(s,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);const s=void 0!==this.props.filter?this.props.filter:this.state.text;b(s)&&""!==s&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{const{data:t=[],textField:s,groupField:a}=this.props,n=e.keyCode,o=void 0!==this.props.filter?this.props.filter:this.state.text,l=void 0!==this.props.opened?this.props.opened:this.state.opened,{focusedItem:r,focusedIndex:d}=this.getFocusedState(),p=this.base.initState();if(p.syntheticEvent=e,!o&&this.value.length>0&&(n===i.Keys.left||n===i.Keys.right||n===i.Keys.home||n===i.Keys.end||n===i.Keys.delete||n===i.Keys.backspace)&&!e.shiftKey)return this.onTagsNavigate(e,p);const h=()=>{e.preventDefault(),this.base.togglePopup(p),this.applyState(p)};if(this.opened)if(n===i.Keys.pageUp)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(n===i.Keys.pageDown)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&"KeyA"===e.code){const e=(this.state.value&&this.state.value.length)===t.length?[]:t;this.updateStateOnKeyboardNavigation(e,p)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===i.Keys.end){const e=t.slice(this.getFocusedState().focusedIndex);this.itemFocus(t.length-1,p),this.updateStateOnKeyboardNavigation(e,p)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===i.Keys.home){const e=t.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,p),this.updateStateOnKeyboardNavigation(e,p)}else if(e.shiftKey&&e.keyCode===i.Keys.up){let e;const s=this.getLastSelectedOrDeselectedIndex(1,d);null===s?e=0!==d?t.slice(d-1,d):[t[d]]:s===d?e=[t[s-1]]:d>=0&&(e=s>d?t.slice(d-1,s):t.slice(s-1,d)),e&&e.length>0&&(d>=1&&this.itemFocus(d-1,p),this.updateStateOnKeyboardNavigation(e,p))}else if(e.shiftKey&&e.keyCode===i.Keys.down){let e;const s=this.getLastSelectedOrDeselectedIndex(0,d);null===s?e=d!==t.length-1?t.slice(d,d+1):[t[d]]:s===d?e=t.slice(d,d+2):d>=0&&(e=s>d?t.slice(d+1,s+1):t.slice(s,d+2)),e&&e.length>=1&&(this.itemFocus(d+1,p),this.updateStateOnKeyboardNavigation(e,p))}else if(e.altKey&&n===i.Keys.up)h();else if(n===i.Keys.up||n===i.Keys.down){if(""!==a&&s)if(!this.props.skipDisabledItems&&l)this.onNavigate(p,n);else{let e=0;if(n===i.Keys.down||n===i.Keys.right){const i=t.slice(d+1).find((e=>!e.disabled&&e[s]));e=i&&t.findIndex((e=>e[s]===i[s]))}else if(n===i.Keys.up||n===i.Keys.left){let i;if(-1===d)i=t,e=t.findIndex((e=>!e.disabled&&e[s]));else{i=t.slice(0,d);let a=i.pop();for(;a&&a.disabled;)a=i.pop();e=a&&t.findIndex((e=>e[s]===a[s]))}}if(e){const t=e-d;this.onNavigate(p,n,t)}else void 0!==e&&this.onNavigate(p,n)}else if(!this.props.skipDisabledItems&&l)this.onNavigate(p,n);else{let e=null;if(n===i.Keys.down||n===i.Keys.right)e=t.slice(d+1).find((e=>!e.disabled));else if(n===i.Keys.up||n===i.Keys.left){const s=t.slice(0,d);for(e=s.pop();e&&e.disabled;)e=s.pop()}if(e){const t=e.id-d-1;this.onNavigate(p,n,t)}else this.onNavigate(p,n)}this.applyState(p),e.preventDefault()}else n===i.Keys.enter?(e.preventDefault(),this.props.allowCustom&&o&&null===r?this.customItemSelect(e):r&&r.disabled?h():this.selectFocusedItem(e)):n===i.Keys.esc&&h();else e.altKey&&n===i.Keys.down?h():n===i.Keys.esc&&this.clearButtonClick(e)},this.listContainerContent=()=>{const{header:e,footer:t,allowCustom:s,size:a,data:o=[],groupStickyHeaderItemRender:l,groupField:r,list:d}=this.props,p=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:h}=this.getFocusedState(),c=s&&p&&u.createElement("div",{className:i.classNames("k-list",{[`k-list-${Ce[a]||a}`]:a}),key:"customitem",onClick:this.customItemSelect,onMouseDown:Se},u.createElement("div",{className:i.classNames("k-list-item k-custom-item",{"k-focus":Ee(h)}),style:{fontStyle:"italic"}},p,u.createElement(i.IconWrap,{name:"plus",icon:n.plusIcon,style:{position:"absolute",right:"0.5em"}})));let{group:g}=this.state;return void 0===g&&void 0!==r&&(g=I(o[0],r)),u.createElement(u.Fragment,null,e&&u.createElement("div",{className:"k-list-header"},e),c,u.createElement("div",{className:i.classNames("k-list",{[`k-list-${this.mobileMode?"lg":Ce[a]||a}`]:a,"k-virtual-list":this.base.vs.enabled})},!d&&g&&0!==o.length&&u.createElement(f,{group:g,groupMode:"modern",render:l}),this.renderList()),t&&u.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{const e=this.base,{dir:t,data:s=[]}=this.props,a=this.base.getPopupSettings(),n=void 0!==a.width?a.width:e.popupWidth,o={dir:void 0!==t?t:e.dirCalculated,width:n,popupSettings:{...a,popupClass:i.classNames(a.popupClass,"k-list-container","k-multiselect-popup"),anchor:a.anchor||this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed},itemsCount:[s.length,this.value.length]};return u.createElement(g,{...o},this.listContainerContent())},this.renderAdaptiveListContainer=()=>{const{adaptiveTitle:e,filterable:t,filter:s}=this.props,{windowWidth:i=0}=this.state,a=void 0!==s?s:this.state.text;this.localization=r.provideLocalizationService(this);const n=t?u.createElement(m,{value:a,ref:e=>this._adaptiveInput=e&&e.element,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode}):null,o={adaptiveTitle:e,expand:this.opened,onClose:e=>this.onCancel(e),windowWidth:i,mobileFilter:n,footer:{cancelText:this.localization.toLanguageString(B,H[B]),onCancel:this.onCancel,applyText:this.localization.toLanguageString(L,H[L]),onApply:this.closePopup}};return u.createElement(xe,{...o},u.createElement(p.ActionSheetContent,{className:"!k-overflow-hidden"},u.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});const s=void 0!==this.props.filter?this.props.filter:this.state.text;b(s)&&""!==s&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});const s=void 0!==this.props.filter?this.props.filter:this.state.text;b(s)&&""!==s&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{const{data:e=[],textField:t,listNoDataRender:s,itemRender:i,groupHeaderItemRender:a,dataItemKey:n,virtual:o={skip:0,total:void 0}}=this.props,l=this.base.vs,{focusedIndex:r}=this.getFocusedState(),d=this.base.getPopupSettings(),p=`translateY(${l.translate}px)`;return u.createElement(V,{id:this.base.listBoxId,show:this.opened,data:e.slice(),focusedIndex:r-o.skip,value:this.value,textField:t,valueField:n,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:e=>{l.list=this.base.list=e},wrapperStyle:this.mobileMode?{}:{maxHeight:d.height},wrapperCssClass:"k-list-content",listStyle:l.enabled?{transform:p}:void 0,key:"listKey",skip:o.skip,onClick:this.handleItemClick,itemRender:i,groupHeaderItemRender:a,noDataRender:s,onMouseDown:Se,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:l.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:o.total})},this.onScroll=e=>{const{vs:t,list:s}=this.base;t.scrollHandler(e);const{groupField:i}=this.props;let{data:a=[]}=this.props;if(i&&a.length&&i){const n=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:s?s.children[0].offsetHeight:0),o=e.target.scrollTop-t.skip*n;a=this.base.getGroupedDataModernMode(a,i);let l=a[0][i];for(let e=1;e<a.length&&!(n*e>o);e++)a[e]&&a[e][i]&&(l=a[e][i]);l!==this.state.group&&this.setState({group:l})}},this.customItemSelect=e=>{const t=void 0!==this.props.filter?this.props.filter:this.state.text,{textField:s}=this.props;if(!t)return;const i=this.base.initState();i.syntheticEvent=e;const a=s?{[s]:t}:t;void 0!==this.state.text&&(i.data.text=""),i.data.focusedIndex=void 0,this.base.filterChanged("",i);const n=[...this.value,a];this.triggerOnChange(n,i),this.base.togglePopup(i),this.applyState(i)},this.handleWrapperClick=e=>{const t=this._input;!this.opened&&t&&this.focusElement(t);const s=this.base.initState();s.syntheticEvent=e,!this.state.focused&&!this.mobileMode&&(s.events.push({type:"onFocus"}),s.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout((()=>this._adaptiveInput&&this._adaptiveInput.focus()),300)),this.base.togglePopup(s),this.applyState(s)},this.handleItemClick=(e,t)=>{const s=this.base.initState();s.syntheticEvent=t,this.handleItemSelect(e,s),this.props.autoClose&&!this.mobileMode&&this.base.togglePopup(s),t.stopPropagation(),this.applyState(s)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;const t=this.base.initState(),{allowCustom:s,filterable:i}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),!s&&!i&&this.state.text&&(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout((()=>{this.state.focused&&this.focusElement(this._input)}),0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},i.validatePackage(G)}get _inputId(){return this.props.id}get document(){if(i.canUseDOM)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get opened(){return!!(void 0!==this.props.opened?this.props.opened:this.state.opened)}get tagsToRender(){const{tags:e,textField:t}=this.props,s=[];return void 0===e?this.value.forEach((e=>{s.push({text:I(e,t),data:[e]})})):s.push(...e),s}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=Y&&this.props.adaptive)}get value(){const e=[];return this._valueItemsDuringOnChange?e.push(...this._valueItemsDuringOnChange):this.props.value?e.push(...this.props.value):this.state.value?e.push(...this.state.value):this.props.defaultValue&&e.push(...this.props.defaultValue),e}get name(){return this.props.name}get validity(){const e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&this.value.length>0&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}componentDidUpdate(e,t){var s;const{virtual:i,groupField:a="",data:n=[]}=this.props,o=i?i.skip:0,l=e.virtual?e.virtual.total:0,r=void 0!==e.opened?e.opened:t.opened,d=!r&&this.opened,p=r&&!this.opened,h=this.base.getPopupSettings();if(this.base.didUpdate(),!h.animate&&p&&this.onPopupClosed(),i&&i.total!==l)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:e,focusedIndex:t}=this.getFocusedState();""!==a&&(t=null==(s=this.base.getGroupedDataModernMode(n,a))?void 0:s.indexOf(e)),d&&i?this.base.scrollToVirtualItem(i,t-o):d&&!i?(n&&0!==n.length&&this.base.resetGroupStickyHeader(n[0][a],this),this.base.scrollToItem(t)):this.opened&&r&&e&&this.scrollToFocused&&this.base.scrollToItem(t-o)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var e;this.observerResize=i.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(e,t,s){const{allowCustom:a,data:n=[]}=this.props,o=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:l,focusedIndex:r}=this.getFocusedState(),d=a&&o,p=Ee(l),h=this.base,c=h.vs;if(this.opened&&t===i.Keys.up&&p)void 0!==this.state.focusedIndex&&(e.data.focusedIndex=void 0);else{const i=h.navigation.navigate({keyCode:t,current:r,max:(c.enabled?c.total:n.length)-1,min:d?-1:0,skipItems:s||void 0});void 0!==i&&(this.itemFocus(i,e),this.scrollToFocused=!0)}this.applyState(e)}render(){const{style:e,className:t,label:s,dir:n,disabled:o,textField:l,dataItemKey:r,virtual:d,size:p,rounded:h,fillMode:c,loading:g,filter:v}=this.props,{text:m,focused:f,focusedTag:b,currentValue:y}=this.state,k=this.base.vs,x=this.props.id||this._inputId;k.enabled=void 0!==d,void 0!==d&&(k.skip=d.skip,k.total=d.total,k.pageSize=d.pageSize);const C=this.mobileMode&&this.opened?y:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);const S=!this.validityStyles||this.validity.valid,E=!!(void 0!==v?v:m)||C&&C.length>0,[w,K]=ae(this.props.prefix||u.Fragment),[M,N]=ae(this.props.suffix||u.Fragment),T=u.createElement(u.Fragment,null,u.createElement("div",{ref:this.componentRef,className:i.classNames("k-multiselect k-input",t,{[`k-input-${Ce[p]||p}`]:p,[`k-rounded-${Ie[h]||h}`]:h,[`k-input-${c}`]:c,"k-focus":f&&!o,"k-invalid":!S,"k-disabled":o,"k-loading":g,"k-required":this.required}),style:s?{...e,width:void 0}:e,dir:n,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:F},this.props.prefix&&u.createElement(w,{...K}),u.createElement("div",{className:i.classNames("k-input-values")},u.createElement("div",{className:i.classNames("k-chip-list",{[`k-chip-list-${Ce[p]||p}`]:p}),role:"listbox",id:"tagslist-"+this.base.guid},C&&C.length>0&&u.createElement(ye,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:C,guid:this.base.guid,focused:b?C.find((e=>D(e,b,r))):void 0,size:p})),this.renderSearchBar(x)),g&&u.createElement(i.IconWrap,{className:"k-input-loading-icon",name:"loading"}),this.props.suffix&&u.createElement(M,{...N}),E&&u.createElement(ie,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return s?u.createElement(a.FloatingLabel,{label:s,editorId:x,editorValue:m||I(this.value[0],l),editorValid:S,editorDisabled:o,style:{width:e?e.width:void 0},children:T}):T}renderSearchBar(e){const{activedescendant:t,focusedTag:s,currentValue:i}=this.state,{disabled:a,placeholder:n,ariaDescribedBy:o}=this.props,l=!this.mobileMode&&(void 0!==this.props.filter?this.props.filter:this.state.text)||"",{focusedIndex:r}=this.getFocusedState(),d=0!==this.value.length||l?void 0:n,p=i&&i.length>0?void 0:n,h=t===ke.TagsList&&void 0!==s?`tag-${this.base.guid}-${s.text.replace(/\s+/g,"-")}`:`option-${this.base.guid}-${r}`;return u.createElement(se,{id:e,size:Math.max((d||"").length,l.length,1),tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,placeholder:this.mobileMode&&this.opened?p:d,value:l,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:a,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:h,ariaDescribedBy:`tagslist-${this.base.guid}${o?" "+o:""}`,ariaLabelledBy:this.props.ariaLabelledBy,ariaRequired:this.required})}onTagsNavigate(e,t){const s=e.keyCode,{focusedTag:a}=this.state,n=this._tags,o=this.props.dataItemKey;let l,r=a?n.findIndex((e=>D(e,a,o))):-1;const d=-1!==r;if(s===i.Keys.left)r=d?Math.max(0,r-1):n.length-1,l=n[r];else if(s===i.Keys.right)r===n.length-1?l=void 0:d&&(r=Math.min(n.length-1,r+1),l=n[r]);else if(s!==i.Keys.home||e.shiftKey)if(s!==i.Keys.end||e.shiftKey){if(s===i.Keys.delete){if(d){const e=this.value;S(e,n[r].data,o),this.triggerOnChange(e,t)}}else if(s===i.Keys.backspace){const e=this.value;if(d)S(e,n[r].data,o),this.triggerOnChange(e,t);else if(!d&&n.length){const s=n.pop();S(e,s.data,o),this.triggerOnChange(e,t)}}}else l=n[n.length-1];else l=n[0];l!==a&&(t.data.focusedTag=l,t.data.activedescendant=ke.TagsList),this.applyState(t)}triggerOnChange(e,t){void 0===this.props.value&&(t.data.value=[...e]),this._valueItemsDuringOnChange=[],this.setItems(e,this._valueItemsDuringOnChange),t.events.push({type:"onChange"})}selectFocusedItem(e,t){const{data:s=[],virtual:i}=this.props,{focusedIndex:a}=t||this.getFocusedState();void 0!==s[a-(i?i.skip:0)]&&this.handleItemClick(a,e)}setItems(e,t){t.length=0,t.push(...e)}getFocusedState(){const{focusedIndex:e}=this.state,t=void 0!==this.props.filter?this.props.filter:this.state.text,{allowCustom:s,data:i=[],dataItemKey:a,virtual:n,textField:o,focusedItemIndex:l=x,skipDisabledItems:r}=this.props,d=n&&n.skip||0;let p;if(void 0!==e)return{focusedIndex:e,focusedItem:i[e-d],focusedType:1};const h=this.value;if(s&&t)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(t)return p=l(i,t,o),{focusedItem:i[p],focusedIndex:p+d,focusedType:1};if(h.length){const e=h[h.length-1];return p=i.findIndex((t=>E(t,e,a))),void 0!==i[p]?{focusedIndex:p+d,focusedItem:i[p],focusedType:1}:{focusedType:0,focusedIndex:-1}}if(r&&o&&!t&&0===d){const e=i.findIndex((e=>!e.disabled&&e[o]));return{focusedIndex:e,focusedItem:i[e-d],focusedType:1}}return 0===d?{focusedItem:i[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(e){this._skipFocusEvent=!0,e.focus(),window.setTimeout((()=>this._skipFocusEvent=!1),0)}applyState(e){this.base.applyState(e),this._valueItemsDuringOnChange=null}calculateMedia(e){for(const t of e)this.setState({windowWidth:t.target.clientWidth})}updateStateOnKeyboardNavigation(e,t){this.setState({value:e}),this.triggerOnChange(e,t),this.applyState(t)}getLastSelectedOrDeselectedIndex(e,t){return null===this._lastSelectedOrDeslectedItemIndex&&(this._lastSelectedOrDeslectedItemIndex=t),null!==this._lastSelectedOrDeslectedItemIndex?this._lastSelectedOrDeslectedItemIndex+e:null}};we.displayName="MultiSelect",we.propTypes={...U.propTypes,autoClose:s.bool,value:s.arrayOf(s.any),defaultValue:s.arrayOf(s.any),dataItemKey:s.string,placeholder:s.string,tags:s.arrayOf(s.shape({text:s.string,data:s.arrayOf(s.any)})),tagRender:s.func,id:s.string,ariaLabelledBy:s.string,ariaDescribedBy:s.string,groupField:s.string,list:s.any,adaptive:s.bool,adaptiveTitle:s.string,onCancel:s.func,skipDisabledItems:s.bool},we.defaultProps={...U.defaultProps,autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0,prefix:void 0,suffix:void 0};let Fe=we;const De=i.createPropsContext(),Ke=i.withIdHOC(i.withPropsContext(De,Fe));Ke.displayName="KendoReactMultiSelect";const Me=e=>u.createElement(V,{...e,wrapperCssClass:"k-table-body k-table-scroller",listClassName:i.classNames("k-table k-table-list",{"k-virtual-table":void 0!==e.virtual}),listStyle:{...e.listStyle}}),Ne=i.createPropsContext(),Te=u.forwardRef(((e,t)=>{const s=i.usePropsContext(Ne,e),a=u.useRef(null),n=u.useRef(null),l=i.getScrollbarWidth(),{columns:r=Oe.columns,popupSettings:d=Oe.popupSettings,size:p=Oe.size,rounded:h=Oe.rounded,fillMode:c=Oe.fillMode,className:g,prefix:v,suffix:m,onOpen:f,onClose:b,onFocus:y,onBlur:k,onChange:x,onFilterChange:C,onPageChange:S,...E}=s;u.useImperativeHandle(a,(()=>({element:n.current&&n.current.element,focus(){n.current&&n.current.focus()},get value(){return n.current&&n.current.value},get name(){return n.current&&n.current.name},props:s}))),u.useImperativeHandle(t,(()=>a.current));const w=u.useMemo((()=>{if(void 0!==s.groupField&&s.data)return I(s.data[0],s.groupField)}),[s.data,s.groupField]),[F,D]=u.useState(w),[K,M]=u.useState(!0),[N]=v?ae(s.prefix||u.Fragment):[],[T]=m?ae(s.suffix||u.Fragment):[],P=u.useMemo((()=>{const e=u.createElement("th",{className:"k-table-th",colSpan:r.length},F);return u.createElement(u.Fragment,null,s.header,u.createElement("div",{className:"k-table-header-wrap"},u.createElement("table",{className:"k-table",role:"presentation"},u.createElement("colgroup",null,r.map(((e,t)=>u.createElement("col",{key:e.uniqueKey?e.uniqueKey:t,style:{width:e.width?e.width:Oe.width}})))),u.createElement("thead",{className:"k-table-thead"},u.createElement("tr",{className:"k-table-row"},r.map(((e,t)=>u.createElement("th",{className:"k-table-th",key:e.uniqueKey?e.uniqueKey:t},e.header||"Â ")))),F&&K&&u.createElement("tr",{className:"k-table-group-row"},s.groupStickyHeaderItemRender?s.groupStickyHeaderItemRender.call(void 0,e,{}):e)))))}),[s.header,r,F,K]),O=u.useMemo((()=>`calc(${r.map((e=>((e,t)=>e?"number"==typeof e?e+"px":e:t)(e.width,Oe.width))).filter(Boolean).join(" + ")} + ${l}px + 4px)`),[r,l]),_=s.virtual?s.virtual.skip:0,R=u.useCallback(((e,t)=>{const a=r.map(((e,a)=>u.createElement("span",{className:s.itemRender?void 0:"k-table-td",style:s.itemRender?void 0:{width:e.width?e.width:Oe.width},key:e.uniqueKey?e.uniqueKey:a},e.field?String(i.getter(e.field)(t.dataItem)):"")));let n,o,l,d,p=s.data||[];const h=t.index-_;void 0!==s.groupField&&(d=i.getter(s.groupField),o=d(p[h]),l=d(p[h-1]),o&&l&&o!==l&&(n=o)),n&&"classic"===s.groupMode&&a.push(u.createElement("div",{key:"group",className:"k-table-td k-table-group-td"},u.createElement("span",null,n)));const c=u.cloneElement(e,{...e.props,className:i.classNames("k-table-row",{"k-table-alt-row":t.index%2!=0,"k-focus":t.focused,"k-selected":t.selected,"k-first":!!n,"k-disabled":t.dataItem.disabled})},a);return s.itemRender?s.itemRender.call(void 0,c,t):c}),[r,s.groupField,s.itemRender,s.data,_]),z=u.useCallback(((e,t)=>{e&&e.call(void 0,{...t,target:a.current})}),[]),L=u.useCallback((e=>(s.virtual||D(w),z(f,e))),[z,f,s.virtual,w]),B=u.useCallback((e=>z(b,e)),[b]),H=u.useCallback((e=>z(y,e)),[y]),V=u.useCallback((e=>z(k,e)),[k]),q=u.useCallback((e=>z(x,e)),[x]),W=u.useCallback((e=>z(S,e)),[S]),A=u.useCallback((e=>(D(w),z(C,{...e,mobileMode:e.target.mobileMode}))),[C]),$=u.useCallback((e=>{D(e.group)}),[]);u.useEffect((()=>{i.setScrollbarWidth()})),u.useEffect((()=>{const e=s.data;D(w),e&&0!==e.length?M(!0):M(!1)}),[s.data]);const U=u.useCallback((e=>u.createElement(Me,{...e})),[]);return u.createElement(o.PopupPropsContext.Provider,{value:e=>({...e,popupClass:`k-dropdowngrid-popup ${d.popupClass}`})},u.createElement(pe,{...E,list:U,popupSettings:{...d,width:d.width||O,className:d.className},ref:n,header:P,itemRender:R,groupHeaderItemRender:s.groupHeaderItemRender,size:p,rounded:h,fillMode:c,groupMode:s.groupMode,groupField:s.groupField,isMultiColumn:!0,onOpen:L,onClose:B,onFocus:H,onBlur:V,onChange:q,onFilterChange:A,onPageChange:W,onGroupScroll:$,className:i.classNames("k-dropdowngrid",g),required:s.required,adaptive:s.adaptive,adaptiveFilter:s.adaptiveFilter,adaptiveTitle:s.adaptiveTitle,footer:s.footer,footerClassName:"k-table-footer",prefix:N,suffix:T}))})),Pe={...re.propTypes,columns:s.any.isRequired},Oe={columns:[],popupSettings:{},width:"200px",size:"medium",rounded:"medium",fillMode:"solid"};function _e(e){return"string"==typeof e?Number(e.replace("px","")):e||void 0}function Re(e,t,s,i){const a=_e(t.popupSettings.width),n=(void 0!==s.width&&_e(s.width))!==a,o=void 0!==i.width,l=n?s.width:o?i.width:a,r=_e(function(e,t,s){const[i,a]=u.useState(t);return u.useEffect((()=>{void 0!==i&&e.current&&a(e.current.offsetWidth)}),s),i}(e,l));return n||o?l:r&&a&&r>a?r:a}Te.displayName="KendoMultiColumnComboBox",Te.propTypes=Pe;const ze=e=>u.createElement("div",{className:"k-nodata"},u.createElement("div",null,e.children)),{sizeMap:Le,roundedMap:Be}=i.kendoThemeMaps,He=e=>u.createElement("span",{className:"k-input-value-text"},e.children),Ve=e=>e.split("_").map((e=>parseInt(e,10))),qe={selectField:"selected",subItemsField:"items",popupSettings:{animate:!0,width:"200px",height:"200px"},data:[],required:!1,style:{},validityStyles:!0,size:"medium",rounded:"medium",fillMode:"solid"},We=i.createPropsContext(),Ae=u.forwardRef(((e,t)=>{i.validatePackage(G);const s=i.usePropsContext(We,e),l={...qe,...s},c=i.useId(),g=l.id||c,{data:v,dataItemKey:f,popupSettings:y={},style:k,opened:x,disabled:C,onOpen:S=i.noop,onClose:w=i.noop,placeholder:F,label:D,name:K,selectField:M,subItemsField:N,validationMessage:T,valid:_,required:R,validityStyles:z}=l,L=i.getTabIndex(l.tabIndex,C),B=u.useRef(null),V=u.useRef(null),q=u.useRef(null),W=u.useRef(null),A=u.useRef(null),$=u.useRef(null),U=u.useRef(!1),[j,J]=u.useState(void 0),Q=void 0!==l.value,X=Q?l.value:void 0!==j?j:l.defaultValue,Z=b(X),ee=Z?I(X,l.textField):"",te=((e,t)=>{const{validationMessage:s,valid:i,required:a}=e;return{customError:void 0!==s,valid:!!(void 0!==i?i:!a||t),valueMissing:!t}})({validationMessage:T,valid:_,required:R},Z),se=u.useCallback((()=>V.current&&V.current.focus()),[]);u.useImperativeHandle(B,(()=>({props:l,element:V.current,focus:se}))),u.useImperativeHandle(t,(()=>B.current));const ie=i.useRtl(V,l.dir),ae={width:Re(V,qe,{...qe.popupSettings,...y},k),...void 0!==ie?{direction:ie}:{}},[ne,oe]=u.useState(!1),le=void 0!==x?x:ne,[re,de]=u.useState(!1),[pe,he]=u.useState(),ce=!!(pe&&pe<=Y&&l.adaptive),[ue,ge]=u.useState(""),ve=u.useCallback((()=>{A.current&&A.current.setCustomValidity&&A.current.setCustomValidity(te.valid?"":void 0===T?"Please select a value from the list!":T)}),[T,te]);u.useEffect(ve),u.useEffect((()=>{const e=i.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(Oe.bind(void 0));return null!=document&&document.body&&e&&e.observe(document.body),()=>{null!=document&&document.body&&e&&e.disconnect()}}),[]);const me=u.useCallback((e=>{if(!le){if(S){const t={...e};S.call(void 0,t)}void 0===x&&oe(!0)}}),[le,x,S]),fe=u.useCallback((e=>{if(le){if(w){const t={...e};w.call(void 0,t)}void 0===x&&(oe(!1),ce&&setTimeout((()=>{var e;Ie(null==(e=W.current)?void 0:e.element)}),300))}}),[le,x,w,ce]),be=u.useCallback((e=>{if(!e.isDefaultPrevented()&&B.current){de(!0);const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};(le?fe:me)(t)}}),[le,x,S,w]),ye=u.useCallback((e=>{U.current=!0,e(),window.setTimeout((()=>U.current=!1),0)}),[]),ke=u.useCallback((e=>{var t,s;const{keyCode:a,altKey:n}=e,o=$.current&&$.current.element;if(!B.current||e.isDefaultPrevented()&&(null==(t=q.current)?void 0:t.element)===e.target)return;const l={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};if(le)if(a===i.Keys.esc||n&&a===i.Keys.up)e.preventDefault(),fe(l);else if(o&&o.querySelector(".k-focus")&&(a===i.Keys.up||a===i.Keys.down||a===i.Keys.left||a===i.Keys.right||a===i.Keys.home||a===i.Keys.end)){if(a===i.Keys.up&&null!=(s=q.current)&&s.element){const e=Array.from(o.querySelectorAll(".k-treeview-item")),t=[...e].reverse().find((e=>!(!e||!e.querySelector(".k-focus"))));if(t&&0===e.indexOf(t))return ye((()=>{var e;Ie(null==(e=q.current)?void 0:e.element)}))}ye(i.noop)}else a===i.Keys.down&&ye((()=>{var e;Ie((null==(e=q.current)?void 0:e.element)||o)}));else n&&a===i.Keys.down?(e.preventDefault(),me(l)):le||a===i.Keys.esc&&Ne(e)}),[le,x,S,w]),Ce=u.useCallback((e=>{const{keyCode:t,altKey:s}=e;s||t!==i.Keys.up&&t!==i.Keys.down||(e.preventDefault(),ye(t===i.Keys.up?()=>{Ie(V.current)}:()=>{Ie($.current&&$.current.element)}))}),[]),Ie=u.useCallback((e=>{e&&ye((()=>e.focus()))}),[]),Se=u.useCallback((()=>{var e;re||!le||x?s.filterable?Ie(null==(e=q.current)?void 0:e.element):Ie($.current&&$.current.element):fe({target:B.current})}),[w,s.filterable,re,x,le]),Ee=u.useCallback((()=>{re&&Ie(V.current)}),[re]),we=u.useCallback((e=>{if(!re&&!U.current&&(de(!0),s.onFocus&&B.current)){const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};s.onFocus.call(void 0,t)}}),[re,s.onFocus]),Fe=u.useCallback((e=>{if(re&&!U.current&&B.current){de(!1);const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};if(s.onBlur){const e={...t};s.onBlur.call(void 0,e)}ce||fe(t)}}),[re,s.onBlur,le,x,w]),De=u.useCallback((()=>{re&&ye(i.noop),ce&&setTimeout((()=>{var e;Ie(null==(e=W.current)?void 0:e.element)}),300)}),[re,ce]),Ke=u.useCallback(((e,t,i)=>{if(s.onChange){const a={value:t,level:i?Ve(i):[],...e};s.onChange.call(void 0,a)}Q||J(t)}),[s.onChange,Q]),Me=u.useCallback((e=>{if(E(e.item,X,f)||!B.current)return;const{item:t,itemHierarchicalIndex:s,nativeEvent:i,syntheticEvent:a}=e,n={syntheticEvent:a,nativeEvent:i,target:B.current};Ke(n,t,s),fe(n)}),[Q,X,s.onChange,f,le,x,w]),Ne=u.useCallback((e=>{if(!B.current)return;const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};Ke(t,null),fe(t),e.preventDefault()}),[Q,s.onChange,le,x,w]),Te=u.useCallback((e=>{if(e.syntheticEvent.stopPropagation(),s.onExpandChange&&B.current){const{item:t,itemHierarchicalIndex:i,nativeEvent:a,syntheticEvent:n}=e,o={level:Ve(i),item:t,nativeEvent:a,syntheticEvent:n,target:B.current};s.onExpandChange.call(void 0,o)}}),[s.onExpandChange]),Pe=u.useCallback((e=>{if(s.onFilterChange&&B.current){const t={filter:{field:s.textField,operator:"contains",value:e.target.value},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:B.current};s.onFilterChange.call(void 0,t),void 0===s.filter&&ge(e.target.value)}}),[s.onFilterChange,s.filter,s.textField]),Oe=u.useCallback((e=>{for(const t of e)he(t.target.clientWidth)}),[]),_e=u.useMemo((()=>Q||!Z?v:i.mapTree(v,N,(e=>i.extendDataItem(e,N,{[M]:E(e,X,f)})))),[v,X,Q,Z,M,N]),Ae=l.listNoData||ze,$e=l.valueHolder||He,Ue=r.useLocalization(),Ge=!z||te.valid,{size:je,rounded:Ye,fillMode:Je}=l,Qe=u.createElement(u.Fragment,null,u.createElement("span",{className:i.classNames("k-dropdowntree k-picker",l.className,{[`k-picker-${Le[je]||je}`]:je,[`k-rounded-${Be[Ye]||Ye}`]:Ye,[`k-picker-${Je}`]:Je,"k-focus":re,"k-invalid":!Ge,"k-loading":l.loading,"k-required":R,"k-disabled":l.disabled}),tabIndex:L,accessKey:l.accessKey,id:g,style:D?{...k,width:void 0}:k,dir:ie,ref:V,onKeyDown:C?void 0:ke,onMouseDown:De,onClick:C?void 0:be,onFocus:we,onBlur:Fe,role:"combobox","aria-haspopup":"tree","aria-expanded":le,"aria-disabled":C,"aria-label":D,"aria-labelledby":l.ariaLabelledBy,"aria-describedby":l.ariaDescribedBy,"aria-required":R},u.createElement("span",{className:"k-input-inner"},(ee||F)&&u.createElement($e,{item:X},ee||F)),l.loading&&u.createElement(i.IconWrap,{className:"k-input-loading-icon",name:"loading"}),Z&&!C&&u.createElement("span",{onClick:Ne,className:"k-clear-value",title:Ue.toLanguageString(O,H[O]),role:"button",tabIndex:-1,onMouseDown:e=>e.preventDefault()},u.createElement(i.IconWrap,{name:"x",icon:n.xIcon})),u.createElement(d.Button,{tabIndex:-1,type:"button","aria-label":"select",className:"k-input-button",size:je,fillMode:Je,themeColor:"base",rounded:null,icon:"caret-alt-down",svgIcon:n.caretAltDownIcon}),u.createElement("select",{name:K,ref:A,tabIndex:-1,"aria-hidden":!0,title:D,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},u.createElement("option",{value:l.valueMap?l.valueMap.call(void 0,X):X})),!ce&&u.createElement(o.Popup,{...y,className:i.classNames(y.className,{"k-rtl":"rtl"===ie}),popupClass:i.classNames(y.popupClass,"k-dropdowntree-popup k-list-container"),style:ae,anchor:y.anchor||V.current,show:le,onOpen:Se,onClose:Ee},l.filterable&&u.createElement(m,{value:void 0===l.filter?ue:l.filter,ref:q,onChange:Pe,onKeyDown:Ce,size:je,rounded:Ye,fillMode:Je,renderListFilterWrapper:!0,renderPrefixSeparator:!0}),v.length>0?u.createElement(h.TreeView,{style:{height:y.height},ref:$,tabIndex:L,data:_e,focusIdField:f,textField:l.textField,selectField:M,expandField:l.expandField,childrenField:N,expandIcons:!0,onItemClick:Me,onExpandChange:Te,size:je,item:l.item,dir:ie,animate:y.animate}):u.createElement(Ae,null,Ue.toLanguageString(P,H[P])))),ce&&(()=>{const e=l.filterable?u.createElement(m,{value:void 0===l.filter?ue:l.filter,ref:W,onChange:Pe,onKeyDown:Ce,size:je,rounded:Ye,fillMode:Je}):null,t={adaptiveTitle:l.adaptiveTitle,expand:le,onClose:e=>fe(e),windowWidth:pe,mobileFilter:e};return u.createElement(xe,{...t},u.createElement(p.ActionSheetContent,{className:"!k-overflow-hidden"},u.createElement("div",{className:"k-list-container"},u.createElement("div",{className:"k-list k-list-lg"},v.length>0?u.createElement(h.TreeView,{ref:$,tabIndex:L,data:_e,focusIdField:f,textField:l.textField,selectField:M,expandField:l.expandField,childrenField:N,expandIcons:!0,onItemClick:Me,onExpandChange:Te,size:je,item:l.item,dir:ie,animate:y.animate}):u.createElement(Ae,null,Ue.toLanguageString(P,H[P]))))))})());return D?u.createElement(a.FloatingLabel,{label:D,editorValue:ee,editorPlaceholder:F,editorValid:Ge,editorDisabled:C,editorId:g,style:{width:k?k.width:void 0},children:Qe,dir:ie}):Qe})),$e={opened:s.bool,disabled:s.bool,dir:s.string,tabIndex:s.number,accessKey:s.string,data:s.array,value:s.any,valueMap:s.func,placeholder:s.string,dataItemKey:s.string.isRequired,textField:s.string.isRequired,selectField:s.string,expandField:s.string,subItemsField:s.string,className:s.string,style:s.object,label:s.string,validationMessage:s.string,validityStyles:s.bool,valid:s.bool,required:s.bool,name:s.string,id:s.string,ariaLabelledBy:s.string,ariaDescribedBy:s.string,filterable:s.bool,filter:s.string,loading:s.bool,popupSettings:s.shape({animate:s.oneOfType([s.bool,s.shape({openDuration:s.number,closeDuration:s.number})]),popupClass:s.string,className:s.string,appendTo:s.any,width:s.oneOfType([s.string,s.number]),height:s.oneOfType([s.string,s.number])}),onOpen:s.func,onClose:s.func,onFocus:s.func,onBlur:s.func,onChange:s.func,onFilterChange:s.func,onExpandChange:s.func,item:s.func,valueHolder:s.func,listNoData:s.func,adaptiveTitle:s.string,adaptive:s.bool};Ae.displayName="KendoReactDropDownTree",Ae.propTypes=$e;const{sizeMap:Ue,roundedMap:Ge}=i.kendoThemeMaps,je=e=>e.split("_").map((e=>parseInt(e,10))),Ye={checkField:"checkField",checkIndeterminateField:"checkIndeterminateField",subItemsField:"items",popupSettings:{animate:!0,width:"200px",height:"200px"},size:"medium",rounded:"medium",fillMode:"solid",required:!1,validityStyles:!0},Je=i.createPropsContext(),Qe=u.forwardRef(((e,t)=>{const s=i.usePropsContext(Je,e);i.validatePackage(G);const n=i.useId(),l=s.id||n,{data:d=[],dataItemKey:c,style:g={},placeholder:v,label:f,name:b,validationMessage:y,valid:k,tags:x,value:C,opened:S,disabled:w,popupSettings:F=Ye.popupSettings,checkField:K=Ye.checkField,checkIndeterminateField:M=Ye.checkIndeterminateField,subItemsField:N=Ye.subItemsField,size:T=Ye.size,rounded:O=Ye.rounded,fillMode:_=Ye.fillMode,required:R=Ye.required,validityStyles:z=Ye.validityStyles,onOpen:V=i.noop,onClose:q=i.noop}=s,W=i.getTabIndex(s.tabIndex,w),A=u.useRef(null),$=u.useRef(null),U=u.useRef(null),j=u.useRef(null),J=u.useRef(null),Q=u.useRef(null),X=u.useRef(!1),Z=u.useRef([]),ee=u.useRef(null),[te,se]=u.useState(),[ae,ne]=u.useState(!1),[oe,le]=u.useState(!1),[re,de]=u.useState(),[pe,he]=u.useState([]),[ce,ue]=u.useState(""),ge=!!(re&&re<=Y&&s.adaptive),ve=void 0!==S?S:ae,me=!(!Array.isArray(C)||!C.length),fe=((e,t)=>{const{validationMessage:s,valid:i,required:a}=e;return{customError:void 0!==s,valid:!!(void 0!==i?i:!a||t),valueMissing:!t}})({validationMessage:y,valid:k,required:R},me),be=i.useRtl($,s.dir),ke={width:Re($,Ye,F,g),...void 0!==be?{direction:be}:{}},Ce=u.useCallback((()=>$.current&&$.current.focus()),[]);Z.current=void 0===x?(C||[]).map((e=>({text:I(e,s.textField),data:[e]}))):[...x],u.useImperativeHandle(A,(()=>({props:s,element:$.current,focus:Ce}))),u.useImperativeHandle(t,(()=>A.current));const Ie=u.useCallback((()=>{J.current&&J.current.setCustomValidity&&J.current.setCustomValidity(fe.valid?"":void 0===y?"Please select a value from the list!":y)}),[y,fe]);u.useEffect(Ie),u.useEffect((()=>{const e=i.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver($e.bind(void 0));return null!=document&&document.body&&e&&e.observe(document.body),()=>{e&&e.disconnect()}}),[]),u.useEffect((()=>{ee.current&&ve&&ee.current.setPosition(ee.current._popup)}),[C,ve]);const Se=u.useCallback(((e,t,i)=>{if(s.onChange){const a={items:t,operation:i,...e};s.onChange.call(void 0,a)}}),[s.onChange]),Ee=u.useCallback((e=>{if(E(e.item,C,c)||!A.current)return;const{item:t,nativeEvent:s,syntheticEvent:i}=e,a={syntheticEvent:i,nativeEvent:s,target:A.current};Se(a,[t],"toggle")}),[C,c,Se]),we=u.useCallback((e=>{if(!ve){if(V){const t={...e};V.call(void 0,t)}void 0===S&&(ne(!0),he(C||[]),ge&&setTimeout((()=>{var e;Ke(null==(e=j.current)?void 0:e.element)}),300))}}),[ve,S,V,ge,j]),Fe=u.useCallback((e=>{if(ve){if(q){const t={...e};q.call(void 0,t)}void 0===S&&ne(!1)}}),[ve,S,q]),De=u.useCallback((e=>{X.current=!0,e(),window.setTimeout((()=>X.current=!1),0)}),[]),Ke=u.useCallback((e=>{e&&De((()=>e.focus()))}),[De]),Me=u.useCallback((()=>{var e;!oe&&ve?Fe({target:A.current}):s.filterable?Ke(null==(e=U.current)?void 0:e.element):Ke(Q.current&&Q.current.element)}),[oe,ve,Ke,Fe,s.filterable]),Ne=u.useCallback((()=>{oe&&Ke($.current)}),[oe,Ke]),Te=u.useCallback((e=>{if(!oe&&!X.current&&(le(!0),s.onFocus&&A.current)){const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:A.current};s.onFocus.call(void 0,t)}}),[oe,s.onFocus]),Pe=u.useCallback((e=>{if(oe&&!X.current&&A.current){le(!1);const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:A.current};if(s.onBlur){const e={...t};s.onBlur.call(void 0,e)}ge||Fe(t)}}),[oe,s.onBlur,ve,S,q]),Oe=u.useCallback((()=>{oe&&De(i.noop)}),[oe,De]),_e=u.useCallback((e=>{if(!e.isDefaultPrevented()&&A.current){le(!0);const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:A.current};ve||we(t)}}),[ve,we]),Le=u.useCallback((e=>{var t,s;const{keyCode:a,altKey:n}=e,o=Q.current&&Q.current.element;if(!A.current||e.isDefaultPrevented()&&(null==(t=U.current)?void 0:t.element)===e.target)return;const l={syntheticEvent:e,nativeEvent:e.nativeEvent,target:A.current};if(C&&C.length>0&&(a===i.Keys.left||a===i.Keys.right||a===i.Keys.home||a===i.Keys.end||a===i.Keys.delete)){const e=Z.current;let t,s=te?e.findIndex((e=>D(e,te,c))):-1;const n=-1!==s;a===i.Keys.left?(s=n?Math.max(0,s-1):e.length-1,t=e[s]):a===i.Keys.right?s===e.length-1?t=void 0:n&&(s=Math.min(e.length-1,s+1),t=e[s]):a===i.Keys.home?t=e[0]:a===i.Keys.end?t=e[e.length-1]:a===i.Keys.delete&&n&&Se(l,e[s].data,"delete"),t!==te&&se(t)}if(ve)if(a===i.Keys.esc||n&&a===i.Keys.up)e.preventDefault(),Fe(l);else if(o&&o.querySelector(".k-focus")&&(a===i.Keys.up||a===i.Keys.down||a===i.Keys.left||a===i.Keys.right||a===i.Keys.home||a===i.Keys.end)){if(a===i.Keys.up&&null!=(s=U.current)&&s.element){const e=Array.from(o.querySelectorAll(".k-treeview-item")),t=[...e].reverse().find((e=>!(!e||!e.querySelector(".k-focus"))));if(t&&0===e.indexOf(t))return De((()=>{var e;Ke(null==(e=U.current)?void 0:e.element)}))}De(i.noop)}else a===i.Keys.down&&De((()=>{var e;Ke((null==(e=U.current)?void 0:e.element)||o)}));else n&&a===i.Keys.down&&(e.preventDefault(),we(l))}),[ve,Fe,Ke,De,we,te,c,C,Se]),Be=u.useCallback((e=>{const{keyCode:t,altKey:s}=e;s||t!==i.Keys.up&&t!==i.Keys.down||(e.preventDefault(),De(t===i.Keys.up?()=>{Ke($.current)}:()=>{Ke(Q.current&&Q.current.element)}))}),[Ke,De]),He=u.useCallback((e=>{if(!A.current)return;const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:A.current};Se(t,[],"clear"),Fe(t),e.preventDefault()}),[Se,Fe]),Ve=u.useCallback(((e,t)=>{var s;Fe({target:A.current}),oe||Ke(null==(s=U.current)?void 0:s.element),Se({syntheticEvent:t,nativeEvent:t.nativeEvent,target:A.current},e,"delete")}),[Se,Fe,Ke,oe]),qe=u.useCallback((e=>{if(s.onExpandChange&&A.current){const{item:t,itemHierarchicalIndex:i,nativeEvent:a,syntheticEvent:n}=e,o={level:je(i),item:t,nativeEvent:a,syntheticEvent:n,target:A.current};s.onExpandChange.call(void 0,o)}}),[s.onExpandChange]),We=u.useCallback((e=>{if(s.onFilterChange&&A.current){const t={filter:{field:s.textField,operator:"contains",value:e.target.value},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:A.current};s.onFilterChange.call(void 0,t),void 0===s.filter&&ue(e.target.value)}}),[s.onFilterChange,s.filter,s.textField]),Ae=u.useCallback((e=>{if(!A.current)return;const t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:A.current};s.onCancel&&s.onCancel.call(void 0,t),Fe(t),e.preventDefault()}),[s.onCancel,Fe]),$e=u.useCallback((e=>{for(let t of e)de(t.target.clientWidth)}),[]),Qe=s.listNoData||ze,Xe=r.useLocalization(),Ze=!z||fe.valid,et=ge&&ve?pe:Z.current,tt=u.createElement(u.Fragment,null,u.createElement("span",{className:i.classNames("k-multiselecttree k-input",s.className,{[`k-input-${Ue[T]||T}`]:T,[`k-rounded-${Ge[O]||O}`]:O,[`k-input-${_}`]:_,"k-focus":oe&&!w,"k-invalid":!Ze,"k-disabled":w,"k-loading":s.loading,"k-required":R}),tabIndex:W,accessKey:s.accessKey,id:l,style:f?{...g,width:void 0}:g,dir:be,ref:$,onKeyDown:w?void 0:Le,onMouseDown:Oe,onFocus:Te,onBlur:Pe,role:"combobox","aria-haspopup":"tree","aria-expanded":ve,"aria-disabled":w,"aria-label":f,"aria-labelledby":s.ariaLabelledBy,"aria-describedby":s.ariaDescribedBy?s.ariaDescribedBy:"tagslist-"+l,"aria-required":s.required,onClick:w?void 0:_e},u.createElement("div",{id:"tagslist-"+l,className:i.classNames("k-input-values k-chip-list",{[`k-chip-list-${Ue[T]||T}`]:T})},et.length>0&&u.createElement(ye,{tag:s.tag,onTagDelete:Ve,data:et,guid:l,focused:te?Z.current.find((e=>D(e,te,c))):void 0,size:T})),u.createElement("span",{className:"k-input-inner"},0===et.length&&u.createElement("span",{className:"k-input-value-text"},v)),s.loading&&u.createElement(i.IconWrap,{className:"k-input-loading-icon",name:"loading"}),me&&!w&&et.length>0&&u.createElement(ie,{onClick:He}),u.createElement("select",{name:b,ref:J,tabIndex:-1,"aria-hidden":!0,title:f,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},u.createElement("option",{value:s.valueMap?s.valueMap.call(void 0,C):C})),!ge&&u.createElement(o.Popup,{...F,popupClass:i.classNames(F.popupClass,"k-multiselecttree-popup"),className:i.classNames(F.className,{"k-rtl":"rtl"===be}),style:ke,anchor:F.anchor||$.current,show:ve,onOpen:Me,onClose:Ne,ref:ee},s.filterable&&u.createElement(m,{value:void 0===s.filter?ce:s.filter,ref:U,onChange:We,onKeyDown:Be,tabIndex:W,size:T,rounded:O,fillMode:_,renderListFilterWrapper:!0,renderPrefixSeparator:!0}),d.length>0?u.createElement(h.TreeView,{style:{height:F.height},ref:Q,tabIndex:W,data:d,focusIdField:c,textField:s.textField,checkField:K,checkIndeterminateField:M,expandField:s.expandField,childrenField:N,expandIcons:!0,onItemClick:Ee,onCheckChange:Ee,onExpandChange:qe,checkboxes:!0,size:T,item:s.item,dir:be}):u.createElement(Qe,null,Xe.toLanguageString(P,H[P])))),ge&&(()=>{const e=s.filterable?u.createElement(m,{value:void 0===s.filter?ce:s.filter,ref:j,onChange:We,onKeyDown:Be,size:T,rounded:O,fillMode:_}):null,t={adaptiveTitle:s.adaptiveTitle,expand:ve,onClose:e=>s.onCancel?Ae(e):He(e),windowWidth:re,mobileFilter:e,footer:{cancelText:Xe.toLanguageString(B,H[B]),onCancel:e=>s.onCancel?Ae(e):He(e),applyText:Xe.toLanguageString(L,H[L]),onApply:e=>Fe(e)}};return u.createElement(xe,{...t},u.createElement(p.ActionSheetContent,{className:"!k-overflow-hidden"},u.createElement("div",{className:"k-list-container"},u.createElement("div",{className:"k-list k-list-lg"},d.length>0?u.createElement(h.TreeView,{ref:Q,tabIndex:W,data:d,focusIdField:c,textField:s.textField,checkField:K,checkIndeterminateField:M,expandField:s.expandField,childrenField:N,expandIcons:!0,onItemClick:Ee,onCheckChange:Ee,onExpandChange:qe,checkboxes:!0,size:T,item:s.item,dir:be}):u.createElement(Qe,null,Xe.toLanguageString(P,H[P]))))))})());return f?u.createElement(a.FloatingLabel,{label:f,editorValue:me,editorPlaceholder:v,editorValid:Ze,editorDisabled:w,editorId:l,style:{width:g?g.width:void 0},children:tt,dir:be}):tt})),Xe={opened:s.bool,disabled:s.bool,dir:s.string,tabIndex:s.number,accessKey:s.string,data:s.array,value:s.any,valueMap:s.func,placeholder:s.string,dataItemKey:s.string.isRequired,textField:s.string.isRequired,checkField:s.string,checkIndeterminateField:s.string,expandField:s.string,subItemsField:s.string,className:s.string,style:s.object,label:s.string,validationMessage:s.string,validityStyles:s.bool,valid:s.bool,required:s.bool,name:s.string,id:s.string,ariaLabelledBy:s.string,ariaDescribedBy:s.string,filterable:s.bool,filter:s.string,loading:s.bool,tags:s.arrayOf(s.shape({text:s.string,data:s.arrayOf(s.any)})),popupSettings:s.shape({animate:s.oneOfType([s.bool,s.shape({openDuration:s.number,closeDuration:s.number})]),popupClass:s.string,className:s.string,appendTo:s.any,width:s.oneOfType([s.string,s.number]),height:s.oneOfType([s.string,s.number])}),onOpen:s.func,onClose:s.func,onFocus:s.func,onBlur:s.func,onChange:s.func,onFilterChange:s.func,onExpandChange:s.func,onCancel:s.func,item:s.func,listNoData:s.func,adaptiveTitle:s.string,adaptive:s.bool};Qe.displayName="KendoReactMultiSelectTree",Qe.propTypes=Xe;const Ze=(e,t)=>{const s={};return e&&e.length&&e.forEach((e=>{s[t(e)]=!0})),s};e.AutoComplete=me,e.AutoCompletePropsContext=ve,e.AutoCompleteWithoutContext=ge,e.ComboBox=pe,e.ComboBoxPropsContext=de,e.ComboBoxWithoutContext=re,e.DropDownList=te,e.DropDownListClassComponent=Z,e.DropDownListPropsContext=ee,e.DropDownListWithoutContext=Z,e.DropDownTree=Ae,e.DropDownTreePropsContext=We,e.List=V,e.ListContainer=g,e.ListFilter=m,e.ListItem=N,e.MultiColumnComboBox=Te,e.MultiColumnComboBoxPropsContext=Ne,e.MultiSelect=Ke,e.MultiSelectPropsContext=De,e.MultiSelectTree=Qe,e.MultiSelectTreePropsContext=Je,e.MultiSelectWithoutContext=Fe,e.SearchBar=se,e.TagList=ye,e.dropdownsMessages=H,e.findByFieldValue=(e,t,s)=>{if(!e)return;const i=e.findIndex((e=>I(e,t)===s));return e[i]},e.getItemValue=I,e.getMultiSelectTreeValue=(e,t)=>{const{items:s,dataItemKey:a,value:n,subItemsField:o="items",operation:l}=t,r=i.getter(a),d=Ze(n,r);if("clear"===l)return[];if("delete"===l){const e=Ze(s,r);return n.filter((t=>!e[r(t)]))}const p=s[0],h=r(p),c=i.getter(o),u=[...e],g=[];let v,m=[];for(;u.length;){const e=u.pop();if(h===r(e)){m=g.map((e=>e.item)),v=e;break}{g&&g.length&&g[g.length-1].parentPosition===u.length&&g.pop();const t=c(e);t&&t.length&&(g.push({item:e,parentPosition:u.length}),u.push(...t))}}const f=[...c(v)||[]];let b=[];for(;f.length;){const e=f.pop();b.push(e);const t=c(e);t&&t.length&&f.push(...t)}const y=[];if(!d[h]){y.push(...n),y.push(v),y.push(...b.filter((e=>!d[r(e)])));const e=m.filter((e=>!d[r(e)])),t=Ze(y,r);for(let s=e.length-1;s>-1;s--){const i=e[s],a=c(i);if(a.filter((e=>t[r(e)])).length<a.length)break;y.push(i),t[r(i)]=!0}}else{const e=r(v),t=Ze(b,r),s=Ze(m,r);y.push(...n.filter((i=>{const a=r(i);return!t[a]&&e!==a&&!s[a]})))}return y},e.getValueMap=Ze,e.nodata=P,e.scrollToItem=k}));
