/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const P=require("react"),S=require("react-dom"),t=require("prop-types"),_=require("./DialogTitleBar.js"),u=require("./DialogActionsBar.js"),s=require("@progress/kendo-react-common"),m=require("./package-metadata.js"),N=require("./utils.js"),c=require("./constants.js");function g(r){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const a=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(i,e,a.get?a:{enumerable:!0,get:()=>r[e]})}}return i.default=r,Object.freeze(i)}const n=g(P),M=g(S),o=class o extends n.Component{constructor(i){super(i),this.context=0,this.titleId=this.generateTitleId(),this.contentId=this.generateContentId(),this.showLicenseWatermark=!1,this.activeElement=null,this.onCloseDialog=e=>{e.preventDefault(),s.dispatchEvent(this.props.onClose,e,this,void 0),setTimeout(()=>{this.activeElement&&this.activeElement.focus()})},this.onKeyDown=e=>{e.keyCode===s.Keys.esc&&this.props.onClose&&(e.preventDefault(),this.onCloseDialog(e)),s.keepFocusInContainer(e,this.element)},this.getCurrentZIndex=()=>!this.state||this.context===void 0?this.context?this.context:c.DEFAULT_DIALOGS_ZINDEX:this.state.zIndex>(this.context?this.context+c.ZINDEX_DIALOGS_STEP:0)?this.state.zIndex:this.context+c.ZINDEX_DIALOGS_STEP,this.getDocument=()=>this.props.appendTo?this.props.appendTo.ownerDocument:document,s.validatePackage(m.packageMetadata),this.showLicenseWatermark=s.shouldShowValidationUI(m.packageMetadata),this.activeElement=document.activeElement}get _id(){return this.props.id+"-accessibility-id"}componentDidMount(){this.element&&(this.props.autoFocus?this.element.focus():s.focusFirstFocusableChild(this.element),this.setState({zIndex:N.getMaxZIndex(this.getCurrentZIndex(),this.getDocument(),this._id)}))}render(){const i=this.props.id!==void 0?this.props.id:this.titleId,{title:e,width:a,height:D,children:f,minWidth:b,dir:C,style:x,contentStyle:T,modal:k=!0}=this.props,d=n.Children.toArray(f),v=this.getContent(d),w=this.getActionBar(d),E=e?{"aria-labelledby":i}:null,O=this.props.closeIcon!==void 0?this.props.closeIcon:!0,h=this.getCurrentZIndex(),p=n.createElement(s.ZIndexContext.Provider,{value:h},n.createElement("div",{[c.DATA_DIALOGS_ID]:this._id,className:"k-dialog-wrapper"+(this.props.className?" "+this.props.className:""),onKeyDown:this.onKeyDown,tabIndex:0,dir:C,style:{zIndex:h,...x},ref:A=>this.element=A},k&&n.createElement("div",{className:"k-overlay",style:this.props.overlayStyle}),n.createElement("div",{...E,className:s.classNames("k-window k-dialog",{[`k-window-${this.props.themeColor}`]:this.props.themeColor}),role:"dialog","aria-labelledby":i,"aria-modal":!0,"aria-describedby":this.contentId,style:{width:a,height:D,minWidth:b}},this.props.title&&n.createElement(_.DialogTitleBar,{closeIcon:O,onCloseButtonClick:this.onCloseDialog,id:i},e),n.createElement("div",{className:"k-window-content k-dialog-content",style:T,id:this.contentId},v),w,this.showLicenseWatermark&&n.createElement(s.WatermarkOverlay,null))));return s.canUseDOM?this.props.appendTo!==null?M.createPortal(p,this.props.appendTo||document.body):p:null}getActionBar(i){return i.filter(e=>e&&e.type===u.DialogActionsBar)}getContent(i){return i.filter(e=>e&&e.type!==u.DialogActionsBar)}generateTitleId(){return"dialog-title-"+this._id}generateContentId(){return"dialog-content-"+this._id}};o.displayName="Dialog",o.propTypes={title:t.any,id:t.string,dir:t.string,style:t.object,closeIcon:t.bool,width:t.oneOfType([t.number,t.string]),height:t.oneOfType([t.number,t.string]),minWidth:t.oneOfType([t.number,t.string]),autoFocus:t.bool},o.defaultProps={autoFocus:!1},o.contextType=s.ZIndexContext;let l=o;const y=s.createPropsContext(),I=s.withIdHOC(s.withPropsContext(y,l));I.displayName="KendoReactDialog";exports.Dialog=I;exports.DialogPropsContext=y;
