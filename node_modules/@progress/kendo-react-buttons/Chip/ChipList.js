/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const W=require("react"),t=require("prop-types"),o=require("@progress/kendo-react-common"),X=require("./selection-reducer.js"),Y=require("./focus-reducer.js"),Z=require("./data-reducer.js"),S=require("./Chip.js"),D=require("./chip-list-contexts.js"),V=require("../package-metadata.js");function ee(e){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,l.get?l:{enumerable:!0,get:()=>e[n]})}}return i.default=e,Object.freeze(i)}const a=ee(W),te=(e,i,n)=>{i.selection==="multiple"?Array.isArray(e)||(e=e?[e]:null):i.selection==="single"&&Array.isArray(e)&&(e=e?e.join(""):null);const[l,c]=a.useState(e);return[l,u=>{const d=X.selectionReducer(i.state||l,{...u,...i});n&&n(d,u.event),i.selection!=="none"&&c(d)}]},ae=e=>{const[i,n]=a.useState(null);return[i,c=>{const h=Y.focusReducer(c.payload,{...c,...e});n(h)}]},ne=(e,i,n)=>{const[l,c]=a.useState(e);return[l,u=>{const d=Z.dataReducer(i.state||l,{...u,...i});n&&n(d,u.event),c(d)}]},x=a.forwardRef((e,i)=>{o.validatePackage(V.packageMetadata);const n=a.useRef(null),l=a.useRef(null),{id:c,style:h,tabIndex:u,className:d,ariaDescribedBy:q,ariaLabelledBy:T,ariaLabel:j,value:b,defaultData:z=r.defaultData,chip:R=r.chip,disabled:y=r.disabled,size:m=r.size,defaultValue:E=r.defaultValue,selection:k=r.selection,valueField:f=r.valueField,textField:O=r.textField,dir:N=r.dir,onChange:g,onDataChange:C}=e,F=o.useDir(l,N),w=a.useMemo(()=>R||S.Chip,[R,S.Chip]);a.useImperativeHandle(n,()=>({element:l.current,props:e})),a.useImperativeHandle(i,()=>n.current);const A=a.useCallback((s,p)=>{g&&n.current&&g.call(void 0,{value:s,target:n.current,syntheticEvent:p})},[g]),[L,B]=te(b||E,{selection:k,state:b},A),_=a.useCallback((s,p)=>{C&&n.current&&C.call(void 0,{value:s,target:n.current,syntheticEvent:p})},[C]),[M,G]=ne(e.data||z,{state:e.data,valueField:f},_),I=a.useCallback((s,p)=>(s.push(p[f]),s),[f]),v=a.useMemo(()=>e.data||M,[e.data,M]),H=a.useMemo(()=>b||L,[b,L]),K=a.useMemo(()=>v.reduce(I,[]),[v,I]),P=a.useCallback(s=>o.getter(f)(s),[f]),$=a.useCallback(s=>o.getter(O)(s),[O]),[J,Q]=ae({items:K}),U=o.useMouse(e,n);return a.createElement(D.ChipListSelectionContext.Provider,{value:[H,B]},a.createElement(D.ChipListFocusContext.Provider,{value:[J,Q]},a.createElement(D.ChipListDataContext.Provider,{value:[v,G]},a.createElement("div",{ref:l,...U,role:y?void 0:"listbox",id:c,dir:F,style:h,tabIndex:o.getTabIndex(u,y,void 0),className:o.classNames("k-chip-list",{"k-rtl":F==="rtl","k-disabled":y,[`k-chip-list-${o.kendoThemeMaps.sizeMap[m]||m}`]:m},d),"aria-label":j,"aria-labelledby":T,"aria-describedby":q,"aria-orientation":"horizontal","aria-multiselectable":k==="multiple"},v.map((s,p)=>a.createElement(w,{role:"option",dataItem:s,size:m,key:[P(s),p].join("-"),text:$(s),value:P(s),ariaLabel:s.ariaLabel,svgIcon:s.svgIcon||void 0}))))))}),se={id:t.string,className:t.string,tabIndex:t.number,data:t.any,defaultData:t.arrayOf(t.any),onDataChange:t.func,value:t.oneOfType([t.any,t.arrayOf(t.any)]),defaultValue:t.oneOfType([t.any,t.arrayOf(t.any)]),onChange:t.func,selection:t.oneOf(["single","none","multiple"]),textField:t.string,valueField:t.string,disabled:t.bool,dir:t.oneOf(["ltr","rtl"]),ariaLabelledBy:t.string,ariaDescribedBy:t.string,size:t.oneOf([null,"small","medium","large"])},r={chip:S.Chip,size:"medium",disabled:!1,defaultValue:null,defaultData:[],dir:"ltr",selection:"none",textField:"text",valueField:"value",removable:"removable"};x.displayName="KendoReactChipList";x.propTypes=se;exports.ChipList=x;
